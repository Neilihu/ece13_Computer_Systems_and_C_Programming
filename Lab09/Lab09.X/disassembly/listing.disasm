Disassembly Listing for Lab09
Generated From:
D:/Cadence/SPB_Data/nehu/Lab09/Lab09.X/dist/default/debug/Lab09.X.debug.elf
Mar 3, 2022 9:08:57 AM

---  d:/cadence/spb_data/nehu/lab09/lab09.x/uart1.c  ----------------------------------------------------
1:                   #include "CircularBuffer.h"
2:                   #include "Uart1.h"
3:                   
4:                   //CSE13E Support Library
5:                   #include "BOARD.h"
6:                   
7:                   #include <xc.h>
8:                   #include <sys/attribs.h>
9:                   
10:                  static CircularBuffer uart1RxBuffer;
11:                  static uint8_t u1RxBuf[1024];
12:                  static CircularBuffer uart1TxBuffer;
13:                  static uint8_t u1TxBuf[1024];
14:                  
15:                  /*
16:                   * Private functions.
17:                   */
18:                  void Uart1StartTransmission(void);
19:                  
20:                  /**
21:                   * Initialization function for the UART_USED peripheral.
22:                   * Should be called in initialization code for the
23:                   * model. This function configures the UART
24:                   * for whatever baud rate is specified. It also configures two circular buffers
25:                   * for transmission and reception.
26:                   */
27:                  void Uart1Init(uint32_t baudRate)
28:                  {
29:                      // First initialize the necessary circular buffers.
30:                      CB_Init(&uart1RxBuffer, u1RxBuf, sizeof (u1RxBuf));
31:                      CB_Init(&uart1TxBuffer, u1TxBuf, sizeof (u1TxBuf));
32:                  
33:                  #ifdef PIC32MX
34:                      //the next few lines below are redundant with actions performed in BOARD_Init():
35:                      U1MODEbits.ON = 1; //turn on UART
36:                      U1STAbits.UTXEN = 1; //enable TX pin
37:                      U1STAbits.URXEN = 1; //enable RX oun
38:                  
39:                      // The FIFO mode here for transmission is not set to `*_TX_BUFFER_EMPTY` as that seems to fail
40:                      // with some characters dropped. This method, waiting until transmission is finished, is
41:                      // technically slower, but works quite nicely.
42:                      
43:                      U1STAbits.UTXISEL = 0b01; //interrupt when transmission is complete
44:                      U1STAbits.URXISEL = 0b00; //interrupt when RX is not empty (has at least 1 character)
45:                  
46:                  
47:                      // Configure UART interrupt for both RX and TX
48:                      IEC0bits.U1RXIE = 1; //enable RX interrupt
49:                      IEC0bits.U1TXIE = 1; //enable TX interrupt
50:                      IPC6bits.U1IP = 6; //set UART interrupt priority to 6
51:                      IPC6bits.U1IS = 0; //set interrupt subpriority to 0
52:                  #endif
53:                  }
54:                  
55:                  void Uart1ChangeBaudRate(uint16_t brgRegister)
56:                  {
57:                      uint8_t utxen = U1STAbits.UTXEN;
58:                  
59:                      // Disable the port;
60:                      U1MODEbits.UARTEN = 0;
61:                  
62:                      // Change the BRG register to set the new baud rate
63:                      U1BRG = brgRegister;
64:                  
65:                      // Enable the port restoring the previous transmission settings
66:                      U1MODEbits.UARTEN = 1;
67:                      U1STAbits.UTXEN = utxen;
68:                  }
69:                  
70:                  uint8_t Uart1HasData(void)
71:                  {
72:                      return (uart1RxBuffer.dataSize > 0);
73:                  }
74:                  
75:                  /**
76:                   * This function actually initiates transmission. It
77:                   * attempts to start transmission with the first element
78:                   * in the queue if transmission isn't already proceeding.
79:                   * Once transmission starts the interrupt handler will
80:                   * keep things moving from there. The buffer is checked
81:                   * for new data and the transmission buffer is checked that
82:                   * it has room for new data before attempting to transmit.
83:                   */
84:                  void Uart1StartTransmission(void)
85:                  {
86:                      while (uart1TxBuffer.dataSize > 0 && !U1STAbits.UTXBF) {
87:                          // A temporary variable is used here because writing directly into U1TXREG causes some weird issues.
88:                          uint8_t c;
89:                          CB_ReadByte(&uart1TxBuffer, &c);
90:                          U1TXREG = c;
91:                      }
92:                  }
93:                  
94:                  int Uart1ReadByte(uint8_t *datum)
95:                  {
96:                      return CB_ReadByte(&uart1RxBuffer, datum);
97:                  }
98:                  
99:                  /**
100:                  * This function supplements the uart1EnqueueData() function by also
101:                  * providing an interface that only enqueues a single byte.
102:                  */
103:                 void Uart1WriteByte(uint8_t datum)
104:                 {
105:                     CB_WriteByte(&uart1TxBuffer, datum);
106:                     Uart1StartTransmission();
107:                 }
108:                 
109:                 /**
110:                  * This function enqueues all bytes in the passed data character array according to the passed
111:                  * length.
112:                  */
113:                 int Uart1WriteData(const void *data, size_t length)
114:                 {
115:                     int success = CB_WriteMany(&uart1TxBuffer, data, length, FALSE);
116:                 
117:                     Uart1StartTransmission();
118:                 
119:                     return success;
120:                 }
121:                 
122:                 #ifdef PIC32MX
123:                 
124:                 void __ISR(_UART_1_VECTOR, ipl6auto) Uart1Interrupt(void)
125:                 {
126:                     // if receive flag is set, handle received character input
127:                     if (IFS0bits.U1RXIF) {
128:                         // Keep receiving new bytes while the buffer has data.
129:                         while (U1STAbits.URXDA == 1) {
130:                             CB_WriteByte(&uart1RxBuffer, (uint8_t) U1RXREG);
131:                         }
132:                 
133:                         // Clear buffer overflow bit if triggered
134:                         if (U1STAbits.OERR == 1) {
135:                             U1STAbits.OERR = 0;
136:                         }
137:                 
138:                         // Clear the interrupt flag
139:                         IFS0bits.U1RXIF = 0;
140:                     }
141:                 
142:                     // Handle transmission interrupt
143:                     if (IFS0bits.U1TXIF) {
144:                         Uart1StartTransmission();
145:                 
146:                         // Clear the interrupt flag
147:                         IFS0bits.U1TXIF = 0;
148:                     }
149:                 }
150:                 #endif
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D002898  27BDFFE8   ADDIU SP, SP, -24
9D00289C  AFBF0014   SW RA, 20(SP)
9D0028A0  AFBE0010   SW FP, 16(SP)
9D0028A4  03A0F025   OR FP, SP, ZERO
9D0028A8  AFC40018   SW A0, 24(FP)
9D0028AC  24060400   ADDIU A2, ZERO, 1024
9D0028B0  3C02A000   LUI V0, -24576
9D0028B4  2445043C   ADDIU A1, V0, 1084
9D0028B8  3C02A000   LUI V0, -24576
9D0028BC  2444042C   ADDIU A0, V0, 1068
9D0028C0  0F400000   JAL CB_Init
9D0028C4  00000000   NOP
9D0028C8  24060400   ADDIU A2, ZERO, 1024
9D0028CC  3C02A000   LUI V0, -24576
9D0028D0  2445084C   ADDIU A1, V0, 2124
9D0028D4  3C02A000   LUI V0, -24576
9D0028D8  2444083C   ADDIU A0, V0, 2108
9D0028DC  0F400000   JAL CB_Init
9D0028E0  00000000   NOP
9D0028E4  3C03BF80   LUI V1, -16512
9D0028E8  94626000   LHU V0, 24576(V1)
9D0028EC  24040001   ADDIU A0, ZERO, 1
9D0028F0  7C827BC4   INS V0, A0, 15, 1
9D0028F4  A4626000   SH V0, 24576(V1)
9D0028F8  3C03BF80   LUI V1, -16512
9D0028FC  8C626010   LW V0, 24592(V1)
9D002900  24040001   ADDIU A0, ZERO, 1
9D002904  7C825284   INS V0, A0, 10, 1
9D002908  AC626010   SW V0, 24592(V1)
9D00290C  3C03BF80   LUI V1, -16512
9D002910  8C626010   LW V0, 24592(V1)
9D002914  24040001   ADDIU A0, ZERO, 1
9D002918  7C826304   INS V0, A0, 12, 1
9D00291C  AC626010   SW V0, 24592(V1)
9D002920  3C03BF80   LUI V1, -16512
9D002924  8C626010   LW V0, 24592(V1)
9D002928  24040001   ADDIU A0, ZERO, 1
9D00292C  7C827B84   INS V0, A0, 14, 2
9D002930  AC626010   SW V0, 24592(V1)
9D002934  3C03BF80   LUI V1, -16512
9D002938  8C626010   LW V0, 24592(V1)
9D00293C  7C023984   INS V0, ZERO, 6, 2
9D002940  AC626010   SW V0, 24592(V1)
9D002944  3C03BF88   LUI V1, -16504
9D002948  8C621060   LW V0, 4192(V1)
9D00294C  24040001   ADDIU A0, ZERO, 1
9D002950  7C82DEC4   INS V0, A0, 27, 1
9D002954  AC621060   SW V0, 4192(V1)
9D002958  3C03BF88   LUI V1, -16504
9D00295C  8C621060   LW V0, 4192(V1)
9D002960  24040001   ADDIU A0, ZERO, 1
9D002964  7C82E704   INS V0, A0, 28, 1
9D002968  AC621060   SW V0, 4192(V1)
9D00296C  3C03BF88   LUI V1, -16504
9D002970  8C6210F0   LW V0, 4336(V1)
9D002974  24040006   ADDIU A0, ZERO, 6
9D002978  7C822084   INS V0, A0, 2, 3
9D00297C  AC6210F0   SW V0, 4336(V1)
9D002980  3C03BF88   LUI V1, -16504
9D002984  8C6210F0   LW V0, 4336(V1)
9D002988  7C020804   INS V0, ZERO, 0, 2
9D00298C  AC6210F0   SW V0, 4336(V1)
9D002990  00000000   NOP
9D002994  03C0E825   OR SP, FP, ZERO
9D002998  8FBF0014   LW RA, 20(SP)
9D00299C  8FBE0010   LW FP, 16(SP)
9D0029A0  27BD0018   ADDIU SP, SP, 24
9D0029A4  03E00008   JR RA
9D0029A8  00000000   NOP
9D0029AC  27BDFFF0   ADDIU SP, SP, -16
9D0029B0  AFBE000C   SW FP, 12(SP)
9D0029B4  03A0F025   OR FP, SP, ZERO
9D0029B8  00801025   OR V0, A0, ZERO
9D0029BC  A7C20010   SH V0, 16(FP)
9D0029C0  3C02BF80   LUI V0, -16512
9D0029C4  8C426010   LW V0, 24592(V0)
9D0029C8  7C420280   EXT V0, V0, 10, 1
9D0029CC  304200FF   ANDI V0, V0, 255
9D0029D0  A3C20000   SB V0, 0(FP)
9D0029D4  3C03BF80   LUI V1, -16512
9D0029D8  94626000   LHU V0, 24576(V1)
9D0029DC  7C027BC4   INS V0, ZERO, 15, 1
9D0029E0  A4626000   SH V0, 24576(V1)
9D0029E4  97C30010   LHU V1, 16(FP)
9D0029E8  3C02BF80   LUI V0, -16512
9D0029EC  AC436040   SW V1, 24640(V0)
9D0029F0  3C03BF80   LUI V1, -16512
9D0029F4  94626000   LHU V0, 24576(V1)
9D0029F8  24040001   ADDIU A0, ZERO, 1
9D0029FC  7C827BC4   INS V0, A0, 15, 1
9D002A00  A4626000   SH V0, 24576(V1)
9D002A04  93C20000   LBU V0, 0(FP)
9D002A08  30420001   ANDI V0, V0, 1
9D002A0C  304400FF   ANDI A0, V0, 255
9D002A10  3C03BF80   LUI V1, -16512
9D002A14  8C626010   LW V0, 24592(V1)
9D002A18  7C825284   INS V0, A0, 10, 1
9D002A1C  AC626010   SW V0, 24592(V1)
9D002A20  00000000   NOP
9D002A24  03C0E825   OR SP, FP, ZERO
9D002A28  8FBE000C   LW FP, 12(SP)
9D002A2C  27BD0010   ADDIU SP, SP, 16
9D002A30  03E00008   JR RA
9D002A34  00000000   NOP
9D002A38  27BDFFF8   ADDIU SP, SP, -8
9D002A3C  AFBE0004   SW FP, 4(SP)
9D002A40  03A0F025   OR FP, SP, ZERO
9D002A44  3C02A000   LUI V0, -24576
9D002A48  2442042C   ADDIU V0, V0, 1068
9D002A4C  94420006   LHU V0, 6(V0)
9D002A50  0002102B   SLTU V0, ZERO, V0
9D002A54  304200FF   ANDI V0, V0, 255
9D002A58  03C0E825   OR SP, FP, ZERO
9D002A5C  8FBE0004   LW FP, 4(SP)
9D002A60  27BD0008   ADDIU SP, SP, 8
9D002A64  03E00008   JR RA
9D002A68  00000000   NOP
9D002A6C  27BDFFE0   ADDIU SP, SP, -32
9D002A70  AFBF001C   SW RA, 28(SP)
9D002A74  AFBE0018   SW FP, 24(SP)
9D002A78  03A0F025   OR FP, SP, ZERO
9D002A7C  1000000B   BEQ ZERO, ZERO, 0x9D002AAC
9D002A80  00000000   NOP
9D002A84  27C20010   ADDIU V0, FP, 16
9D002A88  00402825   OR A1, V0, ZERO
9D002A8C  3C02A000   LUI V0, -24576
9D002A90  2444083C   ADDIU A0, V0, 2108
9D002A94  0F40003B   JAL CB_ReadByte
9D002A98  00000000   NOP
9D002A9C  93C20010   LBU V0, 16(FP)
9D002AA0  00401825   OR V1, V0, ZERO
9D002AA4  3C02BF80   LUI V0, -16512
9D002AA8  AC436020   SW V1, 24608(V0)
9D002AAC  3C02A000   LUI V0, -24576
9D002AB0  2442083C   ADDIU V0, V0, 2108
9D002AB4  94420006   LHU V0, 6(V0)
9D002AB8  10400007   BEQ V0, ZERO, 0x9D002AD8
9D002ABC  00000000   NOP
9D002AC0  3C02BF80   LUI V0, -16512
9D002AC4  8C426010   LW V0, 24592(V0)
9D002AC8  7C420240   EXT V0, V0, 9, 1
9D002ACC  304200FF   ANDI V0, V0, 255
9D002AD0  1040FFEC   BEQ V0, ZERO, 0x9D002A84
9D002AD4  00000000   NOP
9D002AD8  00000000   NOP
9D002ADC  03C0E825   OR SP, FP, ZERO
9D002AE0  8FBF001C   LW RA, 28(SP)
9D002AE4  8FBE0018   LW FP, 24(SP)
9D002AE8  27BD0020   ADDIU SP, SP, 32
9D002AEC  03E00008   JR RA
9D002AF0  00000000   NOP
9D002AF4  27BDFFE8   ADDIU SP, SP, -24
9D002AF8  AFBF0014   SW RA, 20(SP)
9D002AFC  AFBE0010   SW FP, 16(SP)
9D002B00  03A0F025   OR FP, SP, ZERO
9D002B04  AFC40018   SW A0, 24(FP)
9D002B08  8FC50018   LW A1, 24(FP)
9D002B0C  3C02A000   LUI V0, -24576
9D002B10  2444042C   ADDIU A0, V0, 1068
9D002B14  0F40003B   JAL CB_ReadByte
9D002B18  00000000   NOP
9D002B1C  03C0E825   OR SP, FP, ZERO
9D002B20  8FBF0014   LW RA, 20(SP)
9D002B24  8FBE0010   LW FP, 16(SP)
9D002B28  27BD0018   ADDIU SP, SP, 24
9D002B2C  03E00008   JR RA
9D002B30  00000000   NOP
9D002B34  27BDFFE8   ADDIU SP, SP, -24
9D002B38  AFBF0014   SW RA, 20(SP)
9D002B3C  AFBE0010   SW FP, 16(SP)
9D002B40  03A0F025   OR FP, SP, ZERO
9D002B44  00801025   OR V0, A0, ZERO
9D002B48  A3C20018   SB V0, 24(FP)
9D002B4C  93C20018   LBU V0, 24(FP)
9D002B50  00402825   OR A1, V0, ZERO
9D002B54  3C02A000   LUI V0, -24576
9D002B58  2444083C   ADDIU A0, V0, 2108
9D002B5C  0F4000D7   JAL CB_WriteByte
9D002B60  00000000   NOP
9D002B64  0F400A9B   JAL Uart1StartTransmission
9D002B68  00000000   NOP
9D002B6C  00000000   NOP
9D002B70  03C0E825   OR SP, FP, ZERO
9D002B74  8FBF0014   LW RA, 20(SP)
9D002B78  8FBE0010   LW FP, 16(SP)
9D002B7C  27BD0018   ADDIU SP, SP, 24
9D002B80  03E00008   JR RA
9D002B84  00000000   NOP
9D002B88  27BDFFE0   ADDIU SP, SP, -32
9D002B8C  AFBF001C   SW RA, 28(SP)
9D002B90  AFBE0018   SW FP, 24(SP)
9D002B94  03A0F025   OR FP, SP, ZERO
9D002B98  AFC40020   SW A0, 32(FP)
9D002B9C  AFC50024   SW A1, 36(FP)
9D002BA0  8FC20024   LW V0, 36(FP)
9D002BA4  3042FFFF   ANDI V0, V0, -1
9D002BA8  00003825   OR A3, ZERO, ZERO
9D002BAC  00403025   OR A2, V0, ZERO
9D002BB0  8FC50020   LW A1, 32(FP)
9D002BB4  3C02A000   LUI V0, -24576
9D002BB8  2444083C   ADDIU A0, V0, 2108
9D002BBC  0F400117   JAL CB_WriteMany
9D002BC0  00000000   NOP
9D002BC4  AFC20010   SW V0, 16(FP)
9D002BC8  0F400A9B   JAL Uart1StartTransmission
9D002BCC  00000000   NOP
9D002BD0  8FC20010   LW V0, 16(FP)
9D002BD4  03C0E825   OR SP, FP, ZERO
9D002BD8  8FBF001C   LW RA, 28(SP)
9D002BDC  8FBE0018   LW FP, 24(SP)
9D002BE0  27BD0020   ADDIU SP, SP, 32
9D002BE4  03E00008   JR RA
9D002BE8  00000000   NOP
9D002BEC  415DE800   RDPGPR SP, SP
9D002BF0  401B7000   MFC0 K1, EPC
9D002BF4  401A6002   MFC0 K0, SRSCtl
9D002BF8  27BDFF88   ADDIU SP, SP, -120
9D002BFC  AFBB0074   SW K1, 116(SP)
9D002C00  401B6000   MFC0 K1, Status
9D002C04  AFBA006C   SW K0, 108(SP)
9D002C08  AFBB0070   SW K1, 112(SP)
9D002C0C  7C1B7844   INS K1, ZERO, 1, 15
9D002C10  377B1800   ORI K1, K1, 6144
9D002C14  409B6000   MTC0 K1, Status
9D002C18  AFA3001C   SW V1, 28(SP)
9D002C1C  AFA20018   SW V0, 24(SP)
9D002C20  8FA3006C   LW V1, 108(SP)
9D002C24  3063000F   ANDI V1, V1, 15
9D002C28  14600012   BNE V1, ZERO, 0x9D002C74
9D002C2C  00000000   NOP
9D002C30  AFBF005C   SW RA, 92(SP)
9D002C34  AFBE0058   SW FP, 88(SP)
9D002C38  AFB90054   SW T9, 84(SP)
9D002C3C  AFB80050   SW T8, 80(SP)
9D002C40  AFAF004C   SW T7, 76(SP)
9D002C44  AFAE0048   SW T6, 72(SP)
9D002C48  AFAD0044   SW T5, 68(SP)
9D002C4C  AFAC0040   SW T4, 64(SP)
9D002C50  AFAB003C   SW T3, 60(SP)
9D002C54  AFAA0038   SW T2, 56(SP)
9D002C58  AFA90034   SW T1, 52(SP)
9D002C5C  AFA80030   SW T0, 48(SP)
9D002C60  AFA7002C   SW A3, 44(SP)
9D002C64  AFA60028   SW A2, 40(SP)
9D002C68  AFA50024   SW A1, 36(SP)
9D002C6C  AFA40020   SW A0, 32(SP)
9D002C70  AFA10014   SW AT, 20(SP)
9D002C74  00000000   NOP
9D002C78  00001012   MFLO V0
9D002C7C  AFA20064   SW V0, 100(SP)
9D002C80  00001810   MFHI V1
9D002C84  AFA30060   SW V1, 96(SP)
9D002C88  03A0F025   OR FP, SP, ZERO
9D002C8C  3C02BF88   LUI V0, -16504
9D002C90  8C421030   LW V0, 4144(V0)
9D002C94  7C4206C0   EXT V0, V0, 27, 1
9D002C98  304200FF   ANDI V0, V0, 255
9D002C9C  10400021   BEQ V0, ZERO, 0x9D002D24
9D002CA0  00000000   NOP
9D002CA4  10000009   BEQ ZERO, ZERO, 0x9D002CCC
9D002CA8  00000000   NOP
9D002CAC  3C02BF80   LUI V0, -16512
9D002CB0  8C426030   LW V0, 24624(V0)
9D002CB4  304200FF   ANDI V0, V0, 255
9D002CB8  00402825   OR A1, V0, ZERO
9D002CBC  3C02A000   LUI V0, -24576
9D002CC0  2444042C   ADDIU A0, V0, 1068
9D002CC4  0F4000D7   JAL CB_WriteByte
9D002CC8  00000000   NOP
9D002CCC  3C02BF80   LUI V0, -16512
9D002CD0  8C426010   LW V0, 24592(V0)
9D002CD4  7C420000   EXT V0, V0, 0, 1
9D002CD8  304300FF   ANDI V1, V0, 255
9D002CDC  24020001   ADDIU V0, ZERO, 1
9D002CE0  1062FFF2   BEQ V1, V0, 0x9D002CAC
9D002CE4  00000000   NOP
9D002CE8  3C02BF80   LUI V0, -16512
9D002CEC  8C426010   LW V0, 24592(V0)
9D002CF0  7C420040   EXT V0, V0, 1, 1
9D002CF4  304300FF   ANDI V1, V0, 255
9D002CF8  24020001   ADDIU V0, ZERO, 1
9D002CFC  14620005   BNE V1, V0, 0x9D002D14
9D002D00  00000000   NOP
9D002D04  3C03BF80   LUI V1, -16512
9D002D08  8C626010   LW V0, 24592(V1)
9D002D0C  7C020844   INS V0, ZERO, 1, 1
9D002D10  AC626010   SW V0, 24592(V1)
9D002D14  3C03BF88   LUI V1, -16504
9D002D18  8C621030   LW V0, 4144(V1)
9D002D1C  7C02DEC4   INS V0, ZERO, 27, 1
9D002D20  AC621030   SW V0, 4144(V1)
9D002D24  3C02BF88   LUI V0, -16504
9D002D28  8C421030   LW V0, 4144(V0)
9D002D2C  7C420700   EXT V0, V0, 28, 1
9D002D30  304200FF   ANDI V0, V0, 255
9D002D34  10400007   BEQ V0, ZERO, 0x9D002D54
9D002D38  00000000   NOP
9D002D3C  0F400A9B   JAL Uart1StartTransmission
9D002D40  00000000   NOP
9D002D44  3C03BF88   LUI V1, -16504
9D002D48  8C621030   LW V0, 4144(V1)
9D002D4C  7C02E704   INS V0, ZERO, 28, 1
9D002D50  AC621030   SW V0, 4144(V1)
9D002D54  00000000   NOP
9D002D58  03C0E825   OR SP, FP, ZERO
9D002D5C  8FA20064   LW V0, 100(SP)
9D002D60  00400013   MTLO V0
9D002D64  8FA30060   LW V1, 96(SP)
9D002D68  00600011   MTHI V1
9D002D6C  8FA2006C   LW V0, 108(SP)
9D002D70  3042000F   ANDI V0, V0, 15
9D002D74  14400014   BNE V0, ZERO, 0x9D002DC8
9D002D78  00000000   NOP
9D002D7C  8FBF005C   LW RA, 92(SP)
9D002D80  8FBE0058   LW FP, 88(SP)
9D002D84  8FB90054   LW T9, 84(SP)
9D002D88  8FB80050   LW T8, 80(SP)
9D002D8C  8FAF004C   LW T7, 76(SP)
9D002D90  8FAE0048   LW T6, 72(SP)
9D002D94  8FAD0044   LW T5, 68(SP)
9D002D98  8FAC0040   LW T4, 64(SP)
9D002D9C  8FAB003C   LW T3, 60(SP)
9D002DA0  8FAA0038   LW T2, 56(SP)
9D002DA4  8FA90034   LW T1, 52(SP)
9D002DA8  8FA80030   LW T0, 48(SP)
9D002DAC  8FA7002C   LW A3, 44(SP)
9D002DB0  8FA60028   LW A2, 40(SP)
9D002DB4  8FA50024   LW A1, 36(SP)
9D002DB8  8FA40020   LW A0, 32(SP)
9D002DBC  8FA3001C   LW V1, 28(SP)
9D002DC0  8FA20018   LW V0, 24(SP)
9D002DC4  8FA10014   LW AT, 20(SP)
9D002DC8  00000000   NOP
9D002DCC  41606000   DI ZERO
9D002DD0  000000C0   EHB
9D002DD4  8FBA0074   LW K0, 116(SP)
9D002DD8  8FBB0070   LW K1, 112(SP)
9D002DDC  409A7000   MTC0 K0, EPC
9D002DE0  8FBA006C   LW K0, 108(SP)
9D002DE4  27BD0078   ADDIU SP, SP, 120
9D002DE8  409A6002   MTC0 K0, SRSCtl
9D002DEC  41DDE800   WRPGPR SP, SP
9D002DF0  409B6000   MTC0 K1, Status
9D002DF4  42000018   ERET
---  d:/cadence/spb_data/nehu/lab09/lab09.x/oleddriver.c  -----------------------------------------------
1:                   #include <stdint.h>
2:                   
3:                   //CSE13E Support Library
4:                   #include "BOARD.h"
5:                   
6:                   #include <xc.h>
7:                   
8:                   
9:                   #include "OledDriver.h"
10:                  
11:                  #define SPI_CHANNEL SPI_CHANNEL2
12:                  
13:                  /**
14:                   * Constants for the various command values that can be sent to the OLED driver.
15:                   */
16:                  typedef enum {
17:                      OLED_COMMAND_SET_DISPLAY_LOWER_COLUMN_0 = 0x00,
18:                      OLED_COMMAND_SET_DISPLAY_UPPER_COLUMN_0 = 0x10,
19:                      OLED_COMMAND_SET_PAGE = 0x22,
20:                      OLED_COMMAND_SET_CHARGE_PUMP = 0x8D,
21:                      OLED_COMMAND_SET_SEGMENT_REMAP = 0xA1,
22:                      OLED_COMMAND_DISPLAY_NORMAL = 0xA6,
23:                      OLED_COMMAND_DISPLAY_INVERTED = 0xA7,
24:                      OLED_COMMAND_DISPLAY_OFF = 0xAE,
25:                      OLED_COMMAND_DISPLAY_ON = 0xAF,
26:                      OLED_COMMAND_SET_PRECHARGE_PERIOD = 0xD9,
27:                      OLED_COMMAND_SET_COM_PINS_CONFIG = 0xDA
28:                  } OledCommand;
29:                  
30:                  /**
31:                   * Store constants for all settings used with the OLED driver.
32:                   */
33:                  typedef enum {
34:                      OLED_SETTING_ENABLE_CHARGE_PUMP = 0x14,
35:                      OLED_SETTING_MAXIMUM_PRECHARGE = 0xF1,
36:                      OLED_SETTING_SEQUENTIAL_COM_NON_INTERLEAVED = 0x20,
37:                      OLED_SETTING_REVERSE_ROW_ORDERING = 0xC8
38:                  } OledSetting;
39:                  
40:                  #define OLED_DRIVER_PAGES 4
41:                  
42:                  /**
43:                   * This array is the off-screen frame buffer used for rendering.
44:                   * It isn't possible to read back from the OLED display device,
45:                   * so display data is rendered into this off-screen buffer and then
46:                   * copied to the display.
47:                   * @note Any time this is updated, An `OledDriverUpdateDisplay()` call must be performed.
48:                   */
49:                  uint8_t rgbOledBmp[OLED_DRIVER_BUFFER_SIZE];
50:                  
51:                  // Function prototypes for internal-use functions.
52:                  void OledPutBuffer(int size, uint8_t *buffer);
53:                  uint8_t Spi2Put(uint8_t bVal);
54:                  void DelayMs(unsigned int msec);
55:                  
56:                  /**
57:                   * Initialize the PIC32MX to communicate with the UG-23832HSWEG04 OLED display through the SSD1306
58:                   * display controller.
59:                   */
60:                  void OledHostInit(void)
61:                  {
62:                      // Open SPI2 as a master in 1-byte mode running at 10MHz.
63:                      // The peripheral bus is running at 10Mhz, and we want a 10MHz SPI bus clock.
64:                      int pbClkDiv = 20000000 / 10000000;
65:                      SPI2CON = 0; // reset and clear the SPI config register
66:                      SPI2CONbits.MSTEN = 1; // We are a Master
67:                      SPI2CONbits.CKP = 1; // Idle is high level
68:                      SPI2BRG = (pbClkDiv >> 1) - 1; // set the baud rate to the correct setting.
69:                      SPI2CONbits.ON = 1; // turn it on
70:                  
71:                  
72:                      // Set RF4-6 as digital outputs for controlling data/command selection, logic power, and display
73:                      // power. They're all initialized high beforehand, because that disables power.
74:                      OLED_DRIVER_CONTROLLER_POWER_PORT = 1;
75:                      OLED_DRIVER_OLED_POWER_PORT = 1;
76:                      OLED_DRIVER_MODE_PORT = 1;
77:                  
78:                      OLED_DRIVER_MODE_TRIS = 0;
79:                      OLED_DRIVER_CONTROLLER_POWER_TRIS = 0;
80:                      OLED_DRIVER_OLED_POWER_TRIS = 0;
81:                  
82:                      // Set RG9 as a digital output, tied to the reset pin on the SG1306 controller, low => reset.
83:                      OLED_DRIVER_RESET_PORT = 1;
84:                      OLED_DRIVER_RESET_TRIS = 0;
85:                  }
86:                  
87:                  /**
88:                   * Initialize the OLED display and driver circuitry.
89:                   */
90:                  void OledDriverInitDisplay(void)
91:                  {
92:                      // Set the OLED into command mode.
93:                      OLED_DRIVER_MODE_PORT = 0;
94:                  
95:                      // Power on the display logic, waiting 1ms for it to start up.
96:                      OLED_DRIVER_CONTROLLER_POWER_PORT = 0;
97:                      DelayMs(1);
98:                  
99:                      // Turn off the display.
100:                     Spi2Put(OLED_COMMAND_DISPLAY_OFF);
101:                 
102:                     // Toggle the reset pin.
103:                     OLED_DRIVER_RESET_PORT = 0;
104:                     DelayMs(1);
105:                     OLED_DRIVER_RESET_PORT = 1;
106:                 
107:                     // Enable the charge pump and
108:                     Spi2Put(OLED_COMMAND_SET_CHARGE_PUMP);
109:                     Spi2Put(OLED_SETTING_ENABLE_CHARGE_PUMP);
110:                     Spi2Put(OLED_COMMAND_SET_PRECHARGE_PERIOD);
111:                     Spi2Put(OLED_SETTING_MAXIMUM_PRECHARGE);
112:                 
113:                     // Power on the display, giving it 100ms to start up.
114:                     OLED_DRIVER_OLED_POWER_PORT = 0;
115:                 
116:                     DelayMs(100);
117:                 
118:                     // Invert row numbering so that (0,0) is upper-right.
119:                     Spi2Put(OLED_COMMAND_SET_SEGMENT_REMAP);
120:                     Spi2Put(OLED_SETTING_REVERSE_ROW_ORDERING);
121:                 
122:                     // Set sequential COM configuration with non-interleaved memory.
123:                     Spi2Put(OLED_COMMAND_SET_COM_PINS_CONFIG);
124:                     Spi2Put(OLED_SETTING_SEQUENTIAL_COM_NON_INTERLEAVED);
125:                 
126:                     // And turn on the display.
127:                     Spi2Put(OLED_COMMAND_DISPLAY_ON);
128:                 }
129:                 
130:                 /**
131:                  * Set the LCD to display pixel values as the opposite of how they are actually stored in NVRAM. So
132:                  * pixels set to black (0) will display as white, and pixels set to white (1) will display as black.
133:                  */
134:                 void OledDriverSetDisplayInverted(void)
135:                 {
136:                     // Set the OLED into command mode.
137:                     OLED_DRIVER_MODE_PORT = 0;
138:                 
139:                     Spi2Put(OLED_COMMAND_DISPLAY_INVERTED);
140:                 }
141:                 
142:                 /**
143:                  * Set the LCD to display pixel values normally, where a 1 indicates white and a 0 indicates black.
144:                  * This is the default operating mode of the LCD and the mode it starts up in.
145:                  */
146:                 void OledDriverSetDisplayNormal(void)
147:                 {
148:                     // Set the OLED into command mode.
149:                     OLED_DRIVER_MODE_PORT = 0;
150:                 
151:                     Spi2Put(OLED_COMMAND_DISPLAY_NORMAL);
152:                 }
153:                 
154:                 /**
155:                  * Disable the Oled display before power-off. This means powering it up, sending the display off
156:                  * command, and finally disabling Vbat.
157:                  */
158:                 void OledDriverDisableDisplay(void)
159:                 {
160:                     // Set the OLED into command mode.
161:                     OLED_DRIVER_MODE_PORT = 0;
162:                 
163:                     // Power on the OLED display logic, waiting for 1ms for it to start up.
164:                     OLED_DRIVER_CONTROLLER_POWER_PORT = 0;
165:                     DelayMs(1);
166:                 
167:                     // Send the display off command.
168:                     Spi2Put(OLED_COMMAND_DISPLAY_OFF);
169:                 
170:                     // And finally power off the display, giving it 100ms to do so.
171:                     OLED_DRIVER_CONTROLLER_POWER_PORT = 1;
172:                     DelayMs(100);
173:                 }
174:                 
175:                 /**
176:                  * Update the display with the contents of rgb0ledBmp.
177:                  */
178:                 void OledDriverUpdateDisplay(void)
179:                 {
180:                     uint8_t *pb = rgbOledBmp;
181:                     int page;
182:                     for (page = 0; page < OLED_DRIVER_PAGES; page++) {
183:                         // Set the LCD into command mode.
184:                         //        PORTClearBits(OLED_DRIVER_MODE_PORT, OLED_DRIVER_MODE_BIT);
185:                         OLED_DRIVER_MODE_PORT = 0;
186:                 
187:                         // Set the desired page.
188:                         Spi2Put(OLED_COMMAND_SET_PAGE);
189:                         Spi2Put(page);
190:                 
191:                         // Set the starting column back to the origin.
192:                         Spi2Put(OLED_COMMAND_SET_DISPLAY_LOWER_COLUMN_0);
193:                         Spi2Put(OLED_COMMAND_SET_DISPLAY_UPPER_COLUMN_0);
194:                 
195:                         // Return the LCD to data mode.
196:                         //        PORTSetBits(OLED_DRIVER_MODE_PORT, OLED_DRIVER_MODE_BIT);
197:                         OLED_DRIVER_MODE_PORT = 1;
198:                 
199:                         // Finally write this entire column to the OLED.
200:                         //		SpiChnPutS()
201:                         OledPutBuffer(OLED_DRIVER_PIXEL_COLUMNS, pb);
202:                         pb += OLED_DRIVER_PIXEL_COLUMNS;
203:                     }
204:                 }
205:                 
206:                 /**
207:                  * Write an entire array of uint8_ts over SPI2.
208:                  * @param size The number of uint8_ts to write.
209:                  * @param buffer The start of the uint8_t array to write.
210:                  */
211:                 void OledPutBuffer(int size, uint8_t *buffer)
212:                 {
213:                     uint8_t bTmp = 0;
214:                     int i = bTmp; //non ideal way of forcing Wall error to go away
215:                     for (i = 0; i < size; ++i) {
216:                         // Make sure the transmitter is ready
217:                         while (SPI2STATbits.SPITBE == 0);
218:                 
219:                         // Then transmit the desired uint8_t.
220:                         SPI2BUF = *buffer++;
221:                 
222:                         // And wait for a response. It's ignored, but we read it out of the buffer anyways to keep
223:                         // the buffer clear.
224:                         while (SPI2STATbits.SPIRBF == 0);
225:                         bTmp = SPI2BUF;
226:                     }
227:                 }
228:                 
229:                 /**
230:                  * Performs a blocking write of a single uint8_t over SPI2. The response uint8_t is returned.
231:                  * @param bVal The uint8_t to write over SPI.
232:                  * @return The response to the transmission.
233:                  */
234:                 uint8_t Spi2Put(uint8_t bVal)
235:                 {
236:                     // Make sure the transmitter is ready
237:                     while (SPI2STATbits.SPITBE == 0);
238:                 
239:                     // Then transmit the desired uint8_t.
240:                     SPI2BUF = bVal;
241:                 
242:                     // And wait for a response.
243:                     while (SPI2STATbits.SPIRBF == 0);
244:                 
245:                     // Before returning it.
246:                     uint8_t bRx = SPI2BUF;
247:                     return bRx;
248:                 }
249:                 
250:                 /**
251:                  * Block the processor for the desired number of milliseconds.
252:                  * @note Assumes processor frequency of 80Mhz.
253:                  * @param msec The number of milliseconds to block for.
254:                  */
255:                 void DelayMs(uint32_t msec)
256:                 {
257:                     uint32_t tWait, tStart, tCurrent;
258:                 
259:                     // Calculate the amount of wait time in terms of core processor frequency.
260:                     tWait = (80000000L / 2000) * msec;
261:                     asm volatile("mfc0   %0, $9" : "=r"(tStart));
262:                     tCurrent = tStart;
263:                     while ((tCurrent - tStart) < tWait) {
264:                         asm volatile("mfc0   %0, $9" : "=r"(tCurrent));
265:                     }// wait for the time to pass
266:                 }
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00179C  27BDFFF0   ADDIU SP, SP, -16
9D0017A0  AFBE000C   SW FP, 12(SP)
9D0017A4  03A0F025   OR FP, SP, ZERO
9D0017A8  24020002   ADDIU V0, ZERO, 2
9D0017AC  AFC20000   SW V0, 0(FP)
9D0017B0  3C02BF80   LUI V0, -16512
9D0017B4  AC405A00   SW ZERO, 23040(V0)
9D0017B8  3C03BF80   LUI V1, -16512
9D0017BC  8C625A00   LW V0, 23040(V1)
9D0017C0  24040001   ADDIU A0, ZERO, 1
9D0017C4  7C822944   INS V0, A0, 5, 1
9D0017C8  AC625A00   SW V0, 23040(V1)
9D0017CC  3C03BF80   LUI V1, -16512
9D0017D0  8C625A00   LW V0, 23040(V1)
9D0017D4  24040001   ADDIU A0, ZERO, 1
9D0017D8  7C823184   INS V0, A0, 6, 1
9D0017DC  AC625A00   SW V0, 23040(V1)
9D0017E0  8FC20000   LW V0, 0(FP)
9D0017E4  00021043   SRA V0, V0, 1
9D0017E8  2442FFFF   ADDIU V0, V0, -1
9D0017EC  00401825   OR V1, V0, ZERO
9D0017F0  3C02BF80   LUI V0, -16512
9D0017F4  AC435A30   SW V1, 23088(V0)
9D0017F8  3C03BF80   LUI V1, -16512
9D0017FC  8C625A00   LW V0, 23040(V1)
9D001800  24040001   ADDIU A0, ZERO, 1
9D001804  7C827BC4   INS V0, A0, 15, 1
9D001808  AC625A00   SW V0, 23040(V1)
9D00180C  3C03BF88   LUI V1, -16504
9D001810  90626150   LBU V0, 24912(V1)
9D001814  24040001   ADDIU A0, ZERO, 1
9D001818  7C823184   INS V0, A0, 6, 1
9D00181C  A0626150   SB V0, 24912(V1)
9D001820  3C03BF88   LUI V1, -16504
9D001824  90626150   LBU V0, 24912(V1)
9D001828  24040001   ADDIU A0, ZERO, 1
9D00182C  7C822944   INS V0, A0, 5, 1
9D001830  A0626150   SB V0, 24912(V1)
9D001834  3C03BF88   LUI V1, -16504
9D001838  90626150   LBU V0, 24912(V1)
9D00183C  24040001   ADDIU A0, ZERO, 1
9D001840  7C822104   INS V0, A0, 4, 1
9D001844  A0626150   SB V0, 24912(V1)
9D001848  3C03BF88   LUI V1, -16504
9D00184C  90626140   LBU V0, 24896(V1)
9D001850  7C022104   INS V0, ZERO, 4, 1
9D001854  A0626140   SB V0, 24896(V1)
9D001858  3C03BF88   LUI V1, -16504
9D00185C  90626140   LBU V0, 24896(V1)
9D001860  7C023184   INS V0, ZERO, 6, 1
9D001864  A0626140   SB V0, 24896(V1)
9D001868  3C03BF88   LUI V1, -16504
9D00186C  90626140   LBU V0, 24896(V1)
9D001870  7C022944   INS V0, ZERO, 5, 1
9D001874  A0626140   SB V0, 24896(V1)
9D001878  3C03BF88   LUI V1, -16504
9D00187C  94626190   LHU V0, 24976(V1)
9D001880  24040001   ADDIU A0, ZERO, 1
9D001884  7C824A44   INS V0, A0, 9, 1
9D001888  A4626190   SH V0, 24976(V1)
9D00188C  3C03BF88   LUI V1, -16504
9D001890  94626180   LHU V0, 24960(V1)
9D001894  7C024A44   INS V0, ZERO, 9, 1
9D001898  A4626180   SH V0, 24960(V1)
9D00189C  00000000   NOP
9D0018A0  03C0E825   OR SP, FP, ZERO
9D0018A4  8FBE000C   LW FP, 12(SP)
9D0018A8  27BD0010   ADDIU SP, SP, 16
9D0018AC  03E00008   JR RA
9D0018B0  00000000   NOP
9D0018B4  27BDFFE8   ADDIU SP, SP, -24
9D0018B8  AFBF0014   SW RA, 20(SP)
9D0018BC  AFBE0010   SW FP, 16(SP)
9D0018C0  03A0F025   OR FP, SP, ZERO
9D0018C4  3C03BF88   LUI V1, -16504
9D0018C8  90626150   LBU V0, 24912(V1)
9D0018CC  7C022104   INS V0, ZERO, 4, 1
9D0018D0  A0626150   SB V0, 24912(V1)
9D0018D4  3C03BF88   LUI V1, -16504
9D0018D8  90626150   LBU V0, 24912(V1)
9D0018DC  7C023184   INS V0, ZERO, 6, 1
9D0018E0  A0626150   SB V0, 24912(V1)
9D0018E4  24040001   ADDIU A0, ZERO, 1
9D0018E8  0F40073F   JAL DelayMs
9D0018EC  00000000   NOP
9D0018F0  240400AE   ADDIU A0, ZERO, 174
9D0018F4  0F400720   JAL Spi2Put
9D0018F8  00000000   NOP
9D0018FC  3C03BF88   LUI V1, -16504
9D001900  94626190   LHU V0, 24976(V1)
9D001904  7C024A44   INS V0, ZERO, 9, 1
9D001908  A4626190   SH V0, 24976(V1)
9D00190C  24040001   ADDIU A0, ZERO, 1
9D001910  0F40073F   JAL DelayMs
9D001914  00000000   NOP
9D001918  3C03BF88   LUI V1, -16504
9D00191C  94626190   LHU V0, 24976(V1)
9D001920  24040001   ADDIU A0, ZERO, 1
9D001924  7C824A44   INS V0, A0, 9, 1
9D001928  A4626190   SH V0, 24976(V1)
9D00192C  2404008D   ADDIU A0, ZERO, 141
9D001930  0F400720   JAL Spi2Put
9D001934  00000000   NOP
9D001938  24040014   ADDIU A0, ZERO, 20
9D00193C  0F400720   JAL Spi2Put
9D001940  00000000   NOP
9D001944  240400D9   ADDIU A0, ZERO, 217
9D001948  0F400720   JAL Spi2Put
9D00194C  00000000   NOP
9D001950  240400F1   ADDIU A0, ZERO, 241
9D001954  0F400720   JAL Spi2Put
9D001958  00000000   NOP
9D00195C  3C03BF88   LUI V1, -16504
9D001960  90626150   LBU V0, 24912(V1)
9D001964  7C022944   INS V0, ZERO, 5, 1
9D001968  A0626150   SB V0, 24912(V1)
9D00196C  24040064   ADDIU A0, ZERO, 100
9D001970  0F40073F   JAL DelayMs
9D001974  00000000   NOP
9D001978  240400A1   ADDIU A0, ZERO, 161
9D00197C  0F400720   JAL Spi2Put
9D001980  00000000   NOP
9D001984  240400C8   ADDIU A0, ZERO, 200
9D001988  0F400720   JAL Spi2Put
9D00198C  00000000   NOP
9D001990  240400DA   ADDIU A0, ZERO, 218
9D001994  0F400720   JAL Spi2Put
9D001998  00000000   NOP
9D00199C  24040020   ADDIU A0, ZERO, 32
9D0019A0  0F400720   JAL Spi2Put
9D0019A4  00000000   NOP
9D0019A8  240400AF   ADDIU A0, ZERO, 175
9D0019AC  0F400720   JAL Spi2Put
9D0019B0  00000000   NOP
9D0019B4  00000000   NOP
9D0019B8  03C0E825   OR SP, FP, ZERO
9D0019BC  8FBF0014   LW RA, 20(SP)
9D0019C0  8FBE0010   LW FP, 16(SP)
9D0019C4  27BD0018   ADDIU SP, SP, 24
9D0019C8  03E00008   JR RA
9D0019CC  00000000   NOP
9D0019D0  27BDFFE8   ADDIU SP, SP, -24
9D0019D4  AFBF0014   SW RA, 20(SP)
9D0019D8  AFBE0010   SW FP, 16(SP)
9D0019DC  03A0F025   OR FP, SP, ZERO
9D0019E0  3C03BF88   LUI V1, -16504
9D0019E4  90626150   LBU V0, 24912(V1)
9D0019E8  7C022104   INS V0, ZERO, 4, 1
9D0019EC  A0626150   SB V0, 24912(V1)
9D0019F0  240400A7   ADDIU A0, ZERO, 167
9D0019F4  0F400720   JAL Spi2Put
9D0019F8  00000000   NOP
9D0019FC  00000000   NOP
9D001A00  03C0E825   OR SP, FP, ZERO
9D001A04  8FBF0014   LW RA, 20(SP)
9D001A08  8FBE0010   LW FP, 16(SP)
9D001A0C  27BD0018   ADDIU SP, SP, 24
9D001A10  03E00008   JR RA
9D001A14  00000000   NOP
9D001A18  27BDFFE8   ADDIU SP, SP, -24
9D001A1C  AFBF0014   SW RA, 20(SP)
9D001A20  AFBE0010   SW FP, 16(SP)
9D001A24  03A0F025   OR FP, SP, ZERO
9D001A28  3C03BF88   LUI V1, -16504
9D001A2C  90626150   LBU V0, 24912(V1)
9D001A30  7C022104   INS V0, ZERO, 4, 1
9D001A34  A0626150   SB V0, 24912(V1)
9D001A38  240400A6   ADDIU A0, ZERO, 166
9D001A3C  0F400720   JAL Spi2Put
9D001A40  00000000   NOP
9D001A44  00000000   NOP
9D001A48  03C0E825   OR SP, FP, ZERO
9D001A4C  8FBF0014   LW RA, 20(SP)
9D001A50  8FBE0010   LW FP, 16(SP)
9D001A54  27BD0018   ADDIU SP, SP, 24
9D001A58  03E00008   JR RA
9D001A5C  00000000   NOP
9D001A60  27BDFFE8   ADDIU SP, SP, -24
9D001A64  AFBF0014   SW RA, 20(SP)
9D001A68  AFBE0010   SW FP, 16(SP)
9D001A6C  03A0F025   OR FP, SP, ZERO
9D001A70  3C03BF88   LUI V1, -16504
9D001A74  90626150   LBU V0, 24912(V1)
9D001A78  7C022104   INS V0, ZERO, 4, 1
9D001A7C  A0626150   SB V0, 24912(V1)
9D001A80  3C03BF88   LUI V1, -16504
9D001A84  90626150   LBU V0, 24912(V1)
9D001A88  7C023184   INS V0, ZERO, 6, 1
9D001A8C  A0626150   SB V0, 24912(V1)
9D001A90  24040001   ADDIU A0, ZERO, 1
9D001A94  0F40073F   JAL DelayMs
9D001A98  00000000   NOP
9D001A9C  240400AE   ADDIU A0, ZERO, 174
9D001AA0  0F400720   JAL Spi2Put
9D001AA4  00000000   NOP
9D001AA8  3C03BF88   LUI V1, -16504
9D001AAC  90626150   LBU V0, 24912(V1)
9D001AB0  24040001   ADDIU A0, ZERO, 1
9D001AB4  7C823184   INS V0, A0, 6, 1
9D001AB8  A0626150   SB V0, 24912(V1)
9D001ABC  24040064   ADDIU A0, ZERO, 100
9D001AC0  0F40073F   JAL DelayMs
9D001AC4  00000000   NOP
9D001AC8  00000000   NOP
9D001ACC  03C0E825   OR SP, FP, ZERO
9D001AD0  8FBF0014   LW RA, 20(SP)
9D001AD4  8FBE0010   LW FP, 16(SP)
9D001AD8  27BD0018   ADDIU SP, SP, 24
9D001ADC  03E00008   JR RA
9D001AE0  00000000   NOP
9D001AE4  27BDFFE0   ADDIU SP, SP, -32
9D001AE8  AFBF001C   SW RA, 28(SP)
9D001AEC  AFBE0018   SW FP, 24(SP)
9D001AF0  03A0F025   OR FP, SP, ZERO
9D001AF4  3C02A000   LUI V0, -24576
9D001AF8  2442022C   ADDIU V0, V0, 556
9D001AFC  AFC20010   SW V0, 16(FP)
9D001B00  AFC00014   SW ZERO, 20(FP)
9D001B04  10000022   BEQ ZERO, ZERO, 0x9D001B90
9D001B08  00000000   NOP
9D001B0C  3C03BF88   LUI V1, -16504
9D001B10  90626150   LBU V0, 24912(V1)
9D001B14  7C022104   INS V0, ZERO, 4, 1
9D001B18  A0626150   SB V0, 24912(V1)
9D001B1C  24040022   ADDIU A0, ZERO, 34
9D001B20  0F400720   JAL Spi2Put
9D001B24  00000000   NOP
9D001B28  8FC20014   LW V0, 20(FP)
9D001B2C  304200FF   ANDI V0, V0, 255
9D001B30  00402025   OR A0, V0, ZERO
9D001B34  0F400720   JAL Spi2Put
9D001B38  00000000   NOP
9D001B3C  00002025   OR A0, ZERO, ZERO
9D001B40  0F400720   JAL Spi2Put
9D001B44  00000000   NOP
9D001B48  24040010   ADDIU A0, ZERO, 16
9D001B4C  0F400720   JAL Spi2Put
9D001B50  00000000   NOP
9D001B54  3C03BF88   LUI V1, -16504
9D001B58  90626150   LBU V0, 24912(V1)
9D001B5C  24040001   ADDIU A0, ZERO, 1
9D001B60  7C822104   INS V0, A0, 4, 1
9D001B64  A0626150   SB V0, 24912(V1)
9D001B68  8FC50010   LW A1, 16(FP)
9D001B6C  24040080   ADDIU A0, ZERO, 128
9D001B70  0F4006EF   JAL OledPutBuffer
9D001B74  00000000   NOP
9D001B78  8FC20010   LW V0, 16(FP)
9D001B7C  24420080   ADDIU V0, V0, 128
9D001B80  AFC20010   SW V0, 16(FP)
9D001B84  8FC20014   LW V0, 20(FP)
9D001B88  24420001   ADDIU V0, V0, 1
9D001B8C  AFC20014   SW V0, 20(FP)
9D001B90  8FC20014   LW V0, 20(FP)
9D001B94  28420004   SLTI V0, V0, 4
9D001B98  1440FFDC   BNE V0, ZERO, 0x9D001B0C
9D001B9C  00000000   NOP
9D001BA0  00000000   NOP
9D001BA4  03C0E825   OR SP, FP, ZERO
9D001BA8  8FBF001C   LW RA, 28(SP)
9D001BAC  8FBE0018   LW FP, 24(SP)
9D001BB0  27BD0020   ADDIU SP, SP, 32
9D001BB4  03E00008   JR RA
9D001BB8  00000000   NOP
9D001BBC  27BDFFF0   ADDIU SP, SP, -16
9D001BC0  AFBE000C   SW FP, 12(SP)
9D001BC4  03A0F025   OR FP, SP, ZERO
9D001BC8  AFC40010   SW A0, 16(FP)
9D001BCC  AFC50014   SW A1, 20(FP)
9D001BD0  A3C00004   SB ZERO, 4(FP)
9D001BD4  93C20004   LBU V0, 4(FP)
9D001BD8  AFC20000   SW V0, 0(FP)
9D001BDC  AFC00000   SW ZERO, 0(FP)
9D001BE0  1000001C   BEQ ZERO, ZERO, 0x9D001C54
9D001BE4  00000000   NOP
9D001BE8  00000000   NOP
9D001BEC  3C02BF80   LUI V0, -16512
9D001BF0  8C425A10   LW V0, 23056(V0)
9D001BF4  7C4200C0   EXT V0, V0, 3, 1
9D001BF8  304200FF   ANDI V0, V0, 255
9D001BFC  1040FFFB   BEQ V0, ZERO, 0x9D001BEC
9D001C00  00000000   NOP
9D001C04  8FC20014   LW V0, 20(FP)
9D001C08  24430001   ADDIU V1, V0, 1
9D001C0C  AFC30014   SW V1, 20(FP)
9D001C10  90420000   LBU V0, 0(V0)
9D001C14  00401825   OR V1, V0, ZERO
9D001C18  3C02BF80   LUI V0, -16512
9D001C1C  AC435A20   SW V1, 23072(V0)
9D001C20  00000000   NOP
9D001C24  3C02BF80   LUI V0, -16512
9D001C28  8C425A10   LW V0, 23056(V0)
9D001C2C  7C420000   EXT V0, V0, 0, 1
9D001C30  304200FF   ANDI V0, V0, 255
9D001C34  1040FFFB   BEQ V0, ZERO, 0x9D001C24
9D001C38  00000000   NOP
9D001C3C  3C02BF80   LUI V0, -16512
9D001C40  8C425A20   LW V0, 23072(V0)
9D001C44  A3C20004   SB V0, 4(FP)
9D001C48  8FC20000   LW V0, 0(FP)
9D001C4C  24420001   ADDIU V0, V0, 1
9D001C50  AFC20000   SW V0, 0(FP)
9D001C54  8FC30000   LW V1, 0(FP)
9D001C58  8FC20010   LW V0, 16(FP)
9D001C5C  0062102A   SLT V0, V1, V0
9D001C60  1440FFE1   BNE V0, ZERO, 0x9D001BE8
9D001C64  00000000   NOP
9D001C68  00000000   NOP
9D001C6C  03C0E825   OR SP, FP, ZERO
9D001C70  8FBE000C   LW FP, 12(SP)
9D001C74  27BD0010   ADDIU SP, SP, 16
9D001C78  03E00008   JR RA
9D001C7C  00000000   NOP
9D001C80  27BDFFF0   ADDIU SP, SP, -16
9D001C84  AFBE000C   SW FP, 12(SP)
9D001C88  03A0F025   OR FP, SP, ZERO
9D001C8C  00801025   OR V0, A0, ZERO
9D001C90  A3C20010   SB V0, 16(FP)
9D001C94  00000000   NOP
9D001C98  3C02BF80   LUI V0, -16512
9D001C9C  8C425A10   LW V0, 23056(V0)
9D001CA0  7C4200C0   EXT V0, V0, 3, 1
9D001CA4  304200FF   ANDI V0, V0, 255
9D001CA8  1040FFFB   BEQ V0, ZERO, 0x9D001C98
9D001CAC  00000000   NOP
9D001CB0  93C30010   LBU V1, 16(FP)
9D001CB4  3C02BF80   LUI V0, -16512
9D001CB8  AC435A20   SW V1, 23072(V0)
9D001CBC  00000000   NOP
9D001CC0  3C02BF80   LUI V0, -16512
9D001CC4  8C425A10   LW V0, 23056(V0)
9D001CC8  7C420000   EXT V0, V0, 0, 1
9D001CCC  304200FF   ANDI V0, V0, 255
9D001CD0  1040FFFB   BEQ V0, ZERO, 0x9D001CC0
9D001CD4  00000000   NOP
9D001CD8  3C02BF80   LUI V0, -16512
9D001CDC  8C425A20   LW V0, 23072(V0)
9D001CE0  A3C20000   SB V0, 0(FP)
9D001CE4  93C20000   LBU V0, 0(FP)
9D001CE8  03C0E825   OR SP, FP, ZERO
9D001CEC  8FBE000C   LW FP, 12(SP)
9D001CF0  27BD0010   ADDIU SP, SP, 16
9D001CF4  03E00008   JR RA
9D001CF8  00000000   NOP
9D001CFC  27BDFFE8   ADDIU SP, SP, -24
9D001D00  AFBE0014   SW FP, 20(SP)
9D001D04  03A0F025   OR FP, SP, ZERO
9D001D08  AFC40018   SW A0, 24(FP)
9D001D0C  8FC30018   LW V1, 24(FP)
9D001D10  00601025   OR V0, V1, ZERO
9D001D14  00021080   SLL V0, V0, 2
9D001D18  00431021   ADDU V0, V0, V1
9D001D1C  000210C0   SLL V0, V0, 3
9D001D20  00431023   SUBU V0, V0, V1
9D001D24  00021100   SLL V0, V0, 4
9D001D28  00431021   ADDU V0, V0, V1
9D001D2C  00021180   SLL V0, V0, 6
9D001D30  AFC20004   SW V0, 4(FP)
9D001D34  40024800   MFC0 V0, Count
9D001D38  AFC20008   SW V0, 8(FP)
9D001D3C  8FC20008   LW V0, 8(FP)
9D001D40  AFC20000   SW V0, 0(FP)
9D001D44  10000003   BEQ ZERO, ZERO, 0x9D001D54
9D001D48  00000000   NOP
9D001D4C  40024800   MFC0 V0, Count
9D001D50  AFC20000   SW V0, 0(FP)
9D001D54  8FC30000   LW V1, 0(FP)
9D001D58  8FC20008   LW V0, 8(FP)
9D001D5C  00621023   SUBU V0, V1, V0
9D001D60  8FC30004   LW V1, 4(FP)
9D001D64  0043102B   SLTU V0, V0, V1
9D001D68  1440FFF8   BNE V0, ZERO, 0x9D001D4C
9D001D6C  00000000   NOP
9D001D70  00000000   NOP
9D001D74  03C0E825   OR SP, FP, ZERO
9D001D78  8FBE0014   LW FP, 20(SP)
9D001D7C  27BD0018   ADDIU SP, SP, 24
9D001D80  03E00008   JR RA
9D001D84  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/oled.c  -----------------------------------------------------
1:                   #include <stddef.h>
2:                   
3:                   
4:                   #ifdef __MPLAB_DEBUGGER_SIMULATOR
5:                   #include <stdio.h>
6:                   #endif
7:                   
8:                   #include "OledDriver.h"
9:                   #include "Oled.h"
10:                  #include "Ascii.h"
11:                  
12:                  // in simulator we do nothing with the hardware, printing instead
13:                  
14:                  void OledInit(void)
15:                  {
16:                  #ifndef __MPLAB_DEBUGGER_SIMULATOR
17:                      // First initialize the PIC32 to be able to talk over SPI to the OLED.
18:                      OledHostInit();
19:                  
20:                      // Now send initialization commands to the OLED.
21:                      OledDriverInitDisplay();
22:                  
23:                      // Clear the frame buffer by filling it with black pixels.
24:                      OledClear(OLED_COLOR_BLACK);
25:                  
26:                      // Finally update the screen, triggering a write of all black pixels to the screen.
27:                      OledUpdate();
28:                  #endif
29:                  }
30:                  
31:                  void OledSetPixel(int x, int y, OledColor color)
32:                  {
33:                  #ifndef __MPLAB_DEBUGGER_SIMULATOR
34:                      // Check for valid inputs before doing anything.
35:                      if (x >= OLED_DRIVER_PIXEL_COLUMNS || y >= OLED_DRIVER_PIXEL_ROWS || x < 0 || y < 0) {
36:                          return;
37:                      }
38:                  
39:                      // Map the x/y coordinates into a byte/bit index.
40:                      unsigned int index = ((y & 0xFFF8) << 4) + x;
41:                      unsigned int shift = y & 0x0007;
42:                  
43:                      // Now set the pixel to the proper color, doing nothing if an invalid color was specified.
44:                      if (color == OLED_COLOR_WHITE) {
45:                          rgbOledBmp[index] = rgbOledBmp[index] | (1 << shift);
46:                      } else if (color == OLED_COLOR_BLACK) {
47:                          rgbOledBmp[index] = rgbOledBmp[index] & ~(1 << shift);
48:                      } else {
49:                          return;
50:                      }
51:                  #endif
52:                  }
53:                  
54:                  int OledGetPixel(int x, int y)
55:                  {
56:                  #ifndef __MPLAB_DEBUGGER_SIMULATOR
57:                      // Check for valid inputs before doing anything.
58:                      if (x >= OLED_DRIVER_PIXEL_COLUMNS || y >= OLED_DRIVER_PIXEL_ROWS || x < 0 || y < 0) {
59:                          return OLED_COLOR_BLACK;
60:                      }
61:                  
62:                      // Map the x/y coordinates into a byte/bit index.
63:                      unsigned int index = ((y & 0xFFF8) << 4) + x;
64:                      unsigned int shift = y & 0x0007;
65:                  
66:                      // Now return the desired bit.
67:                      return (rgbOledBmp[index] >> shift) & 0x01;
68:                  #else
69:                      return OLED_COLOR_BLACK;
70:                  #endif
71:                  }
72:                  
73:                  //in simulator this is the same as putchar
74:                  
75:                  uint8_t OledDrawChar(int x, int y, char c)
76:                  {
77:                  #ifndef __MPLAB_DEBUGGER_SIMULATOR
78:                      if (x <= OLED_DRIVER_PIXEL_COLUMNS - ASCII_FONT_WIDTH && y <= OLED_DRIVER_PIXEL_ROWS - ASCII_FONT_HEIGHT) {
79:                          // We need to convert our signed char into an unsigned value to index into the ascii[] array.
80:                          int charIndex = (int) (unsigned char) c;
81:                  
82:                          // Now first determine the columns and rows of the OLED bits that need to be modified
83:                          int rowMin, rowMax, colMin, colMax;
84:                          rowMin = y / ASCII_FONT_HEIGHT;
85:                          int rowY = y % ASCII_FONT_HEIGHT;
86:                          rowMax = (y + ASCII_FONT_HEIGHT) / OLED_DRIVER_BUFFER_LINE_HEIGHT;
87:                          colMin = x;
88:                          colMax = x + ASCII_FONT_WIDTH;
89:                          {
90:                              // Generate a positive mask for where in the column the new symbol will be drawn.
91:                              int colMask = ((1 << ASCII_FONT_HEIGHT) - 1) << rowY;
92:                              int j;
93:                              for (j = 0; j < colMax - colMin; ++j) {
94:                                  int oledCol = colMin + j;
95:                                  uint8_t newCharCol = rgbOledBmp[rowMin * OLED_DRIVER_PIXEL_COLUMNS + oledCol] & ~colMask;
96:                                  // Make sure we always grab from the top part of the character.
97:                                  newCharCol |= (ascii[charIndex][j] & (colMask >> rowY)) << rowY;
98:                                  rgbOledBmp[rowMin * OLED_DRIVER_PIXEL_COLUMNS + oledCol] = newCharCol;
99:                              }
100:                         }
101:                         if (rowMax > rowMin) {
102:                             // Generate a positive mask for where in the column the new symbol will be drawn.
103:                             // Since we need the lower portion of the symbol, we recalculate its height.
104:                             int colMask = ((1 << ASCII_FONT_HEIGHT) - 1) >> (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY);
105:                             int j;
106:                             for (j = 0; j < colMax - colMin; ++j) {
107:                                 int oledCol = colMin + j;
108:                                 uint8_t newCharCol = rgbOledBmp[rowMax * OLED_DRIVER_PIXEL_COLUMNS + oledCol] & ~colMask;
109:                                 // Make sure we grab the proper part of the character from the font.
110:                                 newCharCol |= (ascii[charIndex][j] & (colMask << (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY))) >>
111:                                         (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY);
112:                                 rgbOledBmp[rowMax * OLED_DRIVER_PIXEL_COLUMNS + oledCol] = newCharCol;
113:                             }
114:                         }
115:                     }
116:                 #else
117:                     putchar(c);
118:                 #endif
119:                 
120:                     return FALSE;
121:                 }
122:                 
123:                 void OledDrawString(const char *string)
124:                 {
125:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
126:                     if (string == NULL) {
127:                         return;
128:                     }
129:                 
130:                     // Track the current line number we're in on the OLED. Valid values are [0, OLED_NUM_LINES).
131:                     int line = 0;
132:                 
133:                     // Track the current character we're writing to the OLED. Valid values are
134:                     // [0, OLED_CHARS_PER_LINE).
135:                     int column = 0;
136:                 
137:                     // Run through all characters. The maximum length can be the number of lines times the number
138:                     // of characters per line + three newlines.
139:                     int i;
140:                     for (i = 0; string[i] != '\0' && i < (OLED_NUM_LINES * OLED_CHARS_PER_LINE + 3); ++i) {
141:                         // Move the cursor to the next line if a newline character is encountered. This allows for
142:                         // early line ending.
143:                         if (string[i] == '\n') {
144:                             ++line;
145:                             column = 0;
146:                             continue;
147:                         } else {
148:                             // Reset to the start of the next line if we've hit the character limit of this line
149:                             // without seeing a newline.
150:                             if (column == OLED_CHARS_PER_LINE) {
151:                                 ++line;
152:                                 column = 0;
153:                             }
154:                 
155:                             // Now if we're < OLED_NUM_LINES and < OLED_CHARS_PER_LINE we can proceed. The second
156:                             // check is implicitly handled by the above if-statement that forces a newline after
157:                             // encountering a full line of characters.
158:                             if (line == OLED_NUM_LINES) {
159:                                 break;
160:                             }
161:                 
162:                             // Finally at this point, we can write characters to the OLED.
163:                             OledDrawChar(column * ASCII_FONT_WIDTH, line * ASCII_FONT_HEIGHT, string[i]);
164:                             ++column;
165:                         }
166:                     }
167:                 #else
168:                     printf("%s",string);
169:                 #endif
170:                 }
171:                 
172:                 void OledClear(OledColor p)
173:                 {
174:                     int i;
175:                     for (i = 0; i < OLED_DRIVER_BUFFER_SIZE; i++) {
176:                         if (p == OLED_COLOR_WHITE) {
177:                             rgbOledBmp[i] = 0xFF;
178:                         } else {
179:                             rgbOledBmp[i] = 0;
180:                         }
181:                     }
182:                 }
183:                 
184:                 void OledSetDisplayInverted(void)
185:                 {
186:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
187:                     OledDriverSetDisplayInverted();
188:                 #endif
189:                 }
190:                 
191:                 void OledSetDisplayNormal(void)
192:                 {
193:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
194:                     OledDriverSetDisplayNormal();
195:                 #endif
196:                 }
197:                 
198:                 void OledOn(void)
199:                 {
200:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
201:                     OledDriverInitDisplay();
202:                 #endif
203:                 }
204:                 
205:                 void OledOff(void)
206:                 {
207:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
208:                     OledDriverDisableDisplay();
209:                 #endif
210:                 }
211:                 
212:                 void OledUpdate(void)
213:                 {
214:                 #ifndef __MPLAB_DEBUGGER_SIMULATOR
215:                     OledDriverUpdateDisplay();
216:                 #endif
217:                 }
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D003CD8  27BDFFF8   ADDIU SP, SP, -8
9D003CDC  AFBE0004   SW FP, 4(SP)
9D003CE0  03A0F025   OR FP, SP, ZERO
9D003CE4  00000000   NOP
9D003CE8  03C0E825   OR SP, FP, ZERO
9D003CEC  8FBE0004   LW FP, 4(SP)
9D003CF0  27BD0008   ADDIU SP, SP, 8
9D003CF4  03E00008   JR RA
9D003CF8  00000000   NOP
9D003CFC  27BDFFF8   ADDIU SP, SP, -8
9D003D00  AFBE0004   SW FP, 4(SP)
9D003D04  03A0F025   OR FP, SP, ZERO
9D003D08  AFC40008   SW A0, 8(FP)
9D003D0C  AFC5000C   SW A1, 12(FP)
9D003D10  AFC60010   SW A2, 16(FP)
9D003D14  00000000   NOP
9D003D18  03C0E825   OR SP, FP, ZERO
9D003D1C  8FBE0004   LW FP, 4(SP)
9D003D20  27BD0008   ADDIU SP, SP, 8
9D003D24  03E00008   JR RA
9D003D28  00000000   NOP
9D003D2C  27BDFFF8   ADDIU SP, SP, -8
9D003D30  AFBE0004   SW FP, 4(SP)
9D003D34  03A0F025   OR FP, SP, ZERO
9D003D38  AFC40008   SW A0, 8(FP)
9D003D3C  AFC5000C   SW A1, 12(FP)
9D003D40  00001025   OR V0, ZERO, ZERO
9D003D44  03C0E825   OR SP, FP, ZERO
9D003D48  8FBE0004   LW FP, 4(SP)
9D003D4C  27BD0008   ADDIU SP, SP, 8
9D003D50  03E00008   JR RA
9D003D54  00000000   NOP
9D003D58  27BDFFE8   ADDIU SP, SP, -24
9D003D5C  AFBF0014   SW RA, 20(SP)
9D003D60  AFBE0010   SW FP, 16(SP)
9D003D64  03A0F025   OR FP, SP, ZERO
9D003D68  AFC40018   SW A0, 24(FP)
9D003D6C  AFC5001C   SW A1, 28(FP)
9D003D70  00C01025   OR V0, A2, ZERO
9D003D74  A3C20020   SB V0, 32(FP)
9D003D78  83C20020   LB V0, 32(FP)
9D003D7C  00402025   OR A0, V0, ZERO
9D003D80  0F401923   JAL putchar
9D003D84  00000000   NOP
9D003D88  00001025   OR V0, ZERO, ZERO
9D003D8C  03C0E825   OR SP, FP, ZERO
9D003D90  8FBF0014   LW RA, 20(SP)
9D003D94  8FBE0010   LW FP, 16(SP)
9D003D98  27BD0018   ADDIU SP, SP, 24
9D003D9C  03E00008   JR RA
9D003DA0  00000000   NOP
9D003DA4  27BDFFE8   ADDIU SP, SP, -24
9D003DA8  AFBF0014   SW RA, 20(SP)
9D003DAC  AFBE0010   SW FP, 16(SP)
9D003DB0  03A0F025   OR FP, SP, ZERO
9D003DB4  AFC40018   SW A0, 24(FP)
9D003DB8  8FC50018   LW A1, 24(FP)
9D003DBC  3C029D00   LUI V0, -25344
9D003DC0  244465D4   ADDIU A0, V0, 26068
9D003DC4  0F401874   JAL __wrap_printf, _printf_s, _dprintf_s
9D003DC8  00000000   NOP
9D003DCC  00000000   NOP
9D003DD0  03C0E825   OR SP, FP, ZERO
9D003DD4  8FBF0014   LW RA, 20(SP)
9D003DD8  8FBE0010   LW FP, 16(SP)
9D003DDC  27BD0018   ADDIU SP, SP, 24
9D003DE0  03E00008   JR RA
9D003DE4  00000000   NOP
9D003DE8  27BDFFF0   ADDIU SP, SP, -16
9D003DEC  AFBE000C   SW FP, 12(SP)
9D003DF0  03A0F025   OR FP, SP, ZERO
9D003DF4  AFC40010   SW A0, 16(FP)
9D003DF8  AFC00000   SW ZERO, 0(FP)
9D003DFC  10000015   BEQ ZERO, ZERO, 0x9D003E54
9D003E00  00000000   NOP
9D003E04  8FC30010   LW V1, 16(FP)
9D003E08  24020001   ADDIU V0, ZERO, 1
9D003E0C  14620009   BNE V1, V0, 0x9D003E34
9D003E10  00000000   NOP
9D003E14  3C02A000   LUI V0, -24576
9D003E18  2443022C   ADDIU V1, V0, 556
9D003E1C  8FC20000   LW V0, 0(FP)
9D003E20  00621021   ADDU V0, V1, V0
9D003E24  2403FFFF   ADDIU V1, ZERO, -1
9D003E28  A0430000   SB V1, 0(V0)
9D003E2C  10000006   BEQ ZERO, ZERO, 0x9D003E48
9D003E30  00000000   NOP
9D003E34  3C02A000   LUI V0, -24576
9D003E38  2443022C   ADDIU V1, V0, 556
9D003E3C  8FC20000   LW V0, 0(FP)
9D003E40  00621021   ADDU V0, V1, V0
9D003E44  A0400000   SB ZERO, 0(V0)
9D003E48  8FC20000   LW V0, 0(FP)
9D003E4C  24420001   ADDIU V0, V0, 1
9D003E50  AFC20000   SW V0, 0(FP)
9D003E54  8FC20000   LW V0, 0(FP)
9D003E58  28420200   SLTI V0, V0, 512
9D003E5C  1440FFE9   BNE V0, ZERO, 0x9D003E04
9D003E60  00000000   NOP
9D003E64  00000000   NOP
9D003E68  03C0E825   OR SP, FP, ZERO
9D003E6C  8FBE000C   LW FP, 12(SP)
9D003E70  27BD0010   ADDIU SP, SP, 16
9D003E74  03E00008   JR RA
9D003E78  00000000   NOP
9D003E7C  27BDFFF8   ADDIU SP, SP, -8
9D003E80  AFBE0004   SW FP, 4(SP)
9D003E84  03A0F025   OR FP, SP, ZERO
9D003E88  00000000   NOP
9D003E8C  03C0E825   OR SP, FP, ZERO
9D003E90  8FBE0004   LW FP, 4(SP)
9D003E94  27BD0008   ADDIU SP, SP, 8
9D003E98  03E00008   JR RA
9D003E9C  00000000   NOP
9D003EA0  27BDFFF8   ADDIU SP, SP, -8
9D003EA4  AFBE0004   SW FP, 4(SP)
9D003EA8  03A0F025   OR FP, SP, ZERO
9D003EAC  00000000   NOP
9D003EB0  03C0E825   OR SP, FP, ZERO
9D003EB4  8FBE0004   LW FP, 4(SP)
9D003EB8  27BD0008   ADDIU SP, SP, 8
9D003EBC  03E00008   JR RA
9D003EC0  00000000   NOP
9D003EC4  27BDFFF8   ADDIU SP, SP, -8
9D003EC8  AFBE0004   SW FP, 4(SP)
9D003ECC  03A0F025   OR FP, SP, ZERO
9D003ED0  00000000   NOP
9D003ED4  03C0E825   OR SP, FP, ZERO
9D003ED8  8FBE0004   LW FP, 4(SP)
9D003EDC  27BD0008   ADDIU SP, SP, 8
9D003EE0  03E00008   JR RA
9D003EE4  00000000   NOP
9D003EE8  27BDFFF8   ADDIU SP, SP, -8
9D003EEC  AFBE0004   SW FP, 4(SP)
9D003EF0  03A0F025   OR FP, SP, ZERO
9D003EF4  00000000   NOP
9D003EF8  03C0E825   OR SP, FP, ZERO
9D003EFC  8FBE0004   LW FP, 4(SP)
9D003F00  27BD0008   ADDIU SP, SP, 8
9D003F04  03E00008   JR RA
9D003F08  00000000   NOP
9D003F0C  27BDFFF8   ADDIU SP, SP, -8
9D003F10  AFBE0004   SW FP, 4(SP)
9D003F14  03A0F025   OR FP, SP, ZERO
9D003F18  00000000   NOP
9D003F1C  03C0E825   OR SP, FP, ZERO
9D003F20  8FBE0004   LW FP, 4(SP)
9D003F24  27BD0008   ADDIU SP, SP, 8
9D003F28  03E00008   JR RA
9D003F2C  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/messagetest.c  ----------------------------------------------
1:                   /* 
2:                    * File:   MessageTest.c
3:                    * Author: ????
4:                    *
5:                    * Created on March 3, 2022, 8:54 AM
6:                    */
7:                   
8:                   #include <stdio.h>
9:                   #include <stdlib.h>
10:                  #include "Message.h"
11:                  
12:                  
13:                  /*
14:                   * 
15:                   */
16:                  int main(int argc, char** argv)
17:                  {
18:                      //Message_ParseMessage check
19:                      char *payload="CHA,12345", *check="57";
20:                      BB_Event * message_event;
21:                      printf("%d\n",Message_ParseMessage(payload, check, message_event));
22:                      
23:                      
24:                      return (EXIT_SUCCESS);
25:                  }
26:                  
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005A18  27BDFFD8   ADDIU SP, SP, -40
9D005A1C  AFBF0024   SW RA, 36(SP)
9D005A20  AFBE0020   SW FP, 32(SP)
9D005A24  03A0F025   OR FP, SP, ZERO
9D005A28  AFC40028   SW A0, 40(FP)
9D005A2C  AFC5002C   SW A1, 44(FP)
9D005A30  3C029D00   LUI V0, -25344
9D005A34  24426620   ADDIU V0, V0, 26144
9D005A38  AFC20010   SW V0, 16(FP)
9D005A3C  3C029D00   LUI V0, -25344
9D005A40  2442662C   ADDIU V0, V0, 26156
9D005A44  AFC20014   SW V0, 20(FP)
9D005A48  8FC60018   LW A2, 24(FP)
9D005A4C  8FC50014   LW A1, 20(FP)
9D005A50  8FC40010   LW A0, 16(FP)
9D005A54  0F40027C   JAL Message_ParseMessage
9D005A58  00000000   NOP
9D005A5C  00402825   OR A1, V0, ZERO
9D005A60  3C029D00   LUI V0, -25344
9D005A64  24446630   ADDIU A0, V0, 26160
9D005A68  0F401856   JAL __wrap_printf, _printf_cdnopuxX, _dprintf_cdnopuxX
9D005A6C  00000000   NOP
9D005A70  00001025   OR V0, ZERO, ZERO
9D005A74  03C0E825   OR SP, FP, ZERO
9D005A78  8FBF0024   LW RA, 36(SP)
9D005A7C  8FBE0020   LW FP, 32(SP)
9D005A80  27BD0028   ADDIU SP, SP, 40
9D005A84  03E00008   JR RA
9D005A88  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/message.c  --------------------------------------------------
1:                   /*
2:                    *Neili Hu nehu 1752639
3:                    *
4:                    */
5:                   #include <stdio.h>
6:                   #include <stdlib.h>
7:                   #include <string.h>
8:                   #include "Message.h"
9:                   #include "BOARD.h"
10:                  
11:                  static char payload2[MESSAGE_MAX_PAYLOAD_LEN], checksum2[MESSAGE_CHECKSUM_LEN];
12:                  static int data = -1, record_pay = 0, record_che = 0;
13:                  
14:                  uint8_t Message_CalculateChecksum(const char* payload)
15:                  {
16:                      int l = 0, i = 0, j = strlen(payload);
17:                  
18:                      if (j < 5) {
19:                          return 0;
20:                      } else {
21:                          for (; i < j; i++) {
22:                              l = l^payload[i];
23:                          }
24:                          return l;
25:                      }
26:                  
27:                  }
28:                  
29:                  int Message_ParseMessage(const char* payload,
30:                          const char* checksum_string, BB_Event * message_event)
31:                  {
32:                      char *i = "", *j="";
33:                      int c = 0;
34:                  
35:                      if (strlen(checksum_string) == 2) {
36:                          if (atoi(checksum_string) == Message_CalculateChecksum(payload)) {
37:                              for (; c < 3; c++) {
38:                                  i[c] = payload[c];
39:                              }
40:                              if (i == "CHA"){
41:                                  message_event->type = BB_EVENT_CHA_RECEIVED;
42:                                  message_event->param0 = atoi(strncpy(j, payload+3, 5));
43:                                  return SUCCESS;
44:                              } else if (i == "ACC") {
45:                                  message_event->type = BB_EVENT_ACC_RECEIVED;
46:                                  message_event->param0 = atoi(strncpy(j, payload+3, 5));
47:                                  return SUCCESS;
48:                              } else if (i == "REV") {
49:                                  message_event->type = BB_EVENT_REV_RECEIVED;
50:                                  message_event->param0 = atoi(strncpy(j, payload+3, 5));
51:                                  return SUCCESS;
52:                              } else if (i == "SHO") {
53:                                  message_event->type = BB_EVENT_SHO_RECEIVED;
54:                                  message_event->param0 = payload[4];
55:                                  message_event->param1 = payload[6];
56:                                  return SUCCESS;
57:                              } else if (i == "RES") {
58:                                  message_event->type = BB_EVENT_RES_RECEIVED;
59:                                  message_event->param0 = payload[4];
60:                                  message_event->param1 = payload[6];
61:                                  message_event->param2 = payload[8];
62:                                  return SUCCESS;
63:                              } else {
64:                                  message_event->type = BB_EVENT_ERROR;
65:                                  return STANDARD_ERROR;
66:                              }
67:                          } else {
68:                              message_event->type = BB_EVENT_ERROR;
69:                              return STANDARD_ERROR;
70:                          }
71:                      } else {
72:                          message_event->type = BB_EVENT_ERROR;
73:                          return STANDARD_ERROR;
74:                      }
75:                  }
76:                  
77:                  int Message_Encode(char *message_string, Message message_to_encode)
78:                  {
79:                      char i[MESSAGE_MAX_LEN];
80:                  
81:                      switch (message_to_encode.type) {
82:                      case MESSAGE_CHA:
83:                          sprintf(i, PAYLOAD_TEMPLATE_CHA, message_to_encode.param0);
84:                          return sprintf(message_string, MESSAGE_TEMPLATE, i, Message_CalculateChecksum(i));
85:                          break;
86:                      case MESSAGE_ACC:
87:                          sprintf(i, PAYLOAD_TEMPLATE_ACC, message_to_encode.param0);
88:                          return sprintf(message_string, MESSAGE_TEMPLATE, i, Message_CalculateChecksum(i));
89:                          break;
90:                      case MESSAGE_REV:
91:                          sprintf(i, PAYLOAD_TEMPLATE_REV, message_to_encode.param0);
92:                          return sprintf(message_string, MESSAGE_TEMPLATE, i, Message_CalculateChecksum(i));
93:                          break;
94:                      case MESSAGE_SHO:
95:                          sprintf(i, PAYLOAD_TEMPLATE_SHO, message_to_encode.param0, message_to_encode.param1);
96:                          return sprintf(message_string, MESSAGE_TEMPLATE, i, Message_CalculateChecksum(i));
97:                          break;
98:                      case MESSAGE_RES:
99:                          sprintf(i, PAYLOAD_TEMPLATE_RES, message_to_encode.param0,
100:                                 message_to_encode.param1, message_to_encode.param2);
101:                         return sprintf(message_string, MESSAGE_TEMPLATE, i, Message_CalculateChecksum(i));
102:                         break;
103:                     case MESSAGE_NONE:
104:                         return 0;
105:                     }
106:                 }
107:                 
108:                 int Message_Decode(unsigned char char_in, BB_Event * decoded_message_event)
109:                 {
110:                     if ((data == 0) && (char_in != '*')) {
111:                         if ((record_pay == MESSAGE_MAX_PAYLOAD_LEN) || (char_in == '$')) {
112:                             data = data + 10;
113:                             return STANDARD_ERROR;
114:                         } else {
115:                             payload2[record_pay] = char_in;
116:                         }
117:                         record_pay++;
118:                     } else if ((data == 1) && (char_in != '\n')) {
119:                         if ((record_che == MESSAGE_CHECKSUM_LEN) || ((char_in < '0' || char_in > '9')
120:                                 && (char_in < 'A' || char_in > 'Z'))) {
121:                             data = data + 10;
122:                             return STANDARD_ERROR;
123:                         } else {
124:                             checksum2[record_che] = char_in;
125:                             record_che++;
126:                         }
127:                     }
128:                 
129:                     if (char_in == '$') {
130:                         data++;
131:                     } else if (char_in == '*') {
132:                         data++;
133:                     } else if ((char_in == '\n') && data < 10) {
134:                         if (Message_ParseMessage(payload2, checksum2, decoded_message_event)) {
135:                             return SUCCESS;
136:                         } else {
137:                             return STANDARD_ERROR;
138:                         }
139:                         data == -1;
140:                         record_pay == 0;
141:                         record_che == 0;
142:                         memset(payload2, 0, MESSAGE_MAX_PAYLOAD_LEN);
143:                         memset(checksum2, 0, MESSAGE_CHECKSUM_LEN);
144:                     } else if ((char_in == '\n') && data >= 10) {
145:                         data == -1;
146:                         record_pay == 0;
147:                         record_che == 0;
148:                         memset(payload2, 0, MESSAGE_MAX_PAYLOAD_LEN);
149:                         memset(checksum2, 0, MESSAGE_CHECKSUM_LEN);
150:                     }
151:                 }
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D000948  27BDFFD8   ADDIU SP, SP, -40
9D00094C  AFBF0024   SW RA, 36(SP)
9D000950  AFBE0020   SW FP, 32(SP)
9D000954  03A0F025   OR FP, SP, ZERO
9D000958  AFC40028   SW A0, 40(FP)
9D00095C  AFC00010   SW ZERO, 16(FP)
9D000960  AFC00014   SW ZERO, 20(FP)
9D000964  8FC40028   LW A0, 40(FP)
9D000968  0F40118A   JAL strlen
9D00096C  00000000   NOP
9D000970  AFC20018   SW V0, 24(FP)
9D000974  8FC20018   LW V0, 24(FP)
9D000978  28420005   SLTI V0, V0, 5
9D00097C  1040000F   BEQ V0, ZERO, 0x9D0009BC
9D000980  00000000   NOP
9D000984  00001025   OR V0, ZERO, ZERO
9D000988  10000013   BEQ ZERO, ZERO, 0x9D0009D8
9D00098C  00000000   NOP
9D000990  8FC20014   LW V0, 20(FP)
9D000994  8FC30028   LW V1, 40(FP)
9D000998  00621021   ADDU V0, V1, V0
9D00099C  80420000   LB V0, 0(V0)
9D0009A0  00401825   OR V1, V0, ZERO
9D0009A4  8FC20010   LW V0, 16(FP)
9D0009A8  00431026   XOR V0, V0, V1
9D0009AC  AFC20010   SW V0, 16(FP)
9D0009B0  8FC20014   LW V0, 20(FP)
9D0009B4  24420001   ADDIU V0, V0, 1
9D0009B8  AFC20014   SW V0, 20(FP)
9D0009BC  8FC30014   LW V1, 20(FP)
9D0009C0  8FC20018   LW V0, 24(FP)
9D0009C4  0062102A   SLT V0, V1, V0
9D0009C8  1440FFF1   BNE V0, ZERO, 0x9D000990
9D0009CC  00000000   NOP
9D0009D0  8FC20010   LW V0, 16(FP)
9D0009D4  304200FF   ANDI V0, V0, 255
9D0009D8  03C0E825   OR SP, FP, ZERO
9D0009DC  8FBF0024   LW RA, 36(SP)
9D0009E0  8FBE0020   LW FP, 32(SP)
9D0009E4  27BD0028   ADDIU SP, SP, 40
9D0009E8  03E00008   JR RA
9D0009EC  00000000   NOP
9D0009F0  27BDFFD0   ADDIU SP, SP, -48
9D0009F4  AFBF002C   SW RA, 44(SP)
9D0009F8  AFBE0028   SW FP, 40(SP)
9D0009FC  AFB00024   SW S0, 36(SP)
9D000A00  03A0F025   OR FP, SP, ZERO
9D000A04  AFC40030   SW A0, 48(FP)
9D000A08  AFC50034   SW A1, 52(FP)
9D000A0C  AFC60038   SW A2, 56(FP)
9D000A10  3C029D00   LUI V0, -25344
9D000A14  24425DA8   ADDIU V0, V0, 23976
9D000A18  AFC20014   SW V0, 20(FP)
9D000A1C  3C029D00   LUI V0, -25344
9D000A20  24425DA8   ADDIU V0, V0, 23976
9D000A24  AFC20018   SW V0, 24(FP)
9D000A28  AFC00010   SW ZERO, 16(FP)
9D000A2C  8FC40034   LW A0, 52(FP)
9D000A30  0F40118A   JAL strlen
9D000A34  00000000   NOP
9D000A38  00401825   OR V1, V0, ZERO
9D000A3C  24020002   ADDIU V0, ZERO, 2
9D000A40  146200A3   BNE V1, V0, 0x9D000CD0
9D000A44  00000000   NOP
9D000A48  8FC40034   LW A0, 52(FP)
9D000A4C  0F401646   JAL atoi
9D000A50  00000000   NOP
9D000A54  00408025   OR S0, V0, ZERO
9D000A58  8FC40030   LW A0, 48(FP)
9D000A5C  0F400252   JAL Message_CalculateChecksum
9D000A60  00000000   NOP
9D000A64  16020094   BNE S0, V0, 0x9D000CB8
9D000A68  00000000   NOP
9D000A6C  1000000C   BEQ ZERO, ZERO, 0x9D000AA0
9D000A70  00000000   NOP
9D000A74  8FC20010   LW V0, 16(FP)
9D000A78  8FC30030   LW V1, 48(FP)
9D000A7C  00621821   ADDU V1, V1, V0
9D000A80  8FC20010   LW V0, 16(FP)
9D000A84  8FC40014   LW A0, 20(FP)
9D000A88  00821021   ADDU V0, A0, V0
9D000A8C  80630000   LB V1, 0(V1)
9D000A90  A0430000   SB V1, 0(V0)
9D000A94  8FC20010   LW V0, 16(FP)
9D000A98  24420001   ADDIU V0, V0, 1
9D000A9C  AFC20010   SW V0, 16(FP)
9D000AA0  8FC20010   LW V0, 16(FP)
9D000AA4  28420003   SLTI V0, V0, 3
9D000AA8  1440FFF2   BNE V0, ZERO, 0x9D000A74
9D000AAC  00000000   NOP
9D000AB0  8FC30014   LW V1, 20(FP)
9D000AB4  3C029D00   LUI V0, -25344
9D000AB8  24425DAC   ADDIU V0, V0, 23980
9D000ABC  14620014   BNE V1, V0, 0x9D000B10
9D000AC0  00000000   NOP
9D000AC4  8FC20038   LW V0, 56(FP)
9D000AC8  24030003   ADDIU V1, ZERO, 3
9D000ACC  AC430000   SW V1, 0(V0)
9D000AD0  8FC20030   LW V0, 48(FP)
9D000AD4  24420003   ADDIU V0, V0, 3
9D000AD8  24060005   ADDIU A2, ZERO, 5
9D000ADC  00402825   OR A1, V0, ZERO
9D000AE0  8FC40018   LW A0, 24(FP)
9D000AE4  0F401906   JAL strncpy
9D000AE8  00000000   NOP
9D000AEC  00402025   OR A0, V0, ZERO
9D000AF0  0F401646   JAL atoi
9D000AF4  00000000   NOP
9D000AF8  3043FFFF   ANDI V1, V0, -1
9D000AFC  8FC20038   LW V0, 56(FP)
9D000B00  A4430004   SH V1, 4(V0)
9D000B04  24020001   ADDIU V0, ZERO, 1
9D000B08  10000075   BEQ ZERO, ZERO, 0x9D000CE0
9D000B0C  00000000   NOP
9D000B10  8FC30014   LW V1, 20(FP)
9D000B14  3C029D00   LUI V0, -25344
9D000B18  24425DB0   ADDIU V0, V0, 23984
9D000B1C  14620014   BNE V1, V0, 0x9D000B70
9D000B20  00000000   NOP
9D000B24  8FC20038   LW V0, 56(FP)
9D000B28  24030004   ADDIU V1, ZERO, 4
9D000B2C  AC430000   SW V1, 0(V0)
9D000B30  8FC20030   LW V0, 48(FP)
9D000B34  24420003   ADDIU V0, V0, 3
9D000B38  24060005   ADDIU A2, ZERO, 5
9D000B3C  00402825   OR A1, V0, ZERO
9D000B40  8FC40018   LW A0, 24(FP)
9D000B44  0F401906   JAL strncpy
9D000B48  00000000   NOP
9D000B4C  00402025   OR A0, V0, ZERO
9D000B50  0F401646   JAL atoi
9D000B54  00000000   NOP
9D000B58  3043FFFF   ANDI V1, V0, -1
9D000B5C  8FC20038   LW V0, 56(FP)
9D000B60  A4430004   SH V1, 4(V0)
9D000B64  24020001   ADDIU V0, ZERO, 1
9D000B68  1000005D   BEQ ZERO, ZERO, 0x9D000CE0
9D000B6C  00000000   NOP
9D000B70  8FC30014   LW V1, 20(FP)
9D000B74  3C029D00   LUI V0, -25344
9D000B78  24425DB4   ADDIU V0, V0, 23988
9D000B7C  14620014   BNE V1, V0, 0x9D000BD0
9D000B80  00000000   NOP
9D000B84  8FC20038   LW V0, 56(FP)
9D000B88  24030005   ADDIU V1, ZERO, 5
9D000B8C  AC430000   SW V1, 0(V0)
9D000B90  8FC20030   LW V0, 48(FP)
9D000B94  24420003   ADDIU V0, V0, 3
9D000B98  24060005   ADDIU A2, ZERO, 5
9D000B9C  00402825   OR A1, V0, ZERO
9D000BA0  8FC40018   LW A0, 24(FP)
9D000BA4  0F401906   JAL strncpy
9D000BA8  00000000   NOP
9D000BAC  00402025   OR A0, V0, ZERO
9D000BB0  0F401646   JAL atoi
9D000BB4  00000000   NOP
9D000BB8  3043FFFF   ANDI V1, V0, -1
9D000BBC  8FC20038   LW V0, 56(FP)
9D000BC0  A4430004   SH V1, 4(V0)
9D000BC4  24020001   ADDIU V0, ZERO, 1
9D000BC8  10000045   BEQ ZERO, ZERO, 0x9D000CE0
9D000BCC  00000000   NOP
9D000BD0  8FC30014   LW V1, 20(FP)
9D000BD4  3C029D00   LUI V0, -25344
9D000BD8  24425DB8   ADDIU V0, V0, 23992
9D000BDC  14620013   BNE V1, V0, 0x9D000C2C
9D000BE0  00000000   NOP
9D000BE4  8FC20038   LW V0, 56(FP)
9D000BE8  24030006   ADDIU V1, ZERO, 6
9D000BEC  AC430000   SW V1, 0(V0)
9D000BF0  8FC20030   LW V0, 48(FP)
9D000BF4  24420004   ADDIU V0, V0, 4
9D000BF8  80420000   LB V0, 0(V0)
9D000BFC  3043FFFF   ANDI V1, V0, -1
9D000C00  8FC20038   LW V0, 56(FP)
9D000C04  A4430004   SH V1, 4(V0)
9D000C08  8FC20030   LW V0, 48(FP)
9D000C0C  24420006   ADDIU V0, V0, 6
9D000C10  80420000   LB V0, 0(V0)
9D000C14  3043FFFF   ANDI V1, V0, -1
9D000C18  8FC20038   LW V0, 56(FP)
9D000C1C  A4430006   SH V1, 6(V0)
9D000C20  24020001   ADDIU V0, ZERO, 1
9D000C24  1000002E   BEQ ZERO, ZERO, 0x9D000CE0
9D000C28  00000000   NOP
9D000C2C  8FC30014   LW V1, 20(FP)
9D000C30  3C029D00   LUI V0, -25344
9D000C34  24425DBC   ADDIU V0, V0, 23996
9D000C38  14620019   BNE V1, V0, 0x9D000CA0
9D000C3C  00000000   NOP
9D000C40  8FC20038   LW V0, 56(FP)
9D000C44  24030007   ADDIU V1, ZERO, 7
9D000C48  AC430000   SW V1, 0(V0)
9D000C4C  8FC20030   LW V0, 48(FP)
9D000C50  24420004   ADDIU V0, V0, 4
9D000C54  80420000   LB V0, 0(V0)
9D000C58  3043FFFF   ANDI V1, V0, -1
9D000C5C  8FC20038   LW V0, 56(FP)
9D000C60  A4430004   SH V1, 4(V0)
9D000C64  8FC20030   LW V0, 48(FP)
9D000C68  24420006   ADDIU V0, V0, 6
9D000C6C  80420000   LB V0, 0(V0)
9D000C70  3043FFFF   ANDI V1, V0, -1
9D000C74  8FC20038   LW V0, 56(FP)
9D000C78  A4430006   SH V1, 6(V0)
9D000C7C  8FC20030   LW V0, 48(FP)
9D000C80  24420008   ADDIU V0, V0, 8
9D000C84  80420000   LB V0, 0(V0)
9D000C88  3043FFFF   ANDI V1, V0, -1
9D000C8C  8FC20038   LW V0, 56(FP)
9D000C90  A4430008   SH V1, 8(V0)
9D000C94  24020001   ADDIU V0, ZERO, 1
9D000C98  10000011   BEQ ZERO, ZERO, 0x9D000CE0
9D000C9C  00000000   NOP
9D000CA0  8FC20038   LW V0, 56(FP)
9D000CA4  24030009   ADDIU V1, ZERO, 9
9D000CA8  AC430000   SW V1, 0(V0)
9D000CAC  00001025   OR V0, ZERO, ZERO
9D000CB0  1000000B   BEQ ZERO, ZERO, 0x9D000CE0
9D000CB4  00000000   NOP
9D000CB8  8FC20038   LW V0, 56(FP)
9D000CBC  24030009   ADDIU V1, ZERO, 9
9D000CC0  AC430000   SW V1, 0(V0)
9D000CC4  00001025   OR V0, ZERO, ZERO
9D000CC8  10000005   BEQ ZERO, ZERO, 0x9D000CE0
9D000CCC  00000000   NOP
9D000CD0  8FC20038   LW V0, 56(FP)
9D000CD4  24030009   ADDIU V1, ZERO, 9
9D000CD8  AC430000   SW V1, 0(V0)
9D000CDC  00001025   OR V0, ZERO, ZERO
9D000CE0  03C0E825   OR SP, FP, ZERO
9D000CE4  8FBF002C   LW RA, 44(SP)
9D000CE8  8FBE0028   LW FP, 40(SP)
9D000CEC  8FB00024   LW S0, 36(SP)
9D000CF0  27BD0030   ADDIU SP, SP, 48
9D000CF4  03E00008   JR RA
9D000CF8  00000000   NOP
9D000CFC  27BDFF88   ADDIU SP, SP, -120
9D000D00  AFBF0074   SW RA, 116(SP)
9D000D04  AFBE0070   SW FP, 112(SP)
9D000D08  03A0F025   OR FP, SP, ZERO
9D000D0C  AFC40078   SW A0, 120(FP)
9D000D10  AFC5007C   SW A1, 124(FP)
9D000D14  AFC60080   SW A2, 128(FP)
9D000D18  AFC70084   SW A3, 132(FP)
9D000D1C  8FC2007C   LW V0, 124(FP)
9D000D20  2C430006   SLTIU V1, V0, 6
9D000D24  10600085   BEQ V1, ZERO, 0x9D000F3C
9D000D28  00000000   NOP
9D000D2C  00021880   SLL V1, V0, 2
9D000D30  3C029D00   LUI V0, -25344
9D000D34  24420D48   ADDIU V0, V0, 3400
9D000D38  00621021   ADDU V0, V1, V0
9D000D3C  8C420000   LW V0, 0(V0)
9D000D40  00400008   JR V0
9D000D44  00000000   NOP
9D000D60  8FC20080   LW V0, 128(FP)
9D000D78  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000D7C  00000000   NOP
9D000D80  27C20018   ADDIU V0, FP, 24
9D000D84  00402025   OR A0, V0, ZERO
9D000D88  0F400252   JAL Message_CalculateChecksum
9D000D8C  00000000   NOP
9D000D90  00403825   OR A3, V0, ZERO
9D000D94  27C20018   ADDIU V0, FP, 24
9D000D98  00403025   OR A2, V0, ZERO
9D000D9C  3C029D00   LUI V0, -25344
9D000DA0  24455DC8   ADDIU A1, V0, 24008
9D000DA4  8FC40078   LW A0, 120(FP)
9D000DA8  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000DAC  00000000   NOP
9D000DB0  10000062   BEQ ZERO, ZERO, 0x9D000F3C
9D000DB4  00000000   NOP
9D000DB8  8FC20080   LW V0, 128(FP)
9D000DBC  00403025   OR A2, V0, ZERO
9D000DC0  3C029D00   LUI V0, -25344
9D000DC4  24455DD4   ADDIU A1, V0, 24020
9D000DC8  27C20018   ADDIU V0, FP, 24
9D000DCC  00402025   OR A0, V0, ZERO
9D000DD0  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000DD4  00000000   NOP
9D000DD8  27C20018   ADDIU V0, FP, 24
9D000DDC  00402025   OR A0, V0, ZERO
9D000DE0  0F400252   JAL Message_CalculateChecksum
9D000DE4  00000000   NOP
9D000DE8  00403825   OR A3, V0, ZERO
9D000DEC  27C20018   ADDIU V0, FP, 24
9D000DF0  00403025   OR A2, V0, ZERO
9D000DF4  3C029D00   LUI V0, -25344
9D000DF8  24455DC8   ADDIU A1, V0, 24008
9D000DFC  8FC40078   LW A0, 120(FP)
9D000E00  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000E04  00000000   NOP
9D000E08  1000004C   BEQ ZERO, ZERO, 0x9D000F3C
9D000E0C  00000000   NOP
9D000E10  8FC20080   LW V0, 128(FP)
9D000E14  00403025   OR A2, V0, ZERO
9D000E18  3C029D00   LUI V0, -25344
9D000E1C  24455DDC   ADDIU A1, V0, 24028
9D000E20  27C20018   ADDIU V0, FP, 24
9D000E24  00402025   OR A0, V0, ZERO
9D000E28  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000E2C  00000000   NOP
9D000E30  27C20018   ADDIU V0, FP, 24
9D000E34  00402025   OR A0, V0, ZERO
9D000E38  0F400252   JAL Message_CalculateChecksum
9D000E3C  00000000   NOP
9D000E40  00403825   OR A3, V0, ZERO
9D000E44  27C20018   ADDIU V0, FP, 24
9D000E48  00403025   OR A2, V0, ZERO
9D000E4C  3C029D00   LUI V0, -25344
9D000E50  24455DC8   ADDIU A1, V0, 24008
9D000E54  8FC40078   LW A0, 120(FP)
9D000E58  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000E5C  00000000   NOP
9D000E60  10000036   BEQ ZERO, ZERO, 0x9D000F3C
9D000E64  00000000   NOP
9D000E68  8FC20080   LW V0, 128(FP)
9D000E6C  8FC30084   LW V1, 132(FP)
9D000E70  00603825   OR A3, V1, ZERO
9D000E74  00403025   OR A2, V0, ZERO
9D000E78  3C029D00   LUI V0, -25344
9D000E7C  24455DE4   ADDIU A1, V0, 24036
9D000E80  27C20018   ADDIU V0, FP, 24
9D000E84  00402025   OR A0, V0, ZERO
9D000E88  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000E8C  00000000   NOP
9D000E90  27C20018   ADDIU V0, FP, 24
9D000E94  00402025   OR A0, V0, ZERO
9D000E98  0F400252   JAL Message_CalculateChecksum
9D000E9C  00000000   NOP
9D000EA0  00403825   OR A3, V0, ZERO
9D000EA4  27C20018   ADDIU V0, FP, 24
9D000EA8  00403025   OR A2, V0, ZERO
9D000EAC  3C029D00   LUI V0, -25344
9D000EB0  24455DC8   ADDIU A1, V0, 24008
9D000EB4  8FC40078   LW A0, 120(FP)
9D000EB8  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000EBC  00000000   NOP
9D000EC0  1000001E   BEQ ZERO, ZERO, 0x9D000F3C
9D000EC4  00000000   NOP
9D000EC8  8FC30080   LW V1, 128(FP)
9D000ECC  8FC40084   LW A0, 132(FP)
9D000ED0  8FC20088   LW V0, 136(FP)
9D000ED4  AFA20010   SW V0, 16(SP)
9D000ED8  00803825   OR A3, A0, ZERO
9D000EDC  00603025   OR A2, V1, ZERO
9D000EE0  3C029D00   LUI V0, -25344
9D000EE4  24455DF0   ADDIU A1, V0, 24048
9D000EE8  27C20018   ADDIU V0, FP, 24
9D000EEC  00402025   OR A0, V0, ZERO
9D000EF0  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000EF4  00000000   NOP
9D000EF8  27C20018   ADDIU V0, FP, 24
9D000EFC  00402025   OR A0, V0, ZERO
9D000F00  0F400252   JAL Message_CalculateChecksum
9D000F04  00000000   NOP
9D000F08  00403825   OR A3, V0, ZERO
9D000F0C  27C20018   ADDIU V0, FP, 24
9D000F10  00403025   OR A2, V0, ZERO
9D000F14  3C029D00   LUI V0, -25344
9D000F18  24455DC8   ADDIU A1, V0, 24008
9D000F1C  8FC40078   LW A0, 120(FP)
9D000F20  0F4018FC   JAL __wrap_sprintf, _dsprintf_cdnopsuxX, _sprintf_cdnopsuxX
9D000F24  00000000   NOP
9D000F28  10000004   BEQ ZERO, ZERO, 0x9D000F3C
9D000F2C  00000000   NOP
9D000F30  00001025   OR V0, ZERO, ZERO
9D000F34  10000001   BEQ ZERO, ZERO, 0x9D000F3C
9D000F38  00000000   NOP
9D000F3C  03C0E825   OR SP, FP, ZERO
9D000F40  8FBF0074   LW RA, 116(SP)
9D000F44  8FBE0070   LW FP, 112(SP)
9D000F48  27BD0078   ADDIU SP, SP, 120
9D000F4C  03E00008   JR RA
9D000F50  00000000   NOP
9D000F54  27BDFFE8   ADDIU SP, SP, -24
9D000F58  AFBF0014   SW RA, 20(SP)
9D000F5C  AFBE0010   SW FP, 16(SP)
9D000F60  03A0F025   OR FP, SP, ZERO
9D000F64  00801025   OR V0, A0, ZERO
9D000F68  AFC5001C   SW A1, 28(FP)
9D000F6C  A3C20018   SB V0, 24(FP)
9D000F70  8F828010   LW V0, -32752(GP)
9D000F74  1440001E   BNE V0, ZERO, 0x9D000FF0
9D000F78  00000000   NOP
9D000F7C  93C30018   LBU V1, 24(FP)
9D000F80  2402002A   ADDIU V0, ZERO, 42
9D000F84  1062001A   BEQ V1, V0, 0x9D000FF0
9D000F88  00000000   NOP
9D000F8C  8F83801C   LW V1, -32740(GP)
9D000F90  2402004D   ADDIU V0, ZERO, 77
9D000F94  10620005   BEQ V1, V0, 0x9D000FAC
9D000F98  00000000   NOP
9D000F9C  93C30018   LBU V1, 24(FP)
9D000FA0  24020024   ADDIU V0, ZERO, 36
9D000FA4  14620007   BNE V1, V0, 0x9D000FC4
9D000FA8  00000000   NOP
9D000FAC  8F828010   LW V0, -32752(GP)
9D000FB0  2442000A   ADDIU V0, V0, 10
9D000FB4  AF828010   SW V0, -32752(GP)
9D000FB8  00001025   OR V0, ZERO, ZERO
9D000FBC  10000071   BEQ ZERO, ZERO, 0x9D001184
9D000FC0  00000000   NOP
9D000FC4  8F84801C   LW A0, -32740(GP)
9D000FC8  83C30018   LB V1, 24(FP)
9D000FCC  3C02A000   LUI V0, -24576
9D000FD0  24420F20   ADDIU V0, V0, 3872
9D000FD4  00821021   ADDU V0, A0, V0
9D000FD8  A0430000   SB V1, 0(V0)
9D000FDC  8F82801C   LW V0, -32740(GP)
9D000FE0  24420001   ADDIU V0, V0, 1
9D000FE4  AF82801C   SW V0, -32740(GP)
9D000FE8  1000002B   BEQ ZERO, ZERO, 0x9D001098
9D000FEC  00000000   NOP
9D000FF0  8F838010   LW V1, -32752(GP)
9D000FF4  24020001   ADDIU V0, ZERO, 1
9D000FF8  14620027   BNE V1, V0, 0x9D001098
9D000FFC  00000000   NOP
9D001000  93C30018   LBU V1, 24(FP)
9D001004  2402000A   ADDIU V0, ZERO, 10
9D001008  10620023   BEQ V1, V0, 0x9D001098
9D00100C  00000000   NOP
9D001010  8F838020   LW V1, -32736(GP)
9D001014  24020002   ADDIU V0, ZERO, 2
9D001018  10620011   BEQ V1, V0, 0x9D001060
9D00101C  00000000   NOP
9D001020  93C20018   LBU V0, 24(FP)
9D001024  2C420030   SLTIU V0, V0, 48
9D001028  14400005   BNE V0, ZERO, 0x9D001040
9D00102C  00000000   NOP
9D001030  93C20018   LBU V0, 24(FP)
9D001034  2C42003A   SLTIU V0, V0, 58
9D001038  1440000F   BNE V0, ZERO, 0x9D001078
9D00103C  00000000   NOP
9D001040  93C20018   LBU V0, 24(FP)
9D001044  2C420041   SLTIU V0, V0, 65
9D001048  14400005   BNE V0, ZERO, 0x9D001060
9D00104C  00000000   NOP
9D001050  93C20018   LBU V0, 24(FP)
9D001054  2C42005B   SLTIU V0, V0, 91
9D001058  14400007   BNE V0, ZERO, 0x9D001078
9D00105C  00000000   NOP
9D001060  8F828010   LW V0, -32752(GP)
9D001064  2442000A   ADDIU V0, V0, 10
9D001068  AF828010   SW V0, -32752(GP)
9D00106C  00001025   OR V0, ZERO, ZERO
9D001070  10000044   BEQ ZERO, ZERO, 0x9D001184
9D001074  00000000   NOP
9D001078  8F848020   LW A0, -32736(GP)
9D00107C  83C30018   LB V1, 24(FP)
9D001080  27828018   ADDIU V0, GP, -32744
9D001084  00821021   ADDU V0, A0, V0
9D001088  A0430000   SB V1, 0(V0)
9D00108C  8F828020   LW V0, -32736(GP)
9D001090  24420001   ADDIU V0, V0, 1
9D001094  AF828020   SW V0, -32736(GP)
9D001098  93C30018   LBU V1, 24(FP)
9D00109C  24020024   ADDIU V0, ZERO, 36
9D0010A0  14620006   BNE V1, V0, 0x9D0010BC
9D0010A4  00000000   NOP
9D0010A8  8F828010   LW V0, -32752(GP)
9D0010AC  24420001   ADDIU V0, V0, 1
9D0010B0  AF828010   SW V0, -32752(GP)
9D0010B4  10000033   BEQ ZERO, ZERO, 0x9D001184
9D0010B8  00000000   NOP
9D0010BC  93C30018   LBU V1, 24(FP)
9D0010C0  2402002A   ADDIU V0, ZERO, 42
9D0010C4  14620006   BNE V1, V0, 0x9D0010E0
9D0010C8  00000000   NOP
9D0010CC  8F828010   LW V0, -32752(GP)
9D0010D0  24420001   ADDIU V0, V0, 1
9D0010D4  AF828010   SW V0, -32752(GP)
9D0010D8  1000002A   BEQ ZERO, ZERO, 0x9D001184
9D0010DC  00000000   NOP
9D0010E0  93C30018   LBU V1, 24(FP)
9D0010E4  2402000A   ADDIU V0, ZERO, 10
9D0010E8  14620013   BNE V1, V0, 0x9D001138
9D0010EC  00000000   NOP
9D0010F0  8F828010   LW V0, -32752(GP)
9D0010F4  2842000A   SLTI V0, V0, 10
9D0010F8  1040000F   BEQ V0, ZERO, 0x9D001138
9D0010FC  00000000   NOP
9D001100  8FC6001C   LW A2, 28(FP)
9D001104  27858018   ADDIU A1, GP, -32744
9D001108  3C02A000   LUI V0, -24576
9D00110C  24440F20   ADDIU A0, V0, 3872
9D001110  0F40027C   JAL Message_ParseMessage
9D001114  00000000   NOP
9D001118  10400004   BEQ V0, ZERO, 0x9D00112C
9D00111C  00000000   NOP
9D001120  24020001   ADDIU V0, ZERO, 1
9D001124  10000017   BEQ ZERO, ZERO, 0x9D001184
9D001128  00000000   NOP
9D00112C  00001025   OR V0, ZERO, ZERO
9D001130  10000014   BEQ ZERO, ZERO, 0x9D001184
9D001134  00000000   NOP
9D001138  93C30018   LBU V1, 24(FP)
9D00113C  2402000A   ADDIU V0, ZERO, 10
9D001140  14620010   BNE V1, V0, 0x9D001184
9D001144  00000000   NOP
9D001148  8F828010   LW V0, -32752(GP)
9D00114C  2842000A   SLTI V0, V0, 10
9D001150  1440000C   BNE V0, ZERO, 0x9D001184
9D001154  00000000   NOP
9D001158  2406004D   ADDIU A2, ZERO, 77
9D00115C  00002825   OR A1, ZERO, ZERO
9D001160  3C02A000   LUI V0, -24576
9D001164  24440F20   ADDIU A0, V0, 3872
9D001168  0F401564   JAL memset
9D00116C  00000000   NOP
9D001170  24060002   ADDIU A2, ZERO, 2
9D001174  00002825   OR A1, ZERO, ZERO
9D001178  27848018   ADDIU A0, GP, -32744
9D00117C  0F401564   JAL memset
9D001180  00000000   NOP
9D001184  03C0E825   OR SP, FP, ZERO
9D001188  8FBF0014   LW RA, 20(SP)
9D00118C  8FBE0010   LW FP, 16(SP)
9D001190  27BD0018   ADDIU SP, SP, 24
9D001194  03E00008   JR RA
9D001198  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/fieldoled.c  ------------------------------------------------
1:                   
2:                   
3:                   #include "Oled.h"
4:                   #include "OledDriver.h"
5:                   #include "Field.h"
6:                   #include "FieldOled.h"
7:                   #include "Ascii.h"
8:                   
9:                   #define FIELD_SYMBOL_WIDTH 3
10:                  #define FIELD_SYMBOL_HEIGHT 4
11:                  const uint8_t gridSymbols[10][FIELD_SYMBOL_WIDTH] = {
12:                      [FIELD_SQUARE_EMPTY] =
13:                      {
14:                          0b0000,
15:                          0b0000,
16:                          0b0000,
17:                      },
18:                      [FIELD_SQUARE_SMALL_BOAT] =
19:                      {
20:                          0b1001,
21:                          0b1011,
22:                          0b1111,
23:                      },
24:                      [FIELD_SQUARE_MEDIUM_BOAT] =
25:                      { // 
26:                          0b0111,
27:                          0b0100,
28:                          0b1111,
29:                      },
30:                      [FIELD_SQUARE_LARGE_BOAT] =
31:                      { // 
32:                          0b1011,
33:                          0b1011,
34:                          0b1101,
35:                      },
36:                      [FIELD_SQUARE_HUGE_BOAT] =
37:                      { // 
38:                          0b1111,
39:                          0b1101,
40:                          0b1101,
41:                      },
42:                      [FIELD_SQUARE_UNKNOWN] =
43:                      { // 
44:                          0b1111,
45:                          0b1111,
46:                          0b1111,
47:                      },
48:                      [FIELD_SQUARE_HIT] =
49:                      { // 
50:                          0b1001,
51:                          0b0110,
52:                          0b1001,
53:                      },
54:                      [FIELD_SQUARE_MISS] =
55:                      { // 
56:                          0b0000,
57:                          0b0110,
58:                          0b0000,
59:                      },
60:                  
61:                      [FIELD_SQUARE_CURSOR] =
62:                      { // 
63:                          0b1111,
64:                          0b1001,
65:                          0b1111,
66:                      },
67:                  
68:                      [FIELD_SQUARE_INVALID] =
69:                      { // 
70:                          0b1111,
71:                          0b1111,
72:                          0b1111,
73:                      }
74:                  };
75:                  
76:                  uint8_t _FieldOledDrawSymbol(int x, int y, SquareStatus s);
77:                  void _FieldOledDrawField(const Field *f, int xOffset);
78:                  
79:                  void FieldOledDrawScreen(const Field *myField, const Field *theirField,
80:                          FieldOledTurn playerTurn, uint8_t turn_number)
81:                  {
82:                  #ifndef __MPLAB_DEBUGGER_SIMULATOR
83:                      OledClear(OLED_COLOR_BLACK);
84:                      _FieldOledDrawField(myField, 0);
85:                      if (theirField) {
86:                          _FieldOledDrawField(theirField, 76);
87:                      } else {
88:                          OledUpdate();
89:                          return;
90:                      }
91:                  
92:                      //draw inner artwork
93:                      OledDrawChar(53, 1, 'P');
94:                      OledDrawChar(76 - ASCII_FONT_WIDTH - 1, 1, 'O');
95:                      if (playerTurn == FIELD_OLED_TURN_MINE) {
96:                          OledDrawChar(53, ASCII_FONT_HEIGHT + 1, '<');
97:                      } else if (playerTurn == FIELD_OLED_TURN_THEIRS) {
98:                          OledDrawChar(76 - ASCII_FONT_WIDTH - 1, ASCII_FONT_HEIGHT + 1, '>');
99:                      }
100:                 
101:                     //draw turn number:
102:                     int x;
103:                     x = 76 - ASCII_FONT_WIDTH * 2;
104:                     OledDrawChar(x, ASCII_FONT_HEIGHT * 3, turn_number % 10 + '0');
105:                     x -= ASCII_FONT_WIDTH;
106:                     turn_number /= 10;
107:                     OledDrawChar(x, ASCII_FONT_HEIGHT * 3, turn_number % 10 + '0');
108:                 
109:                     OledUpdate();
110:                 #endif
111:                 }
112:                 
113:                 /**
114:                  * Draw the given player's grid at the given x-coordinate.
115:                  */
116:                 void _FieldOledDrawField(const Field *f, int xOffset)
117:                 {
118:                     int i;
119:                     int finalCol = 10 * 5 + 2;
120:                 
121:                     int finalRowOffset = (OLED_DRIVER_PIXEL_ROWS / OLED_DRIVER_BUFFER_LINE_HEIGHT - 1) *
122:                             OLED_DRIVER_PIXEL_COLUMNS;
123:                 
124:                     // Draw the horizontal grid borders.
125:                     for (i = 0; i < finalCol; ++i) {
126:                         rgbOledBmp[xOffset + i] |= 1;
127:                         rgbOledBmp[finalRowOffset + xOffset + i] |= 0x80;
128:                     }
129:                     // Draw the vertical grid borders.
130:                     for (i = 0; i < OLED_DRIVER_PIXEL_ROWS / OLED_DRIVER_BUFFER_LINE_HEIGHT; ++i) {
131:                         rgbOledBmp[i * OLED_DRIVER_PIXEL_COLUMNS + xOffset + 0] = 0xFF;
132:                         rgbOledBmp[i * OLED_DRIVER_PIXEL_COLUMNS + xOffset + finalCol - 1] = 0xFF;
133:                     }
134:                 
135:                     // Draw each item in the grid.
136:                     int yOffset = 2;
137:                     xOffset += 1;
138:                     for (i = 0; i < FIELD_COLS; ++i) {
139:                         int j;
140:                         for (j = 0; j < FIELD_ROWS; ++j) {
141:                             _FieldOledDrawSymbol(xOffset + 1 + 5 * i, yOffset + 5 * j, f->grid[j][i]);
142:                         }
143:                     }
144:                 }
145:                 
146:                 /**
147:                  * Draw the desired symbol at the given x/y coordinates.
148:                  */
149:                 uint8_t _FieldOledDrawSymbol(int x, int y, SquareStatus s)
150:                 {
151:                     if (x < OLED_DRIVER_PIXEL_COLUMNS - FIELD_SYMBOL_WIDTH && y < OLED_DRIVER_PIXEL_ROWS - FIELD_SYMBOL_HEIGHT) {
152:                         // Now first determine the columns and rows of the OLED bits that need to be modified
153:                         int rowMin, rowMax, colMin, colMax;
154:                         rowMin = y / OLED_DRIVER_BUFFER_LINE_HEIGHT;
155:                         int rowY = y % OLED_DRIVER_BUFFER_LINE_HEIGHT;
156:                         rowMax = (y + FIELD_SYMBOL_HEIGHT) / OLED_DRIVER_BUFFER_LINE_HEIGHT;
157:                         colMin = x;
158:                         colMax = x + FIELD_SYMBOL_WIDTH;
159:                         {
160:                             // Generate a positive mask for where in the column the new symbol will be drawn.
161:                             int colMask = ((1 << FIELD_SYMBOL_HEIGHT) - 1) << rowY;
162:                             int j;
163:                             for (j = 0; j < colMax - colMin; ++j) {
164:                                 int oledCol = colMin + j;
165:                                 uint8_t newCharCol = rgbOledBmp[rowMin * OLED_DRIVER_PIXEL_COLUMNS + oledCol] & ~colMask;
166:                                 // Make sure we always grab from the top part of the character.
167:                                 newCharCol |= (gridSymbols[(int) s][j] & (colMask >> rowY)) << rowY;
168:                                 rgbOledBmp[rowMin * OLED_DRIVER_PIXEL_COLUMNS + oledCol] = newCharCol;
169:                             }
170:                         }
171:                         if (rowMax > rowMin) {
172:                             // Generate a positive mask for where in the column the new symbol will be drawn.
173:                             // Since we need the lower portion of the symbol, we recalculate its height.
174:                             int colMask = ((1 << FIELD_SYMBOL_HEIGHT) - 1) >> (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY);
175:                             int j;
176:                             for (j = 0; j < colMax - colMin; ++j) {
177:                                 int oledCol = colMin + j;
178:                                 uint8_t newCharCol = rgbOledBmp[rowMax * OLED_DRIVER_PIXEL_COLUMNS + oledCol] & ~colMask;
179:                                 // Make sure we grab the proper part of the character from the font.
180:                                 newCharCol |= (gridSymbols[(int) s][j] & (colMask << (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY))) >>
181:                                         (OLED_DRIVER_BUFFER_LINE_HEIGHT - rowY);
182:                                 rgbOledBmp[rowMax * OLED_DRIVER_PIXEL_COLUMNS + oledCol] = newCharCol;
183:                             }
184:                         }
185:                     }
186:                 
187:                     return FALSE;
188:                 }
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D001D88  27BDFFF8   ADDIU SP, SP, -8
9D001D8C  AFBE0004   SW FP, 4(SP)
9D001D90  03A0F025   OR FP, SP, ZERO
9D001D94  AFC40008   SW A0, 8(FP)
9D001D98  AFC5000C   SW A1, 12(FP)
9D001D9C  AFC60010   SW A2, 16(FP)
9D001DA0  00E01025   OR V0, A3, ZERO
9D001DA4  A3C20014   SB V0, 20(FP)
9D001DA8  00000000   NOP
9D001DAC  03C0E825   OR SP, FP, ZERO
9D001DB0  8FBE0004   LW FP, 4(SP)
9D001DB4  27BD0008   ADDIU SP, SP, 8
9D001DB8  03E00008   JR RA
9D001DBC  00000000   NOP
9D001DC0  27BDFFD0   ADDIU SP, SP, -48
9D001DC4  AFBF002C   SW RA, 44(SP)
9D001DC8  AFBE0028   SW FP, 40(SP)
9D001DCC  03A0F025   OR FP, SP, ZERO
9D001DD0  AFC40030   SW A0, 48(FP)
9D001DD4  AFC50034   SW A1, 52(FP)
9D001DD8  24020034   ADDIU V0, ZERO, 52
9D001DDC  AFC20018   SW V0, 24(FP)
9D001DE0  24020180   ADDIU V0, ZERO, 384
9D001DE4  AFC2001C   SW V0, 28(FP)
9D001DE8  AFC00010   SW ZERO, 16(FP)
9D001DEC  10000029   BEQ ZERO, ZERO, 0x9D001E94
9D001DF0  00000000   NOP
9D001DF4  8FC30034   LW V1, 52(FP)
9D001DF8  8FC20010   LW V0, 16(FP)
9D001DFC  00621821   ADDU V1, V1, V0
9D001E00  3C02A000   LUI V0, -24576
9D001E04  2442022C   ADDIU V0, V0, 556
9D001E08  00621021   ADDU V0, V1, V0
9D001E0C  90420000   LBU V0, 0(V0)
9D001E10  8FC40034   LW A0, 52(FP)
9D001E14  8FC30010   LW V1, 16(FP)
9D001E18  00832021   ADDU A0, A0, V1
9D001E1C  34420001   ORI V0, V0, 1
9D001E20  304300FF   ANDI V1, V0, 255
9D001E24  3C02A000   LUI V0, -24576
9D001E28  2442022C   ADDIU V0, V0, 556
9D001E2C  00821021   ADDU V0, A0, V0
9D001E30  A0430000   SB V1, 0(V0)
9D001E34  8FC3001C   LW V1, 28(FP)
9D001E38  8FC20034   LW V0, 52(FP)
9D001E3C  00621821   ADDU V1, V1, V0
9D001E40  8FC20010   LW V0, 16(FP)
9D001E44  00621821   ADDU V1, V1, V0
9D001E48  3C02A000   LUI V0, -24576
9D001E4C  2442022C   ADDIU V0, V0, 556
9D001E50  00621021   ADDU V0, V1, V0
9D001E54  90430000   LBU V1, 0(V0)
9D001E58  8FC4001C   LW A0, 28(FP)
9D001E5C  8FC20034   LW V0, 52(FP)
9D001E60  00822021   ADDU A0, A0, V0
9D001E64  8FC20010   LW V0, 16(FP)
9D001E68  00822021   ADDU A0, A0, V0
9D001E6C  2402FF80   ADDIU V0, ZERO, -128
9D001E70  00621025   OR V0, V1, V0
9D001E74  304300FF   ANDI V1, V0, 255
9D001E78  3C02A000   LUI V0, -24576
9D001E7C  2442022C   ADDIU V0, V0, 556
9D001E80  00821021   ADDU V0, A0, V0
9D001E84  A0430000   SB V1, 0(V0)
9D001E88  8FC20010   LW V0, 16(FP)
9D001E8C  24420001   ADDIU V0, V0, 1
9D001E90  AFC20010   SW V0, 16(FP)
9D001E94  8FC30010   LW V1, 16(FP)
9D001E98  8FC20018   LW V0, 24(FP)
9D001E9C  0062102A   SLT V0, V1, V0
9D001EA0  1440FFD4   BNE V0, ZERO, 0x9D001DF4
9D001EA4  00000000   NOP
9D001EA8  AFC00010   SW ZERO, 16(FP)
9D001EAC  10000019   BEQ ZERO, ZERO, 0x9D001F14
9D001EB0  00000000   NOP
9D001EB4  8FC20010   LW V0, 16(FP)
9D001EB8  000219C0   SLL V1, V0, 7
9D001EBC  8FC20034   LW V0, 52(FP)
9D001EC0  00621821   ADDU V1, V1, V0
9D001EC4  3C02A000   LUI V0, -24576
9D001EC8  2442022C   ADDIU V0, V0, 556
9D001ECC  00621021   ADDU V0, V1, V0
9D001ED0  2403FFFF   ADDIU V1, ZERO, -1
9D001ED4  A0430000   SB V1, 0(V0)
9D001ED8  8FC20010   LW V0, 16(FP)
9D001EDC  000219C0   SLL V1, V0, 7
9D001EE0  8FC20034   LW V0, 52(FP)
9D001EE4  00621821   ADDU V1, V1, V0
9D001EE8  8FC20018   LW V0, 24(FP)
9D001EEC  00621021   ADDU V0, V1, V0
9D001EF0  2443FFFF   ADDIU V1, V0, -1
9D001EF4  3C02A000   LUI V0, -24576
9D001EF8  2442022C   ADDIU V0, V0, 556
9D001EFC  00621021   ADDU V0, V1, V0
9D001F00  2403FFFF   ADDIU V1, ZERO, -1
9D001F04  A0430000   SB V1, 0(V0)
9D001F08  8FC20010   LW V0, 16(FP)
9D001F0C  24420001   ADDIU V0, V0, 1
9D001F10  AFC20010   SW V0, 16(FP)
9D001F14  8FC20010   LW V0, 16(FP)
9D001F18  28420004   SLTI V0, V0, 4
9D001F1C  1440FFE5   BNE V0, ZERO, 0x9D001EB4
9D001F20  00000000   NOP
9D001F24  24020002   ADDIU V0, ZERO, 2
9D001F28  AFC20020   SW V0, 32(FP)
9D001F2C  8FC20034   LW V0, 52(FP)
9D001F30  24420001   ADDIU V0, V0, 1
9D001F34  AFC20034   SW V0, 52(FP)
9D001F38  AFC00010   SW ZERO, 16(FP)
9D001F3C  10000029   BEQ ZERO, ZERO, 0x9D001FE4
9D001F40  00000000   NOP
9D001F44  AFC00014   SW ZERO, 20(FP)
9D001F48  1000001F   BEQ ZERO, ZERO, 0x9D001FC8
9D001F4C  00000000   NOP
9D001F50  8FC20034   LW V0, 52(FP)
9D001F54  24440001   ADDIU A0, V0, 1
9D001F58  8FC30010   LW V1, 16(FP)
9D001F5C  00601025   OR V0, V1, ZERO
9D001F60  00021080   SLL V0, V0, 2
9D001F64  00431021   ADDU V0, V0, V1
9D001F68  00823821   ADDU A3, A0, V0
9D001F6C  8FC30014   LW V1, 20(FP)
9D001F70  00601025   OR V0, V1, ZERO
9D001F74  00021080   SLL V0, V0, 2
9D001F78  00431821   ADDU V1, V0, V1
9D001F7C  8FC20020   LW V0, 32(FP)
9D001F80  00622821   ADDU A1, V1, V0
9D001F84  8FC40030   LW A0, 48(FP)
9D001F88  8FC30014   LW V1, 20(FP)
9D001F8C  00601025   OR V0, V1, ZERO
9D001F90  00021080   SLL V0, V0, 2
9D001F94  00431021   ADDU V0, V0, V1
9D001F98  00021040   SLL V0, V0, 1
9D001F9C  00821821   ADDU V1, A0, V0
9D001FA0  8FC20010   LW V0, 16(FP)
9D001FA4  00621021   ADDU V0, V1, V0
9D001FA8  90420000   LBU V0, 0(V0)
9D001FAC  00403025   OR A2, V0, ZERO
9D001FB0  00E02025   OR A0, A3, ZERO
9D001FB4  0F400804   JAL _FieldOledDrawSymbol
9D001FB8  00000000   NOP
9D001FBC  8FC20014   LW V0, 20(FP)
9D001FC0  24420001   ADDIU V0, V0, 1
9D001FC4  AFC20014   SW V0, 20(FP)
9D001FC8  8FC20014   LW V0, 20(FP)
9D001FCC  28420006   SLTI V0, V0, 6
9D001FD0  1440FFDF   BNE V0, ZERO, 0x9D001F50
9D001FD4  00000000   NOP
9D001FD8  8FC20010   LW V0, 16(FP)
9D001FDC  24420001   ADDIU V0, V0, 1
9D001FE0  AFC20010   SW V0, 16(FP)
9D001FE4  8FC20010   LW V0, 16(FP)
9D001FE8  2842000A   SLTI V0, V0, 10
9D001FEC  1440FFD5   BNE V0, ZERO, 0x9D001F44
9D001FF0  00000000   NOP
9D001FF4  00000000   NOP
9D001FF8  03C0E825   OR SP, FP, ZERO
9D001FFC  8FBF002C   LW RA, 44(SP)
9D002000  8FBE0028   LW FP, 40(SP)
9D002004  27BD0030   ADDIU SP, SP, 48
9D002008  03E00008   JR RA
9D00200C  00000000   NOP
9D002010  27BDFFC0   ADDIU SP, SP, -64
9D002014  AFBE003C   SW FP, 60(SP)
9D002018  03A0F025   OR FP, SP, ZERO
9D00201C  AFC40040   SW A0, 64(FP)
9D002020  AFC50044   SW A1, 68(FP)
9D002024  AFC60048   SW A2, 72(FP)
9D002028  8FC20040   LW V0, 64(FP)
9D00202C  2842007D   SLTI V0, V0, 125
9D002030  104000B1   BEQ V0, ZERO, 0x9D0022F8
9D002034  00000000   NOP
9D002038  8FC20044   LW V0, 68(FP)
9D00203C  2842001C   SLTI V0, V0, 28
9D002040  104000AD   BEQ V0, ZERO, 0x9D0022F8
9D002044  00000000   NOP
9D002048  8FC20044   LW V0, 68(FP)
9D00204C  24430007   ADDIU V1, V0, 7
9D002050  28440000   SLTI A0, V0, 0
9D002054  0064100B   MOVN V0, V1, A0
9D002058  000210C3   SRA V0, V0, 3
9D00205C  AFC20008   SW V0, 8(FP)
9D002060  8FC30044   LW V1, 68(FP)
9D002064  000317C3   SRA V0, V1, 31
9D002068  00021742   SRL V0, V0, 29
9D00206C  00621821   ADDU V1, V1, V0
9D002070  30630007   ANDI V1, V1, 7
9D002074  00621023   SUBU V0, V1, V0
9D002078  AFC2000C   SW V0, 12(FP)
9D00207C  8FC20044   LW V0, 68(FP)
9D002080  24420004   ADDIU V0, V0, 4
9D002084  24430007   ADDIU V1, V0, 7
9D002088  28440000   SLTI A0, V0, 0
9D00208C  0064100B   MOVN V0, V1, A0
9D002090  000210C3   SRA V0, V0, 3
9D002094  AFC20010   SW V0, 16(FP)
9D002098  8FC20040   LW V0, 64(FP)
9D00209C  AFC20014   SW V0, 20(FP)
9D0020A0  8FC20040   LW V0, 64(FP)
9D0020A4  24420003   ADDIU V0, V0, 3
9D0020A8  AFC20018   SW V0, 24(FP)
9D0020AC  2403000F   ADDIU V1, ZERO, 15
9D0020B0  8FC2000C   LW V0, 12(FP)
9D0020B4  00431004   SLLV V0, V1, V0
9D0020B8  AFC2001C   SW V0, 28(FP)
9D0020BC  AFC00000   SW ZERO, 0(FP)
9D0020C0  10000037   BEQ ZERO, ZERO, 0x9D0021A0
9D0020C4  00000000   NOP
9D0020C8  8FC30014   LW V1, 20(FP)
9D0020CC  8FC20000   LW V0, 0(FP)
9D0020D0  00621021   ADDU V0, V1, V0
9D0020D4  AFC20020   SW V0, 32(FP)
9D0020D8  8FC20008   LW V0, 8(FP)
9D0020DC  000219C0   SLL V1, V0, 7
9D0020E0  8FC20020   LW V0, 32(FP)
9D0020E4  00621821   ADDU V1, V1, V0
9D0020E8  3C02A000   LUI V0, -24576
9D0020EC  2442022C   ADDIU V0, V0, 556
9D0020F0  00621021   ADDU V0, V1, V0
9D0020F4  90420000   LBU V0, 0(V0)
9D0020F8  7C021C20   SEB V1, V0
9D0020FC  8FC2001C   LW V0, 28(FP)
9D002100  7C021420   SEB V0, V0
9D002104  00021027   NOR V0, ZERO, V0
9D002108  7C021420   SEB V0, V0
9D00210C  00621024   AND V0, V1, V0
9D002110  7C021420   SEB V0, V0
9D002114  A3C20024   SB V0, 36(FP)
9D002118  8FC30048   LW V1, 72(FP)
9D00211C  3C049D00   LUI A0, -25344
9D002120  00601025   OR V0, V1, ZERO
9D002124  00021040   SLL V0, V0, 1
9D002128  00431021   ADDU V0, V0, V1
9D00212C  248364B0   ADDIU V1, A0, 25776
9D002130  00431821   ADDU V1, V0, V1
9D002134  8FC20000   LW V0, 0(FP)
9D002138  00621021   ADDU V0, V1, V0
9D00213C  90420000   LBU V0, 0(V0)
9D002140  00402025   OR A0, V0, ZERO
9D002144  8FC3001C   LW V1, 28(FP)
9D002148  8FC2000C   LW V0, 12(FP)
9D00214C  00431007   SRAV V0, V1, V0
9D002150  00821824   AND V1, A0, V0
9D002154  8FC2000C   LW V0, 12(FP)
9D002158  00431004   SLLV V0, V1, V0
9D00215C  7C021C20   SEB V1, V0
9D002160  83C20024   LB V0, 36(FP)
9D002164  00621025   OR V0, V1, V0
9D002168  7C021420   SEB V0, V0
9D00216C  A3C20024   SB V0, 36(FP)
9D002170  8FC20008   LW V0, 8(FP)
9D002174  000219C0   SLL V1, V0, 7
9D002178  8FC20020   LW V0, 32(FP)
9D00217C  00621821   ADDU V1, V1, V0
9D002180  3C02A000   LUI V0, -24576
9D002184  2442022C   ADDIU V0, V0, 556
9D002188  00621021   ADDU V0, V1, V0
9D00218C  93C30024   LBU V1, 36(FP)
9D002190  A0430000   SB V1, 0(V0)
9D002194  8FC20000   LW V0, 0(FP)
9D002198  24420001   ADDIU V0, V0, 1
9D00219C  AFC20000   SW V0, 0(FP)
9D0021A0  8FC30018   LW V1, 24(FP)
9D0021A4  8FC20014   LW V0, 20(FP)
9D0021A8  00621023   SUBU V0, V1, V0
9D0021AC  8FC30000   LW V1, 0(FP)
9D0021B0  0062102A   SLT V0, V1, V0
9D0021B4  1440FFC4   BNE V0, ZERO, 0x9D0020C8
9D0021B8  00000000   NOP
9D0021BC  8FC30010   LW V1, 16(FP)
9D0021C0  8FC20008   LW V0, 8(FP)
9D0021C4  0043102A   SLT V0, V0, V1
9D0021C8  1040004B   BEQ V0, ZERO, 0x9D0022F8
9D0021CC  00000000   NOP
9D0021D0  24030008   ADDIU V1, ZERO, 8
9D0021D4  8FC2000C   LW V0, 12(FP)
9D0021D8  00621023   SUBU V0, V1, V0
9D0021DC  2403000F   ADDIU V1, ZERO, 15
9D0021E0  00431007   SRAV V0, V1, V0
9D0021E4  AFC20028   SW V0, 40(FP)
9D0021E8  AFC00004   SW ZERO, 4(FP)
9D0021EC  1000003B   BEQ ZERO, ZERO, 0x9D0022DC
9D0021F0  00000000   NOP
9D0021F4  8FC30014   LW V1, 20(FP)
9D0021F8  8FC20004   LW V0, 4(FP)
9D0021FC  00621021   ADDU V0, V1, V0
9D002200  AFC2002C   SW V0, 44(FP)
9D002204  8FC20010   LW V0, 16(FP)
9D002208  000219C0   SLL V1, V0, 7
9D00220C  8FC2002C   LW V0, 44(FP)
9D002210  00621821   ADDU V1, V1, V0
9D002214  3C02A000   LUI V0, -24576
9D002218  2442022C   ADDIU V0, V0, 556
9D00221C  00621021   ADDU V0, V1, V0
9D002220  90420000   LBU V0, 0(V0)
9D002224  7C021C20   SEB V1, V0
9D002228  8FC20028   LW V0, 40(FP)
9D00222C  7C021420   SEB V0, V0
9D002230  00021027   NOR V0, ZERO, V0
9D002234  7C021420   SEB V0, V0
9D002238  00621024   AND V0, V1, V0
9D00223C  7C021420   SEB V0, V0
9D002240  A3C20030   SB V0, 48(FP)
9D002244  8FC30048   LW V1, 72(FP)
9D002248  3C049D00   LUI A0, -25344
9D00224C  00601025   OR V0, V1, ZERO
9D002250  00021040   SLL V0, V0, 1
9D002254  00431021   ADDU V0, V0, V1
9D002258  248364B0   ADDIU V1, A0, 25776
9D00225C  00431821   ADDU V1, V0, V1
9D002260  8FC20004   LW V0, 4(FP)
9D002264  00621021   ADDU V0, V1, V0
9D002268  90420000   LBU V0, 0(V0)
9D00226C  00402025   OR A0, V0, ZERO
9D002270  24030008   ADDIU V1, ZERO, 8
9D002274  8FC2000C   LW V0, 12(FP)
9D002278  00621023   SUBU V0, V1, V0
9D00227C  8FC30028   LW V1, 40(FP)
9D002280  00431004   SLLV V0, V1, V0
9D002284  00821824   AND V1, A0, V0
9D002288  24040008   ADDIU A0, ZERO, 8
9D00228C  8FC2000C   LW V0, 12(FP)
9D002290  00821023   SUBU V0, A0, V0
9D002294  00431007   SRAV V0, V1, V0
9D002298  7C021C20   SEB V1, V0
9D00229C  83C20030   LB V0, 48(FP)
9D0022A0  00621025   OR V0, V1, V0
9D0022A4  7C021420   SEB V0, V0
9D0022A8  A3C20030   SB V0, 48(FP)
9D0022AC  8FC20010   LW V0, 16(FP)
9D0022B0  000219C0   SLL V1, V0, 7
9D0022B4  8FC2002C   LW V0, 44(FP)
9D0022B8  00621821   ADDU V1, V1, V0
9D0022BC  3C02A000   LUI V0, -24576
9D0022C0  2442022C   ADDIU V0, V0, 556
9D0022C4  00621021   ADDU V0, V1, V0
9D0022C8  93C30030   LBU V1, 48(FP)
9D0022CC  A0430000   SB V1, 0(V0)
9D0022D0  8FC20004   LW V0, 4(FP)
9D0022D4  24420001   ADDIU V0, V0, 1
9D0022D8  AFC20004   SW V0, 4(FP)
9D0022DC  8FC30018   LW V1, 24(FP)
9D0022E0  8FC20014   LW V0, 20(FP)
9D0022E4  00621023   SUBU V0, V1, V0
9D0022E8  8FC30004   LW V1, 4(FP)
9D0022EC  0062102A   SLT V0, V1, V0
9D0022F0  1440FFC0   BNE V0, ZERO, 0x9D0021F4
9D0022F4  00000000   NOP
9D0022F8  00001025   OR V0, ZERO, ZERO
9D0022FC  03C0E825   OR SP, FP, ZERO
9D002300  8FBE003C   LW FP, 60(SP)
9D002304  27BD0040   ADDIU SP, SP, 64
9D002308  03E00008   JR RA
9D00230C  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/circularbuffer.c  -------------------------------------------
1:                   /*
2:                    * Copyright Bar Smith, Bryant Mairs 2012
3:                    *
4:                    * This program is free software: you can redistribute it and/or modify
5:                    * it under the terms of the GNU General Public License as published by
6:                    * the Free Software Foundation, either version 3 of the License, or
7:                    * (at your option) any later version.
8:                    *
9:                    * This program is distributed in the hope that it will be useful,
10:                   * but WITHOUT ANY WARRANTY; without even the implied warranty of
11:                   * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
12:                   * GNU General Public License for more details.
13:                   *
14:                   * You should have received a copy of the GNU General Public License
15:                   * along with this program.  If not, see <http://www.gnu.org/licenses.
16:                   */
17:                   
18:                  /**
19:                   * @file   CircularBuffer.c
20:                   * @author Bar Smith
21:                   * @author Bryant Mairs
22:                   * @date   August, 2012
23:                   * @brief  Provides a circular buffer implementation for bytes and non-primitive datatypes.
24:                   *
25:                   * This circular buffer provides a single buffer interface for almost any situation necessary. It
26:                   * has been written for use with the dsPIC33f, but has been tested on x86.
27:                   *
28:                   * Unit testing has been completed on x86 by compiling with the UNIT_TEST_CIRCULAR_BUFFER macro.
29:                   * With gcc: `gcc CircularBuffer.c -DUNIT_TEST_CIRCULAR_BUFFER -Wall -g`
30:                   */
31:                  #include "CircularBuffer.h"
32:                  #include "BOARD.h"
33:                  
34:                  #include <stddef.h>
35:                  #include <stdint.h>
36:                  #include <stdlib.h>
37:                  #include <stdio.h>
38:                  
39:                  
40:                  int CB_Init(CircularBuffer *b, uint8_t *buffer, const uint16_t size)
41:                  {
42:                  	// Check the validity of pointers.
43:                  	if (!buffer || !b) {
44:                  		return FALSE;
45:                  	}
46:                  
47:                  	// Checks that the size is valid.
48:                  	if (size <= 1) {
49:                  		return FALSE;
50:                  	}
51:                  
52:                  	// Store the buffer pointer and initialize it all to zero.
53:                  	// This is not necessary, but makes debugging easier.
54:                  	b->data = buffer;
55:                  	uint16_t i;
56:                  	for (i = 0; i < size; ++i) {
57:                  		b->data[i] = 0;
58:                  	}
59:                  
60:                  	// Initialize all variables. The only one of note is `empty`, which is initialized to TRUE.
61:                  	b->readIndex = 0;
62:                  	b->writeIndex = 0;
63:                  	b->staticSize = size;
64:                  	b->dataSize = 0;
65:                  	b->overflowCount = 0;
66:                  
67:                  	return TRUE;
68:                  }
69:                  
70:                  int CB_ReadByte(CircularBuffer *b, uint8_t *outData)
71:                  {
72:                  	if (b) {
73:                  		if (b->dataSize) {
74:                  			//copys the last element from the buffer to data
75:                  			*outData = b->data[b->readIndex];
76:                  			//sets the buffer empty if there was only one element in it
77:                  			if (b->dataSize == 1) {
78:                  				//checks for wrap around
79:                  				b->readIndex = b->readIndex < (b->staticSize - 1)?b->readIndex + 1:0;
80:                  			} else {
81:                  				//checks for wrap around and moves indicies
82:                  				b->readIndex = b->readIndex < (b->staticSize - 1)?b->readIndex + 1:0;
83:                  			}
84:                  			--b->dataSize;
85:                  			return TRUE;
86:                  		}
87:                  	}
88:                  	return FALSE;
89:                  }
90:                  
91:                  int CB_ReadMany(CircularBuffer *b, void *outData, uint16_t size)
92:                  {
93:                  	int16_t i;
94:                  	if (b && outData) {
95:                  		//cast data so that it can be used to ready bytes
96:                  		uint8_t *data_u = (uint8_t*)outData;
97:                  		//check if there are enough items in the buffer to read
98:                  		if (b->dataSize >= size) {
99:                  
100:                 			// And read the data.
101:                 			for (i = 0; i < size; ++i) {
102:                 				data_u[i] = b->data[b->readIndex];
103:                 
104:                 				// Update the readIndex taking into account wrap-around.
105:                 				if (b->readIndex < b->staticSize - 1) {
106:                 					++b->readIndex;
107:                 				} else {
108:                 					b->readIndex = 0;
109:                 				}
110:                 			}
111:                 			b->dataSize -= size;
112:                 			return TRUE;
113:                 		}
114:                 	}
115:                 	return FALSE;
116:                 }
117:                 
118:                 int CB_WriteByte(CircularBuffer *b, uint8_t inData)
119:                 {
120:                 	if (b) {
121:                 		// If the buffer is full the overflow count is incremented and no data is written.
122:                 		if (b->dataSize == b->staticSize) {
123:                 			++b->overflowCount;
124:                 			return FALSE;
125:                 		} else {
126:                 			b->data[b->writeIndex] = inData;
127:                 			// Now update the writeIndex taking into account wrap-around.
128:                 			b->writeIndex = b->writeIndex < (b->staticSize - 1) ? b->writeIndex + 1: 0;
129:                 			++b->dataSize;
130:                 			return TRUE;
131:                 		}
132:                 	}
133:                 	return FALSE;
134:                 }
135:                 
136:                 int CB_WriteMany(CircularBuffer *b, const void *inData, uint16_t size, uint8_t failEarly)
137:                 {
138:                 	if (b && inData) {
139:                 		uint8_t *data_u = (uint8_t*)inData;
140:                 		//if the fail early value is set
141:                 		if (failEarly) {
142:                 			//Checks to make sure there is enough space
143:                 			if (b->staticSize - b->dataSize < size) {
144:                 				return FALSE;
145:                 			} else {
146:                 				int i = 0;
147:                 				//runs size times
148:                 				while (i < size) {
149:                 					//writes to the buffer
150:                 					b->data[b->writeIndex] = data_u[i];
151:                 					++i;
152:                 					//checks for wrap around and moves the indicies
153:                 					b->writeIndex = b->writeIndex < (b->staticSize - 1) ? b->writeIndex + 1: 0;
154:                 				}
155:                 				b->dataSize += i;
156:                 				return TRUE;
157:                 			}
158:                 		}
159:                 		// Otherwise we try and write as much data as we can.
160:                 		else {
161:                 			int i = 0;
162:                 			while (i < size) {
163:                 				//if the buffer is full the overflow count is increased and FALSE is returned
164:                 				if (b->dataSize == b->staticSize) {
165:                 					b->overflowCount += (size - i);
166:                 					return FALSE;
167:                 				}
168:                 				//reads an element from the buffer to data
169:                 				b->data[b->writeIndex] = data_u[i];
170:                 				++i;
171:                 				++b->dataSize;
172:                 				//move the indicies and check for wrap around
173:                 				b->writeIndex = (b->writeIndex < (b->staticSize - 1)) ? b->writeIndex + 1: 0;
174:                 			}
175:                 			return TRUE;
176:                 		}
177:                 	}
178:                 	return FALSE;
179:                 }
180:                 
181:                 int CB_Peek(const CircularBuffer *b, uint8_t *outData)
182:                 {
183:                 	if (b) {
184:                 		if (b->dataSize > 0) {
185:                 			*outData = b->data[b->readIndex];
186:                 			return TRUE;
187:                 		}
188:                 	}
189:                 	return FALSE;
190:                 }
191:                 
192:                 int CB_PeekMany (const CircularBuffer *b, void *outData, uint16_t size)
193:                 {
194:                 	uint16_t i;
195:                 	int tmpHead;
196:                 
197:                 	if (b) {
198:                 		uint8_t *data_u = (uint8_t*)outData;
199:                 		// Make sure there's enough data to read off and read them off one-by-one.
200:                 		if (b->dataSize >= size) {
201:                 			tmpHead = b->readIndex;
202:                 			for (i = 0; i < size; ++i) {
203:                 				data_u[i] = b->data[tmpHead];
204:                 
205:                 				// Handle wrapping around the buffer.
206:                 				if (tmpHead < b->staticSize - 1) {
207:                 					++tmpHead;
208:                 				} else {
209:                 					tmpHead = 0;
210:                 				}
211:                 			}
212:                 			return TRUE;
213:                 		}
214:                 	}
215:                 	return FALSE;
216:                 }
217:                 
218:                 int CB_Remove(CircularBuffer *b, uint16_t size){
219:                 	// If there are more elements in the buffer.
220:                 	if (b->dataSize > size) {
221:                 		// Checks to see if the buffer will wrap around.
222:                 		if ((b->staticSize - b->readIndex) < size) {
223:                 			b-> readIndex = size - (b->staticSize - b->readIndex);
224:                 		} else {
225:                 			// If the buffer will not wrap around size is added to read index.
226:                 			b->readIndex = b->readIndex + size;
227:                 		}
228:                 		b->dataSize -= size;
229:                 		return TRUE;
230:                 	}
231:                 	// If one is trying to remove more elements than are in the buffer, the buffer is made empty.
232:                 	else {
233:                 		b->readIndex = b->writeIndex;
234:                 		b->dataSize = 0;
235:                 		return TRUE;
236:                 	}
237:                 }
238:                 
239:                 /**
240:                  * This begins the unit testing code. Directions for compilation are at the top of the header file.
241:                  */
242:                 #ifdef UNIT_TEST_CIRCULAR_BUFFER
243:                 
244:                 #include <string.h>
245:                 #include <stdio.h>
246:                 #include <assert.h>
247:                 
248:                 /**
249:                  * @brief A struct used for testing.
250:                  */
251:                 typedef struct {
252:                 	uint8_t hey;
253:                 	int foo;
254:                 	float bar;
255:                 } TestStruct;
256:                 
257:                 /**
258:                  * @brief Returns whether two circular buffers are equal in their metadata.
259:                  *
260:                  * This does not do an exact comparison of their data arrays, just their metadata.
261:                  */
262:                 int TestStructEqual(const TestStruct *a, const TestStruct *b)
263:                 {
264:                 	return (a->hey == b->hey &&
265:                 	        a->foo == b->foo &&
266:                 	        a->bar == b->bar);
267:                 }
268:                 
269:                 /**
270:                  * @brief Run various unit tests confirming proper operation of the CircularBuffer.
271:                  *
272:                  * To run (assuming all files in the same directory and that's your current directory):
273:                  * ```
274:                  * $ gcc CircularBuffer.c -DUNIT_TEST_CIRCULAR_BUFFER -Wall -g
275:                  * $ a.out
276:                  * Running unit tests.
277:                  * All tests passed.
278:                  * $
279:                  */
280:                 int main()
281:                 {
282:                 	printf("Running unit tests.\n");
283:                 
284:                 	// These tests check the ability of the circular buffer to write a single item and
285:                 	// then read it back.
286:                 	{
287:                 		// Create a new circular buffer.
288:                 		CircularBuffer b;
289:                 		uint16_t size = 256;
290:                 		uint8_t *buffer = (uint8_t*)malloc(256*sizeof(uint8_t));
291:                 		CB_Init(&b, buffer, size);
292:                 		assert(!b.dataSize);
293:                 
294:                 		// Add a single item and check.
295:                 		CB_WriteByte(&b, 0x56);
296:                 		assert(b.dataSize == 1);
297:                 		uint8_t peekval;
298:                 		assert(CB_Peek(&b, &peekval));
299:                 		assert(peekval == 0x56);
300:                 
301:                 
302:                 		// Remove that item and check.
303:                 		uint8_t d;
304:                 		assert(CB_ReadByte(&b, &d) && d == 0x56);
305:                 		assert(b.dataSize == 0);
306:                 		assert(CB_Peek(&b, &peekval) == 0);
307:                 
308:                 		free(buffer);
309:                 	}
310:                 
311:                 	/* This tests the ability of the buffer to read and write many items. This code also tests
312:                 	writing two and reading from a buffer which has been wrapped around. Deeppeek is tested.
313:                 	*/
314:                 	{
315:                 		// Create a new circular buffer.
316:                 		CircularBuffer b;
317:                 		uint16_t size = 256;
318:                 		uint8_t *buffer = (uint8_t*)malloc(256*sizeof(uint8_t));
319:                 		CB_Init(&b, buffer, size);
320:                 		assert(!b.dataSize);
321:                 
322:                 		// Here we make a 1016 int8_t long string for testing. Testing with the library with BUFFER_SIZE
323:                 		// set to larger than 1016 will produce errors.
324:                 		int8_t testString[] = "Copyright (C) <year> <copyright holders> Permission is hereby granted, free of int8_tge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.";
325:                 		// Fill the buffer to SIZE+1 and check.
326:                 		uint16_t i;
327:                 		for (i = 0; i < b.staticSize; ++i) {
328:                 			assert(b.dataSize == i);
329:                 			assert(CB_WriteByte(&b, testString[i]));
330:                 			assert(b.dataSize == i + 1);
331:                 		}
332:                 		assert(!CB_WriteByte(&b, 0x89));
333:                 		assert(b.overflowCount == 1);
334:                 
335:                 
336:                 		// Run a deepPeek on the now-full buffer.
337:                 		uint8_t tmpString[b.staticSize];
338:                 		assert(CB_PeekMany(&b, tmpString, b.staticSize));
339:                 		assert(b.dataSize == b.staticSize);
340:                 
341:                 
342:                 		i = 0;
343:                 		while(i < 256){
344:                 			++i;
345:                 		}
346:                 		assert(memcmp(testString, tmpString, b.staticSize) == 0);
347:                 		assert(b.dataSize);
348:                 
349:                 		// Verify reading of an entire circular-buffer
350:                 		uint8_t d;
351:                 		i = b.dataSize;
352:                 		while (i > 0) {
353:                 			assert(CB_ReadByte(&b, &d));
354:                 			assert(d == testString[b.staticSize - i]);
355:                 			i--;
356:                 		}
357:                 		assert(b.dataSize == 0);
358:                 		d = 0x77;
359:                 		int8_t d2 = d;
360:                 		assert(!CB_ReadByte(&b, &d));
361:                 		assert(d == d2); //nothing has been read
362:                 
363:                 		// Test element insertion when the buffer wraps around.
364:                 		uint8_t peekval;
365:                 		assert(CB_WriteByte(&b, 91));
366:                 		assert(b.overflowCount == 1); // Overflow is triggered on an earlier test
367:                 		assert(b.dataSize == 1);
368:                 		CB_Peek(&b, &peekval);
369:                 		assert(peekval == 91);
370:                 		assert(CB_WriteByte(&b, 92));
371:                 		assert(b.dataSize == 2);
372:                 		assert(CB_WriteByte(&b, 93));
373:                 		assert(b.dataSize == 3);
374:                 		assert(CB_WriteByte(&b, 94));
375:                 		assert(b.dataSize == 4);
376:                 
377:                 		// Test DeepPeek on wrapped-around buffers
378:                 		uint8_t peekData[4];
379:                 		assert(CB_PeekMany(&b, peekData, 4));
380:                 		assert(peekData[0] == 91);
381:                 		assert(peekData[1] == 92);
382:                 		assert(peekData[2] == 93);
383:                 		assert(peekData[3] == 94);
384:                 
385:                 		// Test reading now.
386:                 		assert(CB_ReadByte(&b, &d) && d == 91);
387:                 		assert(CB_ReadByte(&b, &d) && d == 92);
388:                 		assert(CB_ReadByte(&b, &d) && d == 93);
389:                 		assert(CB_ReadByte(&b, &d) && d == 94);
390:                 		assert(!CB_ReadByte(&b, &d) && d == 94);
391:                 
392:                 		free(buffer);
393:                 	}
394:                 
395:                 	/* This section of test code checks that CB_Init will not initialize a buffer if its
396:                 	arguments are not valid.
397:                 	*/
398:                 	{
399:                 
400:                 		//Test initialization with invalid arguments
401:                 		CircularBuffer b;
402:                 		uint8_t *buffer = (uint8_t*)malloc(256*sizeof(uint8_t));
403:                 		assert(CB_Init(&b, buffer, 0) == FALSE); //checks the invalid argument size = 0
404:                 		assert(CB_Init(&b, buffer, 1) == FALSE); //checks the invalid argument size = 1
405:                 		assert(CB_Init(&b, buffer, 128) == TRUE); //checks that the function returns TRUE upon TRUE
406:                 		buffer = NULL;
407:                 		assert(CB_Init(&b, buffer, 16) == FALSE); //tests the invalid argument where buffer is a null pointer
408:                 
409:                 		free(buffer);
410:                 	}
411:                 
412:                 	/* This code tests the buffer at the edge case size is two.
413:                 	*/
414:                 	{
415:                 		//Test functionality at edge case size is 2
416:                 		uint8_t CBtestbuf[2];
417:                 		CircularBuffer b;
418:                 		CB_Init(&b, CBtestbuf, 2);  //creates a new buffer of length two
419:                 		assert(!b.dataSize);
420:                 
421:                 		// Add a single item and check.
422:                 		uint8_t peekval;
423:                 		CB_WriteByte(&b, 0x56);
424:                 		assert(b.dataSize == 1);
425:                 		CB_Peek(&b, &peekval);
426:                 		assert(peekval == 0x56);
427:                 
428:                 		// Remove that item and check.
429:                 		uint8_t e;
430:                 		assert(CB_ReadByte(&b, &e) && e == 0x56);
431:                 		assert(b.dataSize == 0);
432:                 		assert(CB_Peek(&b, &peekval) == 0);
433:                 
434:                 		//Now write two characters to the buffer
435:                 		assert(CB_WriteByte(&b, 0x56));
436:                 		assert(CB_WriteByte(&b, 0x58));
437:                 		assert(b.dataSize == 2); //Check to see if the length is correct
438:                 		CB_WriteByte(&b, 0x59);  //Write a third element to the two bit buffer
439:                 		assert(b.overflowCount == 1); //Check that overflow has occurred
440:                 		assert(CB_ReadByte(&b, &e) && e == 0x56); //Check Reading an element
441:                 		assert(b.dataSize == 1); //Check the length of the buffer
442:                 		assert(CB_ReadByte(&b, &e) && e == 0x58); //Check Reading an element
443:                 		assert(b.dataSize == 0); //Check that the buffer is now empty
444:                 		assert(CB_ReadByte(&b, &e) == FALSE); //checks that the empty buffer cannot be read from
445:                 	}
446:                 
447:                 	/* This code tests the edge case where the buffer is at the maximum size.  The size
448:                 	is limited by the maximum value which can be held in a uint16_t.
449:                 	*/
450:                 	{
451:                 		//Test functionality at edge case size is UINT16_MAX
452:                 		CircularBuffer b;
453:                 		uint8_t *buffertwo = (uint8_t*)malloc(UINT16_MAX*sizeof(uint8_t));
454:                 
455:                 		CB_Init(&b, buffertwo, UINT16_MAX);
456:                 		assert(!b.dataSize);
457:                 		assert(b.staticSize == UINT16_MAX);
458:                 
459:                 
460:                 		// Here we use the same UINT16_MAX int8_character long string for testing. Testing with the library with BUFFER_SIZE
461:                 		// set to larger than UINT16_MAX will produce errors.
462:                 		uint8_t testStringtwo[b.staticSize+1];
463:                 
464:                 		int i;
465:                 		for (i = 0; i < b.staticSize; ++i) {
466:                 			testStringtwo[i] = i;
467:                 		}
468:                 
469:                 		// Fill the buffer to SIZE+1 and check
470:                 		for (i = 0; i < b.staticSize; ++i) {
471:                 			assert(b.dataSize == i);
472:                 			assert(CB_WriteByte(&b, i));
473:                 			assert(b.dataSize == i + 1);
474:                 		}
475:                 		assert(!CB_WriteByte(&b, 0x89));
476:                 		assert(b.overflowCount == 1);
477:                 
478:                 		// Run a deepPeek on the now-full buffer.
479:                 		uint8_t tmpStringtwo[b.staticSize];
480:                 		assert(CB_PeekMany(&b, tmpStringtwo, b.staticSize));
481:                 		assert(b.dataSize == b.staticSize);
482:                 		assert(memcmp(testStringtwo, tmpStringtwo, b.staticSize) == 0);
483:                 
484:                 		// Verify reading of an entire circular-buffer
485:                 		uint8_t d;
486:                 		for (i = b.dataSize; i > 0; --i) {
487:                 			assert(CB_ReadByte(&b, &d));
488:                 			assert(d == testStringtwo[b.staticSize - i]);
489:                 		}
490:                 		assert(b.dataSize == 0);
491:                 		d = 0x77;
492:                 		int8_t d3 = d;
493:                 		assert(!CB_ReadByte(&b, &d));
494:                 		assert(d == d3);
495:                 		assert(!b.dataSize);
496:                 
497:                 		// Test element insertion when the buffer wraps around.
498:                 		uint8_t peekval;
499:                 		assert(CB_WriteByte(&b, 91));
500:                 		assert(b.overflowCount == 1); // Overflow is triggered on an earlier test
501:                 		assert(b.dataSize == 1);
502:                 		CB_Peek(&b, &peekval);
503:                 		assert(peekval == 91);
504:                 		assert(CB_WriteByte(&b, 92));
505:                 		assert(b.dataSize == 2);
506:                 		assert(CB_WriteByte(&b, 93));
507:                 		assert(b.dataSize == 3);
508:                 		assert(CB_WriteByte(&b, 94));
509:                 		assert(b.dataSize == 4);
510:                 
511:                 		// Test DeepPeek on wrapped-around buffers
512:                 		uint8_t peekDatatwo[4];
513:                 		assert(CB_PeekMany(&b, peekDatatwo, 4));
514:                 		assert(peekDatatwo[0] == 91);
515:                 		assert(peekDatatwo[1] == 92);
516:                 		assert(peekDatatwo[2] == 93);
517:                 		assert(peekDatatwo[3] == 94);
518:                 
519:                 		// Test reading now.
520:                 		assert(CB_ReadByte(&b, &d) && d == 91);
521:                 		assert(CB_ReadByte(&b, &d) && d == 92);
522:                 		assert(CB_ReadByte(&b, &d) && d == 93);
523:                 		assert(CB_ReadByte(&b, &d) && d == 94);
524:                 		assert(!CB_ReadByte(&b, &d) && d == 94);
525:                 
526:                 		free(buffertwo);
527:                 	}
528:                 
529:                 	/* This tests the remove function
530:                 	*/
531:                 	{
532:                 		/**Test Remove Function*/
533:                 		CircularBuffer b;
534:                 		uint8_t CBtestbuften[10];
535:                 		CB_Init(&b, CBtestbuften, 10);  //creates a new buffer of length ten
536:                 		assert(!b.dataSize);
537:                 
538:                 		int i;
539:                 		i = 0;
540:                 		while(i < 9){
541:                 			CB_WriteByte(&b, i);
542:                 			++i;
543:                 		}
544:                 		//Test removing a valid number of items
545:                 		assert(b.dataSize == 9);
546:                 		assert(CB_Remove(&b, 4));
547:                 		assert(b.dataSize == 5);
548:                 		uint8_t d;
549:                 		CB_ReadByte(&b, &d);
550:                 		assert(d == 4);
551:                 
552:                 		//Test removing more items than are in the buffer
553:                 		assert(b.dataSize == 4);
554:                 		CB_Remove(&b, 10);
555:                 		assert(b.dataSize == 0); //The buffer is now empty
556:                 	}
557:                 
558:                 	/* This tests using the CB_ReadMany function to read a buffer.
559:                 	*/
560:                 	{
561:                 		/**Test reading multiple values from the buffer using CB_ReadMany */
562:                 		CircularBuffer b;
563:                 		uint8_t CBtestbufthirty[30];
564:                 		CB_Init(&b, CBtestbufthirty, 30);  //creates a new buffer of length thirty
565:                 		assert(!b.dataSize);
566:                 
567:                 		int i = 0;
568:                 		while(i < 30){
569:                 			CB_WriteByte(&b, i);
570:                 			++i;
571:                 		}
572:                 		assert(b.dataSize == 30);
573:                 
574:                 		uint8_t readresults[30];
575:                 		assert(CB_ReadMany(&b,readresults, 15));
576:                 		i = 0;
577:                 		while(i < 15){
578:                 			assert(readresults[i] == i);
579:                 			++i;
580:                 		}
581:                 		assert(b.dataSize == 15);
582:                 		assert(CB_ReadMany(&b,readresults, 15));
583:                 		assert(b.dataSize == 0); //Checks that buffer is now empty
584:                 		assert(b.readIndex == b.writeIndex); //checks that the pointers are equal
585:                 	}
586:                 
587:                 
588:                 	/* This tests using CB_WriteMany to write to a buffer.
589:                 	*/
590:                 	{
591:                 		/**Testing the WriteMany function*/
592:                 		CircularBuffer b;
593:                 		uint8_t CBtestbufthirty[30];
594:                 		CB_Init(&b, CBtestbufthirty, 30);  //re-initializes buffer of length thirty
595:                 		assert(!b.dataSize);
596:                 
597:                 		uint8_t readresults[100];
598:                 		int i = 0;
599:                 		while (i < 100) {
600:                 			readresults[i] = i;
601:                 			++i;
602:                 		}
603:                 		assert(CB_WriteMany(&b, readresults, 22, TRUE)); //write 22 values from readresults to the buffer
604:                 		assert(b.dataSize == 22);
605:                 
606:                 		uint8_t d;
607:                 		i = 0;
608:                 		while (i < 22) {
609:                 			CB_ReadByte(&b, &d);
610:                 			assert(d == i);
611:                 			++i;
612:                 		}
613:                 
614:                 		CB_Init(&b, CBtestbufthirty, 30);  //re-initializes buffer of length thirty
615:                 		assert(!b.dataSize);
616:                 		assert(b.readIndex == b.writeIndex);
617:                 		i = 0;
618:                 		while (i < 30) {
619:                 			readresults[i] = i;
620:                 			++i;
621:                 		}
622:                 		CB_WriteMany(&b, readresults, 22, FALSE); //write 22 values from readresults to the buffer
623:                 		assert(b.dataSize == 22);
624:                 		i = 0;
625:                 		while (i < 22) {
626:                 			CB_ReadByte(&b, &d);
627:                 			assert(d == i);
628:                 			++i;
629:                 		}
630:                 
631:                 		/**Now test the failure criteria specified in failEarly*/
632:                 		CB_Init(&b, CBtestbufthirty, 30);  //re-initializes buffer of length thirty
633:                 		CB_WriteMany(&b, readresults, 18, TRUE);
634:                 		assert(b.dataSize == 18);
635:                 		assert(CB_WriteMany(&b, readresults, 50, TRUE) == FALSE); //Writing more than the buffer can hold returns an error
636:                 		assert(b.dataSize == 18); // Checks that nothing was written
637:                 		assert(!CB_WriteMany(&b, readresults, 100, FALSE)); // Now without the size check
638:                 		assert(b.dataSize == 30); //Checks that buffer is now full
639:                 		assert(b.overflowCount == 88); //100-(30-18) = 88 elements have overflowed
640:                 
641:                 		i = 0;
642:                 		while (i < 18) {
643:                 			CB_ReadByte(&b, &d);
644:                 			assert(i == d);
645:                 			++i;
646:                 		}
647:                 		while (i < 12) {
648:                 			CB_ReadByte(&b, &d);
649:                 			assert(i == d);
650:                 			++i;
651:                 		}
652:                 	}
653:                 
654:                 	/* This code tests using the CB_WriteMany and CB_ReadMany functions to read and write
655:                 	structures to a buffer.  CB_PeekMany is also tested.
656:                 	*/
657:                 	{
658:                 		// The test circular buffer
659:                 		CircularBuffer c;
660:                 
661:                 		//Testing writing of a structure to the buffer and reading it back
662:                 		// Create a new circular buffer.
663:                 		TestStruct t1 = {6, 42, 1.5};
664:                 
665:                 		uint16_t sizetwo = 256*sizeof(TestStruct);
666:                 		uint8_t structbuff[sizetwo];
667:                 		assert(CB_Init(&c, structbuff, sizetwo)); //Creates a buffer to hold 256 TestStruct structures
668:                 		assert(!c.dataSize);
669:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
670:                 		assert(c.dataSize == sizeof(TestStruct));
671:                 
672:                 		TestStruct f;
673:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the structure back from the buffer
674:                 		assert(!c.dataSize); //the buffer is now empty
675:                 		assert(TestStructEqual(&f, &t1));
676:                 
677:                 		TestStruct t2 = {56, 700, 5.75}; //filled with arbitrary values
678:                 
679:                 		//Write a single structure to the buffer and then read it back
680:                 		assert(c.dataSize == 0);
681:                 		assert(CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE));
682:                 		assert(c.dataSize == sizeof(TestStruct));
683:                 
684:                 		assert(CB_ReadMany(&c, &f, sizeof(TestStruct))); //read the structure back from the buffer
685:                 		assert(TestStructEqual(&f, &t2));
686:                 
687:                 		//Write two structures to the buffer and then read them back
688:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
689:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
690:                 
691:                 		assert(c.dataSize == 2*sizeof(TestStruct));
692:                 
693:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
694:                 		assert(TestStructEqual(&f, &t1));
695:                 
696:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
697:                 		assert(TestStructEqual(&f, &t2));
698:                 
699:                 		assert(c.readIndex == c.writeIndex); //The buffer is now empty.
700:                 
701:                 		// Write four structures to the buffer using a loop and read them back.
702:                 
703:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
704:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
705:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
706:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
707:                 
708:                 		assert(c.dataSize == 4*sizeof(TestStruct));
709:                 
710:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
711:                 		assert(TestStructEqual(&f, &t1));
712:                 
713:                 		assert(c.dataSize == 3*sizeof(TestStruct));
714:                 
715:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
716:                 		assert(TestStructEqual(&f, &t2));
717:                 
718:                 		assert(c.dataSize == 2*sizeof(TestStruct));
719:                 
720:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read third the structure back from the buffer
721:                 		assert(TestStructEqual(&f, &t1));
722:                 
723:                 		assert(c.dataSize == 1*sizeof(TestStruct));
724:                 
725:                 		CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the fourth structure back from the buffer
726:                 		assert(TestStructEqual(&f, &t2));
727:                 
728:                 		assert(c.dataSize == 0); //the buffer is now empty
729:                 
730:                 		// Now write six structures and then read them off using a loop.
731:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
732:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
733:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
734:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
735:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
736:                 		CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
737:                 
738:                 		int i = 0;
739:                 		while (i < 3) {
740:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
741:                 			assert(TestStructEqual(&f, &t1));
742:                 
743:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
744:                 			assert(TestStructEqual(&f, &t2));
745:                 
746:                 			++i;
747:                 		}
748:                 
749:                 		//Now write from a loop and read from a loop
750:                 		i = 0;
751:                 		while (i < 3) {
752:                 			CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
753:                 			CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
754:                 			++i;
755:                 		}
756:                 
757:                 		i = 0;
758:                 		while (i < 3) {
759:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
760:                 			assert(TestStructEqual(&f, &t1));
761:                 
762:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
763:                 			assert(TestStructEqual(&f, &t2));
764:                 
765:                 			++i;
766:                 		}
767:                 
768:                 		assert(c.readIndex == c.writeIndex); //the buffer is empty
769:                 
770:                 		//Now write 40 elements from a loop and read 40 elements from a loop
771:                 		i = 0;
772:                 		while (i < 20) {
773:                 			CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
774:                 			CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
775:                 			++i;
776:                 		}
777:                 
778:                 		i = 0;
779:                 		while (i < 20) {
780:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
781:                 			assert(TestStructEqual(&f, &t1));
782:                 
783:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
784:                 			assert(TestStructEqual(&f, &t2));
785:                 
786:                 			++i;
787:                 		}
788:                 
789:                 		//Now try to overfill a buffer and then read the structures back
790:                 		//C is length 256*sizeof(TestStruct) so we will try to write 260 structures
791:                 		assert(c.readIndex == c.writeIndex); //the buffer is empty
792:                 		assert(c.dataSize == 0);
793:                 
794:                 		i = 0;
795:                 		while (i < 130) { //writes 260 structures to the buffer
796:                 			CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
797:                 			CB_WriteMany(&c, &t2, sizeof(TestStruct), TRUE);
798:                 			++i;
799:                 		}
800:                 
801:                 		i = 0;
802:                 		while (i < 128) {
803:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read first the structure back from the buffer
804:                 			assert(TestStructEqual(&f, &t1));
805:                 
806:                 			CB_ReadMany(&c, &f, sizeof(TestStruct)); //read the second structure back from the buffer
807:                 			assert(TestStructEqual(&f, &t2));
808:                 
809:                 			++i;
810:                 		}
811:                 
812:                 		assert(c.readIndex == c.writeIndex); //the buffer is empty
813:                 		assert(c.dataSize == 0);
814:                 
815:                 		//Testing CB_PeekMany on structures
816:                 		TestStruct peekTest;
817:                 
818:                 		CB_WriteMany(&c, &t1, sizeof(TestStruct), TRUE);
819:                 		CB_PeekMany(&c, (uint8_t*)&peekTest, sizeof(TestStruct));
820:                 		assert(TestStructEqual(&t1, &peekTest));
821:                 	}
822:                         {
823:                             // Test writing and reading from the circular buffer. Showed a failure mode of the CircularBuffer with regards to its read index.
824:                             CircularBuffer circBuf;
825:                             unsigned char data[20];
826:                             unsigned char testIn[20] = "Hey There This Test";
827:                             unsigned char testOut[20];
828:                 
829:                             // Initialize the circular buffer
830:                             assert(CB_Init(&circBuf, data, 20));
831:                             assert(circBuf.readIndex == circBuf.writeIndex);
832:                             assert(circBuf.readIndex == 0);
833:                             assert(circBuf.writeIndex == 0);
834:                 
835:                             // Write and read to the buffer multiple times
836:                             CB_WriteMany(&circBuf, testIn, 20, TRUE);
837:                             assert(circBuf.readIndex == circBuf.writeIndex);
838:                             assert(circBuf.readIndex == 0);
839:                             assert(circBuf.writeIndex == 0);
840:                 
841:                             CB_PeekMany(&circBuf, testOut, 20);
842:                             assert(circBuf.readIndex == circBuf.writeIndex);
843:                             assert(circBuf.readIndex == 0);
844:                             assert(circBuf.writeIndex == 0);
845:                 
846:                             CB_Remove(&circBuf, 20);
847:                             assert(circBuf.readIndex == circBuf.writeIndex);
848:                             assert(circBuf.readIndex == 0);
849:                             assert(circBuf.writeIndex == 0);
850:                 
851:                             assert(!memcmp(testIn, testOut, 20));
852:                 
853:                             
854:                             CB_WriteMany(&circBuf, testIn, 20, TRUE);
855:                             assert(circBuf.readIndex == circBuf.writeIndex);
856:                             assert(circBuf.readIndex == 0);
857:                             assert(circBuf.writeIndex == 0);
858:                 
859:                             CB_PeekMany(&circBuf, testOut, 20);
860:                             assert(circBuf.readIndex == circBuf.writeIndex);
861:                             assert(circBuf.readIndex == 0);
862:                             assert(circBuf.writeIndex == 0);
863:                 
864:                             CB_Remove(&circBuf, 20);
865:                             assert(circBuf.readIndex == circBuf.writeIndex);
866:                             assert(circBuf.readIndex == 0);
867:                             assert(circBuf.writeIndex == 0);
868:                 
869:                             assert(!memcmp(testIn, testOut, 20));
870:                 
871:                             //Test uneven data
872:                             CB_WriteMany(&circBuf, testIn, 7, TRUE);
873:                             assert(circBuf.readIndex == 0);
874:                             assert(circBuf.writeIndex == 7);
875:                 
876:                             CB_PeekMany(&circBuf, testOut, 7);
877:                             assert(circBuf.readIndex == 0);
878:                             assert(circBuf.writeIndex == 7);
879:                 
880:                             CB_Remove(&circBuf, 7);
881:                             assert(circBuf.readIndex == circBuf.writeIndex);
882:                             assert(circBuf.readIndex == 7);
883:                             assert(circBuf.writeIndex == 7);
884:                 
885:                             //Test the full data again
886:                             CB_WriteMany(&circBuf, testIn, 20, TRUE);
887:                             assert(circBuf.readIndex == circBuf.writeIndex);
888:                             assert(circBuf.readIndex == 7);
889:                             assert(circBuf.writeIndex == 7);
890:                 
891:                             CB_PeekMany(&circBuf, testOut, 20);
892:                             assert(circBuf.readIndex == circBuf.writeIndex);
893:                             assert(circBuf.readIndex == 7);
894:                             assert(circBuf.writeIndex == 7);
895:                 
896:                             CB_Remove(&circBuf, 20);
897:                             assert(circBuf.readIndex == circBuf.writeIndex);
898:                             assert(circBuf.readIndex == 7);
899:                             assert(circBuf.writeIndex == 7);
900:                 
901:                             assert(!memcmp(testIn, testOut, 20));
902:                 
903:                 
904:                             CB_WriteMany(&circBuf, testIn, 20, TRUE);
905:                             assert(circBuf.readIndex == circBuf.writeIndex);
906:                             assert(circBuf.readIndex == 7);
907:                             assert(circBuf.writeIndex == 7);
908:                 
909:                             CB_PeekMany(&circBuf, testOut, 20);
910:                             assert(circBuf.readIndex == circBuf.writeIndex);
911:                             assert(circBuf.readIndex == 7);
912:                             assert(circBuf.writeIndex == 7);
913:                 
914:                             CB_Remove(&circBuf, 20);
915:                             assert(circBuf.readIndex == circBuf.writeIndex);
916:                             assert(circBuf.readIndex == 7);
917:                             assert(circBuf.writeIndex == 7);
918:                 
919:                             assert(!memcmp(testIn, testOut, 20));
920:                         }
921:                 
922:                 	printf("All tests passed.\n");
923:                 
924:                 	return 0;
925:                 
926:                 }
927:                 #endif // UNIT_TEST_CIRCULAR_BUFFER
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D000000  27BDFFF0   ADDIU SP, SP, -16
9D000004  AFBE000C   SW FP, 12(SP)
9D000008  03A0F025   OR FP, SP, ZERO
9D00000C  AFC40010   SW A0, 16(FP)
9D000010  AFC50014   SW A1, 20(FP)
9D000014  00C01025   OR V0, A2, ZERO
9D000018  A7C20018   SH V0, 24(FP)
9D00001C  8FC20014   LW V0, 20(FP)
9D000020  10400004   BEQ V0, ZERO, 0x9D000034
9D000024  00000000   NOP
9D000028  8FC20010   LW V0, 16(FP)
9D00002C  14400004   BNE V0, ZERO, 0x9D000040
9D000030  00000000   NOP
9D000034  00001025   OR V0, ZERO, ZERO
9D000038  10000027   BEQ ZERO, ZERO, 0x9D0000D8
9D00003C  00000000   NOP
9D000040  97C20018   LHU V0, 24(FP)
9D000044  2C420002   SLTIU V0, V0, 2
9D000048  10400004   BEQ V0, ZERO, 0x9D00005C
9D00004C  00000000   NOP
9D000050  00001025   OR V0, ZERO, ZERO
9D000054  10000020   BEQ ZERO, ZERO, 0x9D0000D8
9D000058  00000000   NOP
9D00005C  8FC20010   LW V0, 16(FP)
9D000060  8FC30014   LW V1, 20(FP)
9D000064  AC43000C   SW V1, 12(V0)
9D000068  A7C00000   SH ZERO, 0(FP)
9D00006C  10000009   BEQ ZERO, ZERO, 0x9D000094
9D000070  00000000   NOP
9D000074  8FC20010   LW V0, 16(FP)
9D000078  8C43000C   LW V1, 12(V0)
9D00007C  97C20000   LHU V0, 0(FP)
9D000080  00621021   ADDU V0, V1, V0
9D000084  A0400000   SB ZERO, 0(V0)
9D000088  97C20000   LHU V0, 0(FP)
9D00008C  24420001   ADDIU V0, V0, 1
9D000090  A7C20000   SH V0, 0(FP)
9D000094  97C30000   LHU V1, 0(FP)
9D000098  97C20018   LHU V0, 24(FP)
9D00009C  0062102B   SLTU V0, V1, V0
9D0000A0  1440FFF4   BNE V0, ZERO, 0x9D000074
9D0000A4  00000000   NOP
9D0000A8  8FC20010   LW V0, 16(FP)
9D0000AC  A4400000   SH ZERO, 0(V0)
9D0000B0  8FC20010   LW V0, 16(FP)
9D0000B4  A4400002   SH ZERO, 2(V0)
9D0000B8  8FC20010   LW V0, 16(FP)
9D0000BC  97C30018   LHU V1, 24(FP)
9D0000C0  A4430004   SH V1, 4(V0)
9D0000C4  8FC20010   LW V0, 16(FP)
9D0000C8  A4400006   SH ZERO, 6(V0)
9D0000CC  8FC20010   LW V0, 16(FP)
9D0000D0  A0400008   SB ZERO, 8(V0)
9D0000D4  24020001   ADDIU V0, ZERO, 1
9D0000D8  03C0E825   OR SP, FP, ZERO
9D0000DC  8FBE000C   LW FP, 12(SP)
9D0000E0  27BD0010   ADDIU SP, SP, 16
9D0000E4  03E00008   JR RA
9D0000E8  00000000   NOP
9D0000EC  27BDFFF8   ADDIU SP, SP, -8
9D0000F0  AFBE0004   SW FP, 4(SP)
9D0000F4  03A0F025   OR FP, SP, ZERO
9D0000F8  AFC40008   SW A0, 8(FP)
9D0000FC  AFC5000C   SW A1, 12(FP)
9D000100  8FC20008   LW V0, 8(FP)
9D000104  10400041   BEQ V0, ZERO, 0x9D00020C
9D000108  00000000   NOP
9D00010C  8FC20008   LW V0, 8(FP)
9D000110  94420006   LHU V0, 6(V0)
9D000114  1040003D   BEQ V0, ZERO, 0x9D00020C
9D000118  00000000   NOP
9D00011C  8FC20008   LW V0, 8(FP)
9D000120  8C42000C   LW V0, 12(V0)
9D000124  8FC30008   LW V1, 8(FP)
9D000128  94630000   LHU V1, 0(V1)
9D00012C  00431021   ADDU V0, V0, V1
9D000130  90430000   LBU V1, 0(V0)
9D000134  8FC2000C   LW V0, 12(FP)
9D000138  A0430000   SB V1, 0(V0)
9D00013C  8FC20008   LW V0, 8(FP)
9D000140  94430006   LHU V1, 6(V0)
9D000144  24020001   ADDIU V0, ZERO, 1
9D000148  14620015   BNE V1, V0, 0x9D0001A0
9D00014C  00000000   NOP
9D000150  8FC20008   LW V0, 8(FP)
9D000154  94420000   LHU V0, 0(V0)
9D000158  00401825   OR V1, V0, ZERO
9D00015C  8FC20008   LW V0, 8(FP)
9D000160  94420004   LHU V0, 4(V0)
9D000164  2442FFFF   ADDIU V0, V0, -1
9D000168  0062102A   SLT V0, V1, V0
9D00016C  10400007   BEQ V0, ZERO, 0x9D00018C
9D000170  00000000   NOP
9D000174  8FC20008   LW V0, 8(FP)
9D000178  94420000   LHU V0, 0(V0)
9D00017C  24420001   ADDIU V0, V0, 1
9D000180  3042FFFF   ANDI V0, V0, -1
9D000184  10000002   BEQ ZERO, ZERO, 0x9D000190
9D000188  00000000   NOP
9D00018C  00001025   OR V0, ZERO, ZERO
9D000190  8FC30008   LW V1, 8(FP)
9D000194  A4620000   SH V0, 0(V1)
9D000198  10000013   BEQ ZERO, ZERO, 0x9D0001E8
9D00019C  00000000   NOP
9D0001A0  8FC20008   LW V0, 8(FP)
9D0001A4  94420000   LHU V0, 0(V0)
9D0001A8  00401825   OR V1, V0, ZERO
9D0001AC  8FC20008   LW V0, 8(FP)
9D0001B0  94420004   LHU V0, 4(V0)
9D0001B4  2442FFFF   ADDIU V0, V0, -1
9D0001B8  0062102A   SLT V0, V1, V0
9D0001BC  10400007   BEQ V0, ZERO, 0x9D0001DC
9D0001C0  00000000   NOP
9D0001C4  8FC20008   LW V0, 8(FP)
9D0001C8  94420000   LHU V0, 0(V0)
9D0001CC  24420001   ADDIU V0, V0, 1
9D0001D0  3042FFFF   ANDI V0, V0, -1
9D0001D4  10000002   BEQ ZERO, ZERO, 0x9D0001E0
9D0001D8  00000000   NOP
9D0001DC  00001025   OR V0, ZERO, ZERO
9D0001E0  8FC30008   LW V1, 8(FP)
9D0001E4  A4620000   SH V0, 0(V1)
9D0001E8  8FC20008   LW V0, 8(FP)
9D0001EC  94420006   LHU V0, 6(V0)
9D0001F0  2442FFFF   ADDIU V0, V0, -1
9D0001F4  3043FFFF   ANDI V1, V0, -1
9D0001F8  8FC20008   LW V0, 8(FP)
9D0001FC  A4430006   SH V1, 6(V0)
9D000200  24020001   ADDIU V0, ZERO, 1
9D000204  10000002   BEQ ZERO, ZERO, 0x9D000210
9D000208  00000000   NOP
9D00020C  00001025   OR V0, ZERO, ZERO
9D000210  03C0E825   OR SP, FP, ZERO
9D000214  8FBE0004   LW FP, 4(SP)
9D000218  27BD0008   ADDIU SP, SP, 8
9D00021C  03E00008   JR RA
9D000220  00000000   NOP
9D000224  27BDFFF0   ADDIU SP, SP, -16
9D000228  AFBE000C   SW FP, 12(SP)
9D00022C  03A0F025   OR FP, SP, ZERO
9D000230  AFC40010   SW A0, 16(FP)
9D000234  AFC50014   SW A1, 20(FP)
9D000238  00C01025   OR V0, A2, ZERO
9D00023C  A7C20018   SH V0, 24(FP)
9D000240  8FC20010   LW V0, 16(FP)
9D000244  1040003F   BEQ V0, ZERO, 0x9D000344
9D000248  00000000   NOP
9D00024C  8FC20014   LW V0, 20(FP)
9D000250  1040003C   BEQ V0, ZERO, 0x9D000344
9D000254  00000000   NOP
9D000258  8FC20014   LW V0, 20(FP)
9D00025C  AFC20004   SW V0, 4(FP)
9D000260  8FC20010   LW V0, 16(FP)
9D000264  94420006   LHU V0, 6(V0)
9D000268  97C30018   LHU V1, 24(FP)
9D00026C  0043102B   SLTU V0, V0, V1
9D000270  14400034   BNE V0, ZERO, 0x9D000344
9D000274  00000000   NOP
9D000278  A7C00000   SH ZERO, 0(FP)
9D00027C  10000022   BEQ ZERO, ZERO, 0x9D000308
9D000280  00000000   NOP
9D000284  8FC20010   LW V0, 16(FP)
9D000288  8C42000C   LW V0, 12(V0)
9D00028C  8FC30010   LW V1, 16(FP)
9D000290  94630000   LHU V1, 0(V1)
9D000294  00431821   ADDU V1, V0, V1
9D000298  87C20000   LH V0, 0(FP)
9D00029C  8FC40004   LW A0, 4(FP)
9D0002A0  00821021   ADDU V0, A0, V0
9D0002A4  90630000   LBU V1, 0(V1)
9D0002A8  A0430000   SB V1, 0(V0)
9D0002AC  8FC20010   LW V0, 16(FP)
9D0002B0  94420000   LHU V0, 0(V0)
9D0002B4  00401825   OR V1, V0, ZERO
9D0002B8  8FC20010   LW V0, 16(FP)
9D0002BC  94420004   LHU V0, 4(V0)
9D0002C0  2442FFFF   ADDIU V0, V0, -1
9D0002C4  0062102A   SLT V0, V1, V0
9D0002C8  10400009   BEQ V0, ZERO, 0x9D0002F0
9D0002CC  00000000   NOP
9D0002D0  8FC20010   LW V0, 16(FP)
9D0002D4  94420000   LHU V0, 0(V0)
9D0002D8  24420001   ADDIU V0, V0, 1
9D0002DC  3043FFFF   ANDI V1, V0, -1
9D0002E0  8FC20010   LW V0, 16(FP)
9D0002E4  A4430000   SH V1, 0(V0)
9D0002E8  10000003   BEQ ZERO, ZERO, 0x9D0002F8
9D0002EC  00000000   NOP
9D0002F0  8FC20010   LW V0, 16(FP)
9D0002F4  A4400000   SH ZERO, 0(V0)
9D0002F8  97C20000   LHU V0, 0(FP)
9D0002FC  24420001   ADDIU V0, V0, 1
9D000300  3042FFFF   ANDI V0, V0, -1
9D000304  A7C20000   SH V0, 0(FP)
9D000308  87C30000   LH V1, 0(FP)
9D00030C  97C20018   LHU V0, 24(FP)
9D000310  0062102A   SLT V0, V1, V0
9D000314  1440FFDB   BNE V0, ZERO, 0x9D000284
9D000318  00000000   NOP
9D00031C  8FC20010   LW V0, 16(FP)
9D000320  94430006   LHU V1, 6(V0)
9D000324  97C20018   LHU V0, 24(FP)
9D000328  00621023   SUBU V0, V1, V0
9D00032C  3043FFFF   ANDI V1, V0, -1
9D000330  8FC20010   LW V0, 16(FP)
9D000334  A4430006   SH V1, 6(V0)
9D000338  24020001   ADDIU V0, ZERO, 1
9D00033C  10000002   BEQ ZERO, ZERO, 0x9D000348
9D000340  00000000   NOP
9D000344  00001025   OR V0, ZERO, ZERO
9D000348  03C0E825   OR SP, FP, ZERO
9D00034C  8FBE000C   LW FP, 12(SP)
9D000350  27BD0010   ADDIU SP, SP, 16
9D000354  03E00008   JR RA
9D000358  00000000   NOP
9D00035C  27BDFFF8   ADDIU SP, SP, -8
9D000360  AFBE0004   SW FP, 4(SP)
9D000364  03A0F025   OR FP, SP, ZERO
9D000368  AFC40008   SW A0, 8(FP)
9D00036C  00A01025   OR V0, A1, ZERO
9D000370  A3C2000C   SB V0, 12(FP)
9D000374  8FC20008   LW V0, 8(FP)
9D000378  10400032   BEQ V0, ZERO, 0x9D000444
9D00037C  00000000   NOP
9D000380  8FC20008   LW V0, 8(FP)
9D000384  94430006   LHU V1, 6(V0)
9D000388  8FC20008   LW V0, 8(FP)
9D00038C  94420004   LHU V0, 4(V0)
9D000390  1462000A   BNE V1, V0, 0x9D0003BC
9D000394  00000000   NOP
9D000398  8FC20008   LW V0, 8(FP)
9D00039C  90420008   LBU V0, 8(V0)
9D0003A0  24420001   ADDIU V0, V0, 1
9D0003A4  304300FF   ANDI V1, V0, 255
9D0003A8  8FC20008   LW V0, 8(FP)
9D0003AC  A0430008   SB V1, 8(V0)
9D0003B0  00001025   OR V0, ZERO, ZERO
9D0003B4  10000024   BEQ ZERO, ZERO, 0x9D000448
9D0003B8  00000000   NOP
9D0003BC  8FC20008   LW V0, 8(FP)
9D0003C0  8C42000C   LW V0, 12(V0)
9D0003C4  8FC30008   LW V1, 8(FP)
9D0003C8  94630002   LHU V1, 2(V1)
9D0003CC  00431021   ADDU V0, V0, V1
9D0003D0  93C3000C   LBU V1, 12(FP)
9D0003D4  A0430000   SB V1, 0(V0)
9D0003D8  8FC20008   LW V0, 8(FP)
9D0003DC  94420002   LHU V0, 2(V0)
9D0003E0  00401825   OR V1, V0, ZERO
9D0003E4  8FC20008   LW V0, 8(FP)
9D0003E8  94420004   LHU V0, 4(V0)
9D0003EC  2442FFFF   ADDIU V0, V0, -1
9D0003F0  0062102A   SLT V0, V1, V0
9D0003F4  10400007   BEQ V0, ZERO, 0x9D000414
9D0003F8  00000000   NOP
9D0003FC  8FC20008   LW V0, 8(FP)
9D000400  94420002   LHU V0, 2(V0)
9D000404  24420001   ADDIU V0, V0, 1
9D000408  3042FFFF   ANDI V0, V0, -1
9D00040C  10000002   BEQ ZERO, ZERO, 0x9D000418
9D000410  00000000   NOP
9D000414  00001025   OR V0, ZERO, ZERO
9D000418  8FC30008   LW V1, 8(FP)
9D00041C  A4620002   SH V0, 2(V1)
9D000420  8FC20008   LW V0, 8(FP)
9D000424  94420006   LHU V0, 6(V0)
9D000428  24420001   ADDIU V0, V0, 1
9D00042C  3043FFFF   ANDI V1, V0, -1
9D000430  8FC20008   LW V0, 8(FP)
9D000434  A4430006   SH V1, 6(V0)
9D000438  24020001   ADDIU V0, ZERO, 1
9D00043C  10000002   BEQ ZERO, ZERO, 0x9D000448
9D000440  00000000   NOP
9D000444  00001025   OR V0, ZERO, ZERO
9D000448  03C0E825   OR SP, FP, ZERO
9D00044C  8FBE0004   LW FP, 4(SP)
9D000450  27BD0008   ADDIU SP, SP, 8
9D000454  03E00008   JR RA
9D000458  00000000   NOP
9D00045C  27BDFFE8   ADDIU SP, SP, -24
9D000460  AFBE0014   SW FP, 20(SP)
9D000464  03A0F025   OR FP, SP, ZERO
9D000468  AFC40018   SW A0, 24(FP)
9D00046C  AFC5001C   SW A1, 28(FP)
9D000470  00C01025   OR V0, A2, ZERO
9D000474  00E01825   OR V1, A3, ZERO
9D000478  A7C20020   SH V0, 32(FP)
9D00047C  00601025   OR V0, V1, ZERO
9D000480  A3C20024   SB V0, 36(FP)
9D000484  8FC20018   LW V0, 24(FP)
9D000488  1040008D   BEQ V0, ZERO, 0x9D0006C0
9D00048C  00000000   NOP
9D000490  8FC2001C   LW V0, 28(FP)
9D000494  1040008A   BEQ V0, ZERO, 0x9D0006C0
9D000498  00000000   NOP
9D00049C  8FC2001C   LW V0, 28(FP)
9D0004A0  AFC20008   SW V0, 8(FP)
9D0004A4  93C20024   LBU V0, 36(FP)
9D0004A8  10400040   BEQ V0, ZERO, 0x9D0005AC
9D0004AC  00000000   NOP
9D0004B0  8FC20018   LW V0, 24(FP)
9D0004B4  94420004   LHU V0, 4(V0)
9D0004B8  00401825   OR V1, V0, ZERO
9D0004BC  8FC20018   LW V0, 24(FP)
9D0004C0  94420006   LHU V0, 6(V0)
9D0004C4  00621823   SUBU V1, V1, V0
9D0004C8  97C20020   LHU V0, 32(FP)
9D0004CC  0062102A   SLT V0, V1, V0
9D0004D0  10400004   BEQ V0, ZERO, 0x9D0004E4
9D0004D4  00000000   NOP
9D0004D8  00001025   OR V0, ZERO, ZERO
9D0004DC  10000079   BEQ ZERO, ZERO, 0x9D0006C4
9D0004E0  00000000   NOP
9D0004E4  AFC00000   SW ZERO, 0(FP)
9D0004E8  10000020   BEQ ZERO, ZERO, 0x9D00056C
9D0004EC  00000000   NOP
9D0004F0  8FC20000   LW V0, 0(FP)
9D0004F4  8FC30008   LW V1, 8(FP)
9D0004F8  00621821   ADDU V1, V1, V0
9D0004FC  8FC20018   LW V0, 24(FP)
9D000500  8C42000C   LW V0, 12(V0)
9D000504  8FC40018   LW A0, 24(FP)
9D000508  94840002   LHU A0, 2(A0)
9D00050C  00441021   ADDU V0, V0, A0
9D000510  90630000   LBU V1, 0(V1)
9D000514  A0430000   SB V1, 0(V0)
9D000518  8FC20000   LW V0, 0(FP)
9D00051C  24420001   ADDIU V0, V0, 1
9D000520  AFC20000   SW V0, 0(FP)
9D000524  8FC20018   LW V0, 24(FP)
9D000528  94420002   LHU V0, 2(V0)
9D00052C  00401825   OR V1, V0, ZERO
9D000530  8FC20018   LW V0, 24(FP)
9D000534  94420004   LHU V0, 4(V0)
9D000538  2442FFFF   ADDIU V0, V0, -1
9D00053C  0062102A   SLT V0, V1, V0
9D000540  10400007   BEQ V0, ZERO, 0x9D000560
9D000544  00000000   NOP
9D000548  8FC20018   LW V0, 24(FP)
9D00054C  94420002   LHU V0, 2(V0)
9D000550  24420001   ADDIU V0, V0, 1
9D000554  3042FFFF   ANDI V0, V0, -1
9D000558  10000002   BEQ ZERO, ZERO, 0x9D000564
9D00055C  00000000   NOP
9D000560  00001025   OR V0, ZERO, ZERO
9D000564  8FC30018   LW V1, 24(FP)
9D000568  A4620002   SH V0, 2(V1)
9D00056C  97C20020   LHU V0, 32(FP)
9D000570  8FC30000   LW V1, 0(FP)
9D000574  0062102A   SLT V0, V1, V0
9D000578  1440FFDD   BNE V0, ZERO, 0x9D0004F0
9D00057C  00000000   NOP
9D000580  8FC20018   LW V0, 24(FP)
9D000584  94430006   LHU V1, 6(V0)
9D000588  8FC20000   LW V0, 0(FP)
9D00058C  3042FFFF   ANDI V0, V0, -1
9D000590  00621021   ADDU V0, V1, V0
9D000594  3043FFFF   ANDI V1, V0, -1
9D000598  8FC20018   LW V0, 24(FP)
9D00059C  A4430006   SH V1, 6(V0)
9D0005A0  24020001   ADDIU V0, ZERO, 1
9D0005A4  10000047   BEQ ZERO, ZERO, 0x9D0006C4
9D0005A8  00000000   NOP
9D0005AC  AFC00004   SW ZERO, 4(FP)
9D0005B0  1000003B   BEQ ZERO, ZERO, 0x9D0006A0
9D0005B4  00000000   NOP
9D0005B8  8FC20018   LW V0, 24(FP)
9D0005BC  94430006   LHU V1, 6(V0)
9D0005C0  8FC20018   LW V0, 24(FP)
9D0005C4  94420004   LHU V0, 4(V0)
9D0005C8  14620010   BNE V1, V0, 0x9D00060C
9D0005CC  00000000   NOP
9D0005D0  8FC20018   LW V0, 24(FP)
9D0005D4  90430008   LBU V1, 8(V0)
9D0005D8  97C20020   LHU V0, 32(FP)
9D0005DC  304400FF   ANDI A0, V0, 255
9D0005E0  8FC20004   LW V0, 4(FP)
9D0005E4  304200FF   ANDI V0, V0, 255
9D0005E8  00821023   SUBU V0, A0, V0
9D0005EC  304200FF   ANDI V0, V0, 255
9D0005F0  00621021   ADDU V0, V1, V0
9D0005F4  304300FF   ANDI V1, V0, 255
9D0005F8  8FC20018   LW V0, 24(FP)
9D0005FC  A0430008   SB V1, 8(V0)
9D000600  00001025   OR V0, ZERO, ZERO
9D000604  1000002F   BEQ ZERO, ZERO, 0x9D0006C4
9D000608  00000000   NOP
9D00060C  8FC20004   LW V0, 4(FP)
9D000610  8FC30008   LW V1, 8(FP)
9D000614  00621821   ADDU V1, V1, V0
9D000618  8FC20018   LW V0, 24(FP)
9D00061C  8C42000C   LW V0, 12(V0)
9D000620  8FC40018   LW A0, 24(FP)
9D000624  94840002   LHU A0, 2(A0)
9D000628  00441021   ADDU V0, V0, A0
9D00062C  90630000   LBU V1, 0(V1)
9D000630  A0430000   SB V1, 0(V0)
9D000634  8FC20004   LW V0, 4(FP)
9D000638  24420001   ADDIU V0, V0, 1
9D00063C  AFC20004   SW V0, 4(FP)
9D000640  8FC20018   LW V0, 24(FP)
9D000644  94420006   LHU V0, 6(V0)
9D000648  24420001   ADDIU V0, V0, 1
9D00064C  3043FFFF   ANDI V1, V0, -1
9D000650  8FC20018   LW V0, 24(FP)
9D000654  A4430006   SH V1, 6(V0)
9D000658  8FC20018   LW V0, 24(FP)
9D00065C  94420002   LHU V0, 2(V0)
9D000660  00401825   OR V1, V0, ZERO
9D000664  8FC20018   LW V0, 24(FP)
9D000668  94420004   LHU V0, 4(V0)
9D00066C  2442FFFF   ADDIU V0, V0, -1
9D000670  0062102A   SLT V0, V1, V0
9D000674  10400007   BEQ V0, ZERO, 0x9D000694
9D000678  00000000   NOP
9D00067C  8FC20018   LW V0, 24(FP)
9D000680  94420002   LHU V0, 2(V0)
9D000684  24420001   ADDIU V0, V0, 1
9D000688  3042FFFF   ANDI V0, V0, -1
9D00068C  10000002   BEQ ZERO, ZERO, 0x9D000698
9D000690  00000000   NOP
9D000694  00001025   OR V0, ZERO, ZERO
9D000698  8FC30018   LW V1, 24(FP)
9D00069C  A4620002   SH V0, 2(V1)
9D0006A0  97C20020   LHU V0, 32(FP)
9D0006A4  8FC30004   LW V1, 4(FP)
9D0006A8  0062102A   SLT V0, V1, V0
9D0006AC  1440FFC2   BNE V0, ZERO, 0x9D0005B8
9D0006B0  00000000   NOP
9D0006B4  24020001   ADDIU V0, ZERO, 1
9D0006B8  10000002   BEQ ZERO, ZERO, 0x9D0006C4
9D0006BC  00000000   NOP
9D0006C0  00001025   OR V0, ZERO, ZERO
9D0006C4  03C0E825   OR SP, FP, ZERO
9D0006C8  8FBE0014   LW FP, 20(SP)
9D0006CC  27BD0018   ADDIU SP, SP, 24
9D0006D0  03E00008   JR RA
9D0006D4  00000000   NOP
9D0006D8  27BDFFF8   ADDIU SP, SP, -8
9D0006DC  AFBE0004   SW FP, 4(SP)
9D0006E0  03A0F025   OR FP, SP, ZERO
9D0006E4  AFC40008   SW A0, 8(FP)
9D0006E8  AFC5000C   SW A1, 12(FP)
9D0006EC  8FC20008   LW V0, 8(FP)
9D0006F0  10400010   BEQ V0, ZERO, 0x9D000734
9D0006F4  00000000   NOP
9D0006F8  8FC20008   LW V0, 8(FP)
9D0006FC  94420006   LHU V0, 6(V0)
9D000700  1040000C   BEQ V0, ZERO, 0x9D000734
9D000704  00000000   NOP
9D000708  8FC20008   LW V0, 8(FP)
9D00070C  8C42000C   LW V0, 12(V0)
9D000710  8FC30008   LW V1, 8(FP)
9D000714  94630000   LHU V1, 0(V1)
9D000718  00431021   ADDU V0, V0, V1
9D00071C  90430000   LBU V1, 0(V0)
9D000720  8FC2000C   LW V0, 12(FP)
9D000724  A0430000   SB V1, 0(V0)
9D000728  24020001   ADDIU V0, ZERO, 1
9D00072C  10000002   BEQ ZERO, ZERO, 0x9D000738
9D000730  00000000   NOP
9D000734  00001025   OR V0, ZERO, ZERO
9D000738  03C0E825   OR SP, FP, ZERO
9D00073C  8FBE0004   LW FP, 4(SP)
9D000740  27BD0008   ADDIU SP, SP, 8
9D000744  03E00008   JR RA
9D000748  00000000   NOP
9D00074C  27BDFFE8   ADDIU SP, SP, -24
9D000750  AFBE0014   SW FP, 20(SP)
9D000754  03A0F025   OR FP, SP, ZERO
9D000758  AFC40018   SW A0, 24(FP)
9D00075C  AFC5001C   SW A1, 28(FP)
9D000760  00C01025   OR V0, A2, ZERO
9D000764  A7C20020   SH V0, 32(FP)
9D000768  8FC20018   LW V0, 24(FP)
9D00076C  10400030   BEQ V0, ZERO, 0x9D000830
9D000770  00000000   NOP
9D000774  8FC2001C   LW V0, 28(FP)
9D000778  AFC20008   SW V0, 8(FP)
9D00077C  8FC20018   LW V0, 24(FP)
9D000780  94420006   LHU V0, 6(V0)
9D000784  97C30020   LHU V1, 32(FP)
9D000788  0043102B   SLTU V0, V0, V1
9D00078C  14400028   BNE V0, ZERO, 0x9D000830
9D000790  00000000   NOP
9D000794  8FC20018   LW V0, 24(FP)
9D000798  94420000   LHU V0, 0(V0)
9D00079C  AFC20004   SW V0, 4(FP)
9D0007A0  A7C00000   SH ZERO, 0(FP)
9D0007A4  1000001A   BEQ ZERO, ZERO, 0x9D000810
9D0007A8  00000000   NOP
9D0007AC  8FC20018   LW V0, 24(FP)
9D0007B0  8C43000C   LW V1, 12(V0)
9D0007B4  8FC20004   LW V0, 4(FP)
9D0007B8  00621821   ADDU V1, V1, V0
9D0007BC  97C20000   LHU V0, 0(FP)
9D0007C0  8FC40008   LW A0, 8(FP)
9D0007C4  00821021   ADDU V0, A0, V0
9D0007C8  90630000   LBU V1, 0(V1)
9D0007CC  A0430000   SB V1, 0(V0)
9D0007D0  8FC20018   LW V0, 24(FP)
9D0007D4  94420004   LHU V0, 4(V0)
9D0007D8  2442FFFF   ADDIU V0, V0, -1
9D0007DC  8FC30004   LW V1, 4(FP)
9D0007E0  0062102A   SLT V0, V1, V0
9D0007E4  10400006   BEQ V0, ZERO, 0x9D000800
9D0007E8  00000000   NOP
9D0007EC  8FC20004   LW V0, 4(FP)
9D0007F0  24420001   ADDIU V0, V0, 1
9D0007F4  AFC20004   SW V0, 4(FP)
9D0007F8  10000002   BEQ ZERO, ZERO, 0x9D000804
9D0007FC  00000000   NOP
9D000800  AFC00004   SW ZERO, 4(FP)
9D000804  97C20000   LHU V0, 0(FP)
9D000808  24420001   ADDIU V0, V0, 1
9D00080C  A7C20000   SH V0, 0(FP)
9D000810  97C30000   LHU V1, 0(FP)
9D000814  97C20020   LHU V0, 32(FP)
9D000818  0062102B   SLTU V0, V1, V0
9D00081C  1440FFE3   BNE V0, ZERO, 0x9D0007AC
9D000820  00000000   NOP
9D000824  24020001   ADDIU V0, ZERO, 1
9D000828  10000002   BEQ ZERO, ZERO, 0x9D000834
9D00082C  00000000   NOP
9D000830  00001025   OR V0, ZERO, ZERO
9D000834  03C0E825   OR SP, FP, ZERO
9D000838  8FBE0014   LW FP, 20(SP)
9D00083C  27BD0018   ADDIU SP, SP, 24
9D000840  03E00008   JR RA
9D000844  00000000   NOP
9D000848  27BDFFF8   ADDIU SP, SP, -8
9D00084C  AFBE0004   SW FP, 4(SP)
9D000850  03A0F025   OR FP, SP, ZERO
9D000854  AFC40008   SW A0, 8(FP)
9D000858  00A01025   OR V0, A1, ZERO
9D00085C  A7C2000C   SH V0, 12(FP)
9D000860  8FC20008   LW V0, 8(FP)
9D000864  94420006   LHU V0, 6(V0)
9D000868  97C3000C   LHU V1, 12(FP)
9D00086C  0062102B   SLTU V0, V1, V0
9D000870  10400029   BEQ V0, ZERO, 0x9D000918
9D000874  00000000   NOP
9D000878  8FC20008   LW V0, 8(FP)
9D00087C  94420004   LHU V0, 4(V0)
9D000880  00401825   OR V1, V0, ZERO
9D000884  8FC20008   LW V0, 8(FP)
9D000888  94420000   LHU V0, 0(V0)
9D00088C  00621823   SUBU V1, V1, V0
9D000890  97C2000C   LHU V0, 12(FP)
9D000894  0062102A   SLT V0, V1, V0
9D000898  1040000E   BEQ V0, ZERO, 0x9D0008D4
9D00089C  00000000   NOP
9D0008A0  8FC20008   LW V0, 8(FP)
9D0008A4  94430000   LHU V1, 0(V0)
9D0008A8  8FC20008   LW V0, 8(FP)
9D0008AC  94420004   LHU V0, 4(V0)
9D0008B0  00621023   SUBU V0, V1, V0
9D0008B4  3043FFFF   ANDI V1, V0, -1
9D0008B8  97C2000C   LHU V0, 12(FP)
9D0008BC  00621021   ADDU V0, V1, V0
9D0008C0  3043FFFF   ANDI V1, V0, -1
9D0008C4  8FC20008   LW V0, 8(FP)
9D0008C8  A4430000   SH V1, 0(V0)
9D0008CC  10000008   BEQ ZERO, ZERO, 0x9D0008F0
9D0008D0  00000000   NOP
9D0008D4  8FC20008   LW V0, 8(FP)
9D0008D8  94430000   LHU V1, 0(V0)
9D0008DC  97C2000C   LHU V0, 12(FP)
9D0008E0  00621021   ADDU V0, V1, V0
9D0008E4  3043FFFF   ANDI V1, V0, -1
9D0008E8  8FC20008   LW V0, 8(FP)
9D0008EC  A4430000   SH V1, 0(V0)
9D0008F0  8FC20008   LW V0, 8(FP)
9D0008F4  94430006   LHU V1, 6(V0)
9D0008F8  97C2000C   LHU V0, 12(FP)
9D0008FC  00621023   SUBU V0, V1, V0
9D000900  3043FFFF   ANDI V1, V0, -1
9D000904  8FC20008   LW V0, 8(FP)
9D000908  A4430006   SH V1, 6(V0)
9D00090C  24020001   ADDIU V0, ZERO, 1
9D000910  10000008   BEQ ZERO, ZERO, 0x9D000934
9D000914  00000000   NOP
9D000918  8FC20008   LW V0, 8(FP)
9D00091C  94430002   LHU V1, 2(V0)
9D000920  8FC20008   LW V0, 8(FP)
9D000924  A4430000   SH V1, 0(V0)
9D000928  8FC20008   LW V0, 8(FP)
9D00092C  A4400006   SH ZERO, 6(V0)
9D000930  24020001   ADDIU V0, ZERO, 1
9D000934  03C0E825   OR SP, FP, ZERO
9D000938  8FBE0004   LW FP, 4(SP)
9D00093C  27BD0008   ADDIU SP, SP, 8
9D000940  03E00008   JR RA
9D000944  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/board.c  ----------------------------------------------------
1:                   /*
2:                    * File:   BOARD.h
3:                    * Author: Max Dunne
4:                    *
5:                    * Created on December 19, 2012, 2:08 PM
6:                    * 
7:                    * Much of the odder code come directly from the microchip peripheral library as reinventing the wheel seemed
8:                    * not necessary
9:                    */
10:                  
11:                  #include "BOARD.h"
12:                  
13:                  // Microchip Libraries
14:                  #ifdef PIC32
15:                  #include <xc.h>
16:                  #endif
17:                  #include <stdint.h>
18:                  #include <stdio.h>
19:                  #include <stdlib.h>
20:                  
21:                  // no legacy libc
22:                  #ifdef PIC32
23:                  #ifdef __C32_LEGACY_LIBC__
24:                  #error CSE13E Can not be done with legacy libc. Ensure project properties -> XC32 (Global Options) -> Use legacy libc is UN checked. 
25:                  #endif
26:                  #endif
27:                  
28:                  /*******************************************************************************
29:                   * PRAGMAS                                                                     *
30:                   ******************************************************************************/
31:                  // Configuration Bits
32:                  // SYSCLK = 80MHz
33:                  // PBCLK  = 20MHz
34:                  // using POSC w/ PLL, XT mode
35:                  #ifdef PIC32
36:                  #pragma config FPBDIV     = DIV_4
37:                  #pragma config FPLLIDIV   = DIV_2     // Set the PLL input divider to 2, seems to
38:                  #pragma config IESO       = OFF       // Internal/External Switch
39:                  #pragma config POSCMOD    = XT        // Primary Oscillator Configuration for XT osc mode
40:                  #pragma config OSCIOFNC   = OFF       // Disable clock signal output
41:                  #pragma config FCKSM      = CSECMD    // Clock Switching and Monitor Selection
42:                  #pragma config WDTPS      = PS1       // Specify the watchdog timer interval (unused)
43:                  #pragma config FWDTEN     = OFF       // Disable the watchdog timer
44:                  #pragma config ICESEL     = ICS_PGx2  // Allow for debugging with the Uno32
45:                  #pragma config PWP        = OFF       // Keep the program flash writeable
46:                  #pragma config BWP        = OFF       // Keep the boot flash writeable
47:                  #pragma config CP         = OFF       // Disable code protect
48:                  #pragma config FNOSC 		= PRIPLL	//Oscillator Selection Bits
49:                  #pragma config FSOSCEN 		= OFF		//Secondary Oscillator Enable
50:                  #pragma config FPLLMUL 		= MUL_20	//PLL Multiplier
51:                  #pragma config FPLLODIV 	= DIV_1 	//System PLL Output Clock Divid
52:                  #endif
53:                  /*******************************************************************************
54:                   * PRIVATE #DEFINES                                                            *
55:                   ******************************************************************************/
56:                  #define SYSTEM_CLOCK 80000000L
57:                  #define PB_CLOCK (SYSTEM_CLOCK / 4)
58:                  #define QUEUESIZE 512
59:                  //#define TurnOffAndClearInterrupt(Name) INTEnable(Name,INT_DISABLED); INTClearFlag(Name)
60:                  #define TurnPortToInput(Tris) Tris=0xFFFF
61:                  
62:                  
63:                  //#define LAB10_READ_OVERWRITE
64:                  /*******************************************************************************
65:                   * PRIVATE DATATYPES                                                           *
66:                   ******************************************************************************/
67:                  
68:                  
69:                  
70:                  /*******************************************************************************
71:                   * PRIVATE FUNCTION PROTOTYPES                                                 *
72:                   ******************************************************************************/
73:                  void SERIAL_Init(void);
74:                  
75:                  /*******************************************************************************
76:                   * PRIVATE VARIABLES                                                           *
77:                   ******************************************************************************/
78:                  
79:                  
80:                  /*******************************************************************************
81:                   * PUBLIC FUNCTIONS                                                            *
82:                   ******************************************************************************/
83:                  
84:                  /**
85:                   * Function: BOARD_Init(void)
86:                   * @param None
87:                   * @return None
88:                   * @brief Initializes the board for 80MHz SYSCLK and 20MHz PBCLK.
89:                   */
90:                  void BOARD_Init() {
91:                  #ifdef PIC32
92:                      //seeds the random number generator with the time
93:                      char seed1[] = __TIME__;
94:                      unsigned int seed2 = (((unsigned int) (seed1[7] ^ seed1[2])) << 8) | ((unsigned int) (seed1[4] ^ seed1[6]));
95:                      srand(seed2);
96:                  
97:                      //enables the interrupt system in the new style
98:                      
99:                      //INTConfigureSystem(INT_SYSTEM_CONFIG_MULT_VECTOR); 
100:                     unsigned int val;
101:                 
102:                     // set the CP0 cause IV bit high
103:                     asm volatile("mfc0   %0,$13" : "=r"(val));
104:                     val |= 0x00800000;
105:                     asm volatile("mtc0   %0,$13" : "+r"(val));
106:                     INTCONSET = _INTCON_MVEC_MASK;
107:                     
108:                     //INTEnableInterrupts();
109:                     int status;
110:                     asm volatile("ei    %0" : "=r"(status));
111:                     // Initialize for serial
112:                     SERIAL_Init();
113:                 #endif
114:                 }
115:                 
116:                 /**
117:                  * Function: BOARD_End(void)
118:                  * @param None
119:                  * @return None
120:                  * @brief shuts down all peripherals except for serial and A/D. Turns all pins
121:                  * into input
122:                  * @author Max Dunne, 2013.09.20  */
123:                 void BOARD_End() {
124:                 #ifdef PIC32
125:                     // set all interrupt enable flags to zero
126:                     IEC0 = 0;
127:                     IEC1 = 0;
128:                 
129:                     //set all flags to zero
130:                     IFS0 = 0;
131:                     IFS1 = 0;
132:                 
133:                     // disable timer interrupts, clear flags and turn off module
134:                     T1CON = 0;
135:                     T2CON = 0;
136:                     T3CON = 0;
137:                     T4CON = 0;
138:                     T5CON = 0;
139:                 
140:                 
141:                     // disable input capture interrupts, clear flags and turn off module
142:                     IC1CONCLR = _IC1CON_ICM_MASK;
143:                     IC2CONCLR = _IC2CON_ICM_MASK;
144:                     IC3CONCLR = _IC3CON_ICM_MASK;
145:                     IC4CONCLR = _IC4CON_ICM_MASK;
146:                     IC5CONCLR = _IC5CON_ICM_MASK;
147:                 
148:                     // disable output compare interrupts, clear flags and turn off module
149:                     OC1CONCLR = _OC1CON_ON_MASK;
150:                     OC2CONCLR = _OC2CON_ON_MASK;
151:                     OC3CONCLR = _OC3CON_ON_MASK;
152:                     OC4CONCLR = _OC4CON_ON_MASK;
153:                     OC5CONCLR = _OC5CON_ON_MASK;
154:                 
155:                     // disable I2C interrupts, clear flags and turn off module
156:                     I2C1CONCLR = _I2C1CON_ON_MASK;
157:                     I2C2CONCLR = _I2C2CON_ON_MASK;
158:                 
159:                     //disable spi interrupts, clear flags and turn off module
160:                     SPI1CONCLR = _SPI1CON_ON_MASK;
161:                     SPI2CONCLR = _SPI2CON_ON_MASK;
162:                 
163:                     // disable external interrupts, clear flags and turn off module
164:                 
165:                     // set all ports to be digital inputs
166:                     TurnPortToInput(TRISB);
167:                     TurnPortToInput(TRISC);
168:                     TurnPortToInput(TRISD);
169:                     TurnPortToInput(TRISE);
170:                     TurnPortToInput(TRISF);
171:                     TurnPortToInput(TRISG);
172:                 
173:                 #else
174:                     exit(0);
175:                 #endif   
176:                 }
177:                 
178:                 /**
179:                  * Function: BOARD_GetPBClock(void)
180:                  * @param None
181:                  * @return
182:                  */
183:                 unsigned int BOARD_GetPBClock() {
184:                     return PB_CLOCK;
185:                 }
186:                 
187:                 /**
188:                  * Function: BOARD_GetSysClock(void)
189:                  * @param None
190:                  * @return
191:                  */
192:                 unsigned int BOARD_GetSysClock() {
193:                     return SYSTEM_CLOCK;
194:                 }
195:                 
196:                 /*******************************************************************************
197:                  * PRIVATE FUNCTIONS                                                           *
198:                  ******************************************************************************/
199:                 
200:                 /**
201:                  * @Function SERIAL_Init(void)
202:                  * @param none
203:                  * @return none
204:                  * @brief  Initializes the UART subsystem to 115200 and sets up the circular buffer
205:                  * @author Max Dunne, 2011.11.10 */
206:                 
207:                 void SERIAL_Init(void) {
208:                 #ifdef PIC32
209:                     // we first clear the Configs Register to ensure a blank state and peripheral is off.
210:                     U1MODE = 0;
211:                     U1STA = 0;
212:                     //UARTConfigure(UART1, 0x00);
213:                 
214:                     //we then calculate the required frequency, note that this comes from plib source to avoid rounding errors
215:                     int sourceClock = BOARD_GetPBClock() >> 3;
216:                     int brg = sourceClock / 115200;
217:                     brg++;
218:                     brg >>= 1;
219:                     brg--;
220:                     U1BRG = brg;
221:                     //UARTSetDataRate(UART1, PB_CLOCK, 115200);
222:                     //UARTSetFifoMode(UART1, UART_INTERRUPT_ON_RX_NOT_EMPTY | UART_INTERRUPT_ON_RX_NOT_EMPTY);
223:                 
224:                     //we now enable the device
225:                 
226:                     U1STAbits.UTXEN = 1;
227:                     U1STAbits.URXEN = 1;
228:                     U1MODEbits.UARTEN = 1;
229:                 
230:                     //UARTEnable(UART1, UART_ENABLE_FLAGS(UART_PERIPHERAL | UART_TX | UART_RX));
231:                     __XC_UART = 1;
232:                     //printf("\r\n%d\t%d",U1BRG,brg);
233:                 #endif
234:                 }
235:                 
236:                 
237:                 
238:                 /*******************************************************************************
239:                  * OVERRIDE FUNCTIONS                                                          *
240:                  ******************************************************************************/
241:                 
242:                 /**
243:                  * @Function read(int handle, void *buffer, unsigned int len)
244:                  * @param handle
245:                  * @param buffer
246:                  * @param len
247:                  * @return Returns the number of characters read into buffer
248:                  * @brief Overrides the built-in function called for scanf() to ensure proper functionality
249:                  */
250:                 #ifdef PIC32
251:                 #ifndef LAB10_READ_OVERWRITE
252:                 
253:                 int read(int handle, char *buffer, unsigned int len) {
254:                     int i;
255:                     if (handle == 0) {
256:                         while (!U1STAbits.URXDA) {
257:                             if (U1STAbits.OERR) {
258:                                 U1STAbits.OERR = 0;
259:                             }
260:                             continue;
261:                         }
262:                         i = 0;
263:                         while (U1STAbits.URXDA) {
264:                             char tmp = U1RXREG;
265:                             if (tmp == '\r') {
266:                                 tmp = '\n';
267:                             }
268:                             *(char*) buffer++ = tmp;
269:                             //WriteUART1(tmp);
270:                             U1TXREG = tmp;
271:                             i++;
272:                         }
273:                         return i;
274:                     }
275:                     return 0;
276:                 }
277:                 #endif
278:                 #endif
279:                 
280:                 
281:                 #ifdef BOARD_TEST
282:                 
283:                 int main(void) {
284:                     BOARD_Init();
285:                     printf("\r\nThis stub tests SERIAL Functionality with scanf");
286:                     printf("\r\nIt will intake integers and divide by 2");
287:                     printf("\r\n Peripheral Clock: %d", BOARD_GetPBClock());
288:                     printf("\r\n Peripheral Clock: %d\r\n", BOARD_GetSysClock());
289:                     char trash;
290:                     int input;
291:                     while (1) {
292:                         scanf("%d%c", &input, &trash);
293:                         printf("\r\nEntered: %d\t/2: %d\r\n", input, input / 2);
294:                     }
295:                     while (1);
296:                     return 0;
297:                 }
298:                 #endif
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D002DF8  27BDFFD0   ADDIU SP, SP, -48
9D002DFC  AFBF002C   SW RA, 44(SP)
9D002E00  AFBE0028   SW FP, 40(SP)
9D002E04  03A0F025   OR FP, SP, ZERO
9D002E08  3C029D00   LUI V0, -25344
9D002E0C  8C446650   LW A0, 26192(V0)
9D002E10  24436650   ADDIU V1, V0, 26192
9D002E14  8C630004   LW V1, 4(V1)
9D002E18  AFC4001C   SW A0, 28(FP)
9D002E1C  AFC30020   SW V1, 32(FP)
9D002E20  24426650   ADDIU V0, V0, 26192
9D002E24  90420008   LBU V0, 8(V0)
9D002E28  A3C20024   SB V0, 36(FP)
9D002E2C  83C30023   LB V1, 35(FP)
9D002E30  83C2001E   LB V0, 30(FP)
9D002E34  00621026   XOR V0, V1, V0
9D002E38  7C021420   SEB V0, V0
9D002E3C  00021200   SLL V0, V0, 8
9D002E40  83C40020   LB A0, 32(FP)
9D002E44  83C30022   LB V1, 34(FP)
9D002E48  00831826   XOR V1, A0, V1
9D002E4C  7C031C20   SEB V1, V1
9D002E50  00431025   OR V0, V0, V1
9D002E54  AFC20010   SW V0, 16(FP)
9D002E58  0F40198D   JAL srand
9D002E5C  8FC40010   LW A0, 16(FP)
9D002E60  40026800   MFC0 V0, Cause
9D002E64  AFC20014   SW V0, 20(FP)
9D002E68  8FC30014   LW V1, 20(FP)
9D002E6C  3C020080   LUI V0, 128
9D002E70  00621025   OR V0, V1, V0
9D002E74  AFC20014   SW V0, 20(FP)
9D002E78  8FC20014   LW V0, 20(FP)
9D002E7C  40826800   MTC0 V0, Cause
9D002E80  AFC20014   SW V0, 20(FP)
9D002E84  3C02BF88   LUI V0, -16504
9D002E88  24031000   ADDIU V1, ZERO, 4096
9D002E8C  AC431008   SW V1, 4104(V0)
9D002E90  41626020   EI V0
9D002E94  AFC20018   SW V0, 24(FP)
9D002E98  0F400C1A   JAL SERIAL_Init
9D002E9C  00000000   NOP
9D002EA0  00000000   NOP
9D002EA4  03C0E825   OR SP, FP, ZERO
9D002EA8  8FBF002C   LW RA, 44(SP)
9D002EAC  8FBE0028   LW FP, 40(SP)
9D002EB0  27BD0030   ADDIU SP, SP, 48
9D002EB4  03E00008   JR RA
9D002EB8  00000000   NOP
9D002EBC  27BDFFF8   ADDIU SP, SP, -8
9D002EC0  AFBE0004   SW FP, 4(SP)
9D002EC4  03A0F025   OR FP, SP, ZERO
9D002EC8  3C02BF88   LUI V0, -16504
9D002ECC  AC401060   SW ZERO, 4192(V0)
9D002ED0  3C02BF88   LUI V0, -16504
9D002ED4  AC401070   SW ZERO, 4208(V0)
9D002ED8  3C02BF88   LUI V0, -16504
9D002EDC  AC401030   SW ZERO, 4144(V0)
9D002EE0  3C02BF88   LUI V0, -16504
9D002EE4  AC401040   SW ZERO, 4160(V0)
9D002EE8  3C02BF80   LUI V0, -16512
9D002EEC  AC400600   SW ZERO, 1536(V0)
9D002EF0  3C02BF80   LUI V0, -16512
9D002EF4  AC400800   SW ZERO, 2048(V0)
9D002EF8  3C02BF80   LUI V0, -16512
9D002EFC  AC400A00   SW ZERO, 2560(V0)
9D002F00  3C02BF80   LUI V0, -16512
9D002F04  AC400C00   SW ZERO, 3072(V0)
9D002F08  3C02BF80   LUI V0, -16512
9D002F0C  AC400E00   SW ZERO, 3584(V0)
9D002F10  3C02BF80   LUI V0, -16512
9D002F14  24030007   ADDIU V1, ZERO, 7
9D002F18  AC432004   SW V1, 8196(V0)
9D002F1C  3C02BF80   LUI V0, -16512
9D002F20  24030007   ADDIU V1, ZERO, 7
9D002F24  AC432204   SW V1, 8708(V0)
9D002F28  3C02BF80   LUI V0, -16512
9D002F2C  24030007   ADDIU V1, ZERO, 7
9D002F30  AC432404   SW V1, 9220(V0)
9D002F34  3C02BF80   LUI V0, -16512
9D002F38  24030007   ADDIU V1, ZERO, 7
9D002F3C  AC432604   SW V1, 9732(V0)
9D002F40  3C02BF80   LUI V0, -16512
9D002F44  24030007   ADDIU V1, ZERO, 7
9D002F48  AC432804   SW V1, 10244(V0)
9D002F4C  3C02BF80   LUI V0, -16512
9D002F50  34038000   ORI V1, ZERO, -32768
9D002F54  AC433004   SW V1, 12292(V0)
9D002F58  3C02BF80   LUI V0, -16512
9D002F5C  34038000   ORI V1, ZERO, -32768
9D002F60  AC433204   SW V1, 12804(V0)
9D002F64  3C02BF80   LUI V0, -16512
9D002F68  34038000   ORI V1, ZERO, -32768
9D002F6C  AC433404   SW V1, 13316(V0)
9D002F70  3C02BF80   LUI V0, -16512
9D002F74  34038000   ORI V1, ZERO, -32768
9D002F78  AC433604   SW V1, 13828(V0)
9D002F7C  3C02BF80   LUI V0, -16512
9D002F80  34038000   ORI V1, ZERO, -32768
9D002F84  AC433804   SW V1, 14340(V0)
9D002F88  3C02BF80   LUI V0, -16512
9D002F8C  34038000   ORI V1, ZERO, -32768
9D002F90  AC435004   SW V1, 20484(V0)
9D002F94  3C02BF80   LUI V0, -16512
9D002F98  34038000   ORI V1, ZERO, -32768
9D002F9C  AC435204   SW V1, 20996(V0)
9D002FA0  3C02BF80   LUI V0, -16512
9D002FA4  34038000   ORI V1, ZERO, -32768
9D002FA8  AC435804   SW V1, 22532(V0)
9D002FAC  3C02BF80   LUI V0, -16512
9D002FB0  34038000   ORI V1, ZERO, -32768
9D002FB4  AC435A04   SW V1, 23044(V0)
9D002FB8  3C02BF88   LUI V0, -16504
9D002FBC  3403FFFF   ORI V1, ZERO, -1
9D002FC0  AC436040   SW V1, 24640(V0)
9D002FC4  3C02BF88   LUI V0, -16504
9D002FC8  3403FFFF   ORI V1, ZERO, -1
9D002FCC  AC436080   SW V1, 24704(V0)
9D002FD0  3C02BF88   LUI V0, -16504
9D002FD4  3403FFFF   ORI V1, ZERO, -1
9D002FD8  AC4360C0   SW V1, 24768(V0)
9D002FDC  3C02BF88   LUI V0, -16504
9D002FE0  3403FFFF   ORI V1, ZERO, -1
9D002FE4  AC436100   SW V1, 24832(V0)
9D002FE8  3C02BF88   LUI V0, -16504
9D002FEC  3403FFFF   ORI V1, ZERO, -1
9D002FF0  AC436140   SW V1, 24896(V0)
9D002FF4  3C02BF88   LUI V0, -16504
9D002FF8  3403FFFF   ORI V1, ZERO, -1
9D002FFC  AC436180   SW V1, 24960(V0)
9D003000  00000000   NOP
9D003004  03C0E825   OR SP, FP, ZERO
9D003008  8FBE0004   LW FP, 4(SP)
9D00300C  27BD0008   ADDIU SP, SP, 8
9D003010  03E00008   JR RA
9D003014  00000000   NOP
9D003018  27BDFFF8   ADDIU SP, SP, -8
9D00301C  AFBE0004   SW FP, 4(SP)
9D003020  03A0F025   OR FP, SP, ZERO
9D003024  3C020131   LUI V0, 305
9D003028  34422D00   ORI V0, V0, 11520
9D00302C  03C0E825   OR SP, FP, ZERO
9D003030  8FBE0004   LW FP, 4(SP)
9D003034  27BD0008   ADDIU SP, SP, 8
9D003038  03E00008   JR RA
9D00303C  00000000   NOP
9D003040  27BDFFF8   ADDIU SP, SP, -8
9D003044  AFBE0004   SW FP, 4(SP)
9D003048  03A0F025   OR FP, SP, ZERO
9D00304C  3C0204C4   LUI V0, 1220
9D003050  3442B400   ORI V0, V0, -19456
9D003054  03C0E825   OR SP, FP, ZERO
9D003058  8FBE0004   LW FP, 4(SP)
9D00305C  27BD0008   ADDIU SP, SP, 8
9D003060  03E00008   JR RA
9D003064  00000000   NOP
9D003068  27BDFFE0   ADDIU SP, SP, -32
9D00306C  AFBF001C   SW RA, 28(SP)
9D003070  AFBE0018   SW FP, 24(SP)
9D003074  03A0F025   OR FP, SP, ZERO
9D003078  3C02BF80   LUI V0, -16512
9D00307C  AC406000   SW ZERO, 24576(V0)
9D003080  3C02BF80   LUI V0, -16512
9D003084  AC406010   SW ZERO, 24592(V0)
9D003088  0F400C06   JAL BOARD_GetPBClock
9D00308C  00000000   NOP
9D003090  000210C2   SRL V0, V0, 3
9D003094  AFC20010   SW V0, 16(FP)
9D003098  8FC20010   LW V0, 16(FP)
9D00309C  3C0391A2   LUI V1, -28254
9D0030A0  3463B3C5   ORI V1, V1, -19515
9D0030A4  00430018   MULT 0, V0, V1
9D0030A8  00001810   MFHI V1
9D0030AC  00621821   ADDU V1, V1, V0
9D0030B0  00031C03   SRA V1, V1, 16
9D0030B4  000217C3   SRA V0, V0, 31
9D0030B8  00621023   SUBU V0, V1, V0
9D0030BC  AFC20014   SW V0, 20(FP)
9D0030C0  8FC20014   LW V0, 20(FP)
9D0030C4  24420001   ADDIU V0, V0, 1
9D0030C8  AFC20014   SW V0, 20(FP)
9D0030CC  8FC20014   LW V0, 20(FP)
9D0030D0  00021043   SRA V0, V0, 1
9D0030D4  AFC20014   SW V0, 20(FP)
9D0030D8  8FC20014   LW V0, 20(FP)
9D0030DC  2442FFFF   ADDIU V0, V0, -1
9D0030E0  AFC20014   SW V0, 20(FP)
9D0030E4  8FC30014   LW V1, 20(FP)
9D0030E8  3C02BF80   LUI V0, -16512
9D0030EC  AC436040   SW V1, 24640(V0)
9D0030F0  3C03BF80   LUI V1, -16512
9D0030F4  8C626010   LW V0, 24592(V1)
9D0030F8  24040001   ADDIU A0, ZERO, 1
9D0030FC  7C825284   INS V0, A0, 10, 1
9D003100  AC626010   SW V0, 24592(V1)
9D003104  3C03BF80   LUI V1, -16512
9D003108  8C626010   LW V0, 24592(V1)
9D00310C  24040001   ADDIU A0, ZERO, 1
9D003110  7C826304   INS V0, A0, 12, 1
9D003114  AC626010   SW V0, 24592(V1)
9D003118  3C03BF80   LUI V1, -16512
9D00311C  94626000   LHU V0, 24576(V1)
9D003120  24040001   ADDIU A0, ZERO, 1
9D003124  7C827BC4   INS V0, A0, 15, 1
9D003128  A4626000   SH V0, 24576(V1)
9D00312C  24020001   ADDIU V0, ZERO, 1
9D003130  AF828014   SW V0, -32748(GP)
9D003134  00000000   NOP
9D003138  03C0E825   OR SP, FP, ZERO
9D00313C  8FBF001C   LW RA, 28(SP)
9D003140  8FBE0018   LW FP, 24(SP)
9D003144  27BD0020   ADDIU SP, SP, 32
9D003148  03E00008   JR RA
9D00314C  00000000   NOP
9D003150  27BDFFF0   ADDIU SP, SP, -16
9D003154  AFBE000C   SW FP, 12(SP)
9D003158  03A0F025   OR FP, SP, ZERO
9D00315C  AFC40010   SW A0, 16(FP)
9D003160  AFC50014   SW A1, 20(FP)
9D003164  AFC60018   SW A2, 24(FP)
9D003168  8FC20010   LW V0, 16(FP)
9D00316C  14400034   BNE V0, ZERO, 0x9D003240
9D003170  00000000   NOP
9D003174  1000000C   BEQ ZERO, ZERO, 0x9D0031A8
9D003178  00000000   NOP
9D00317C  3C02BF80   LUI V0, -16512
9D003180  8C426010   LW V0, 24592(V0)
9D003184  7C420040   EXT V0, V0, 1, 1
9D003188  304200FF   ANDI V0, V0, 255
9D00318C  10400005   BEQ V0, ZERO, 0x9D0031A4
9D003190  00000000   NOP
9D003194  3C03BF80   LUI V1, -16512
9D003198  8C626010   LW V0, 24592(V1)
9D00319C  7C020844   INS V0, ZERO, 1, 1
9D0031A0  AC626010   SW V0, 24592(V1)
9D0031A4  00000000   NOP
9D0031A8  3C02BF80   LUI V0, -16512
9D0031AC  8C426010   LW V0, 24592(V0)
9D0031B0  7C420000   EXT V0, V0, 0, 1
9D0031B4  304200FF   ANDI V0, V0, 255
9D0031B8  1040FFF0   BEQ V0, ZERO, 0x9D00317C
9D0031BC  00000000   NOP
9D0031C0  AFC00000   SW ZERO, 0(FP)
9D0031C4  10000015   BEQ ZERO, ZERO, 0x9D00321C
9D0031C8  00000000   NOP
9D0031CC  3C02BF80   LUI V0, -16512
9D0031D0  8C426030   LW V0, 24624(V0)
9D0031D4  A3C20004   SB V0, 4(FP)
9D0031D8  83C30004   LB V1, 4(FP)
9D0031DC  2402000D   ADDIU V0, ZERO, 13
9D0031E0  14620003   BNE V1, V0, 0x9D0031F0
9D0031E4  00000000   NOP
9D0031E8  2402000A   ADDIU V0, ZERO, 10
9D0031EC  A3C20004   SB V0, 4(FP)
9D0031F0  8FC20014   LW V0, 20(FP)
9D0031F4  24430001   ADDIU V1, V0, 1
9D0031F8  AFC30014   SW V1, 20(FP)
9D0031FC  93C30004   LBU V1, 4(FP)
9D003200  A0430000   SB V1, 0(V0)
9D003204  83C30004   LB V1, 4(FP)
9D003208  3C02BF80   LUI V0, -16512
9D00320C  AC436020   SW V1, 24608(V0)
9D003210  8FC20000   LW V0, 0(FP)
9D003214  24420001   ADDIU V0, V0, 1
9D003218  AFC20000   SW V0, 0(FP)
9D00321C  3C02BF80   LUI V0, -16512
9D003220  8C426010   LW V0, 24592(V0)
9D003224  7C420000   EXT V0, V0, 0, 1
9D003228  304200FF   ANDI V0, V0, 255
9D00322C  1440FFE7   BNE V0, ZERO, 0x9D0031CC
9D003230  00000000   NOP
9D003234  8FC20000   LW V0, 0(FP)
9D003238  10000002   BEQ ZERO, ZERO, 0x9D003244
9D00323C  00000000   NOP
9D003240  00001025   OR V0, ZERO, ZERO
9D003244  03C0E825   OR SP, FP, ZERO
9D003248  8FBE000C   LW FP, 12(SP)
9D00324C  27BD0010   ADDIU SP, SP, 16
9D003250  03E00008   JR RA
9D003254  00000000   NOP
---  d:/cadence/spb_data/nehu/lab09/lab09.x/agent.c  ----------------------------------------------------
1:                   /*
2:                    *Neili Hu nehu 1752639
3:                    *
4:                    */
5:                   #include <stdio.h>
6:                   #include <stdlib.h>
7:                   #include <string.h>
8:                   #include "Agent.h"
9:                   #include "BattleBoats.h"
10:                  #include "Message.h"
11:                  
12:                  static int i = 0, j = 0, k = 0;
13:                  char m, l;
14:                  
15:                  static struct Agents {
16:                      AgentState state;
17:                      uint8_t counter;
18:                  } agent;
19:                  
20:                  void AgentInit(void)
21:                  {
22:                      //printf welcome?
23:                      AgentSetState(AGENT_STATE_START);
24:                      
25:                  }
26:                  
27:                  Message AgentRun(BB_Event event)
28:                  {
29:                      Message mess;
30:                      switch (event.type) {
31:                      case BB_EVENT_CHA_RECEIVED:
32:                          mess.type = MESSAGE_CHA;
33:                          mess.param0 = event.param0;
34:                          break;
35:                      case BB_EVENT_ACC_RECEIVED:
36:                          mess.type = MESSAGE_ACC;
37:                          mess.param0 = event.param0;
38:                          break;
39:                      case BB_EVENT_REV_RECEIVED:
40:                          mess.type = MESSAGE_REV;
41:                          mess.param0 = event.param0;
42:                          break;
43:                      case BB_EVENT_SHO_RECEIVED:
44:                          mess.type = MESSAGE_SHO;
45:                          mess.param0 = event.param0;
46:                          mess.param1 = event.param1;
47:                          break;
48:                      case BB_EVENT_RES_RECEIVED:
49:                          mess.type = MESSAGE_RES;
50:                          mess.param0 = event.param0;
51:                          mess.param1 = event.param1;
52:                          mess.param2 = event.param2;
53:                          break;
54:                      case BB_EVENT_NO_EVENT:
55:                          mess.type = MESSAGE_NONE;
56:                      }
57:                      return mess;
58:                  
59:                  }
60:                  
61:                  AgentState AgentGetState(void)
62:                  {
63:                      return agent.state;
64:                  }
65:                  
66:                  void AgentSetState(AgentState newState)
67:                  {
68:                      agent.state = newState;
69:                  }
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D004140  27BDFFE8   ADDIU SP, SP, -24
9D004144  AFBF0014   SW RA, 20(SP)
9D004148  AFBE0010   SW FP, 16(SP)
9D00414C  03A0F025   OR FP, SP, ZERO
9D004150  00002025   OR A0, ZERO, ZERO
9D004154  0F4010B5   JAL AgentSetState
9D004158  00000000   NOP
9D00415C  00000000   NOP
9D004160  03C0E825   OR SP, FP, ZERO
9D004164  8FBF0014   LW RA, 20(SP)
9D004168  8FBE0010   LW FP, 16(SP)
9D00416C  27BD0018   ADDIU SP, SP, 24
9D004170  03E00008   JR RA
9D004174  00000000   NOP
9D004178  27BDFFE8   ADDIU SP, SP, -24
9D00417C  AFBE0014   SW FP, 20(SP)
9D004180  03A0F025   OR FP, SP, ZERO
9D004184  AFC40018   SW A0, 24(FP)
9D004188  AFC5001C   SW A1, 28(FP)
9D00418C  AFC60020   SW A2, 32(FP)
9D004190  AFC70024   SW A3, 36(FP)
9D004194  8FC2001C   LW V0, 28(FP)
9D004198  2C430008   SLTIU V1, V0, 8
9D00419C  10600035   BEQ V1, ZERO, 0x9D004274
9D0041A0  00000000   NOP
9D0041A4  00021880   SLL V1, V0, 2
9D0041A8  3C029D00   LUI V0, -25344
9D0041AC  244241C0   ADDIU V0, V0, 16832
9D0041B0  00621021   ADDU V0, V1, V0
9D0041B4  8C420000   LW V0, 0(V0)
9D0041B8  00400008   JR V0
9D0041BC  00000000   NOP
9D0041E0  24020001   ADDIU V0, ZERO, 1
9D0041E8  97C20020   LHU V0, 32(FP)
9D0041EC  AFC20004   SW V0, 4(FP)
9D0041F0  10000020   BEQ ZERO, ZERO, 0x9D004274
9D0041F4  00000000   NOP
9D0041F8  24020002   ADDIU V0, ZERO, 2
9D0041FC  AFC20000   SW V0, 0(FP)
9D004200  97C20020   LHU V0, 32(FP)
9D004204  AFC20004   SW V0, 4(FP)
9D004208  1000001A   BEQ ZERO, ZERO, 0x9D004274
9D00420C  00000000   NOP
9D004210  24020003   ADDIU V0, ZERO, 3
9D004214  AFC20000   SW V0, 0(FP)
9D004218  97C20020   LHU V0, 32(FP)
9D00421C  AFC20004   SW V0, 4(FP)
9D004220  10000014   BEQ ZERO, ZERO, 0x9D004274
9D004224  00000000   NOP
9D004228  24020004   ADDIU V0, ZERO, 4
9D00422C  AFC20000   SW V0, 0(FP)
9D004230  97C20020   LHU V0, 32(FP)
9D004234  AFC20004   SW V0, 4(FP)
9D004238  97C20022   LHU V0, 34(FP)
9D00423C  AFC20008   SW V0, 8(FP)
9D004240  1000000C   BEQ ZERO, ZERO, 0x9D004274
9D004244  00000000   NOP
9D004248  24020005   ADDIU V0, ZERO, 5
9D00424C  AFC20000   SW V0, 0(FP)
9D004250  97C20020   LHU V0, 32(FP)
9D004254  AFC20004   SW V0, 4(FP)
9D004258  97C20022   LHU V0, 34(FP)
9D00425C  AFC20008   SW V0, 8(FP)
9D004260  97C20024   LHU V0, 36(FP)
9D004264  AFC2000C   SW V0, 12(FP)
9D004268  10000002   BEQ ZERO, ZERO, 0x9D004274
9D00426C  00000000   NOP
9D004270  AFC00000   SW ZERO, 0(FP)
9D004274  8FC20018   LW V0, 24(FP)
9D004278  8FC60000   LW A2, 0(FP)
9D00427C  8FC50004   LW A1, 4(FP)
9D004280  8FC40008   LW A0, 8(FP)
9D004284  8FC3000C   LW V1, 12(FP)
9D004288  AC460000   SW A2, 0(V0)
9D00428C  AC450004   SW A1, 4(V0)
9D004290  AC440008   SW A0, 8(V0)
9D004294  AC43000C   SW V1, 12(V0)
9D004298  8FC20018   LW V0, 24(FP)
9D00429C  03C0E825   OR SP, FP, ZERO
9D0042A0  8FBE0014   LW FP, 20(SP)
9D0042A4  27BD0018   ADDIU SP, SP, 24
9D0042A8  03E00008   JR RA
9D0042AC  00000000   NOP
9D0042B0  27BDFFF8   ADDIU SP, SP, -8
9D0042B4  AFBE0004   SW FP, 4(SP)
9D0042B8  03A0F025   OR FP, SP, ZERO
9D0042BC  8F828030   LW V0, -32720(GP)
9D0042C0  03C0E825   OR SP, FP, ZERO
9D0042C4  8FBE0004   LW FP, 4(SP)
9D0042C8  27BD0008   ADDIU SP, SP, 8
9D0042CC  03E00008   JR RA
9D0042D0  00000000   NOP
9D0042D4  27BDFFF8   ADDIU SP, SP, -8
9D0042D8  AFBE0004   SW FP, 4(SP)
9D0042DC  03A0F025   OR FP, SP, ZERO
9D0042E0  AFC40008   SW A0, 8(FP)
9D0042E4  8FC20008   LW V0, 8(FP)
9D0042E8  AF828030   SW V0, -32720(GP)
9D0042EC  00000000   NOP
9D0042F0  03C0E825   OR SP, FP, ZERO
9D0042F4  8FBE0004   LW FP, 4(SP)
9D0042F8  27BD0008   ADDIU SP, SP, 8
9D0042FC  03E00008   JR RA
9D004300  00000000   NOP
---  C:/Users//.mchp_packs/Microchip/PIC32MX_DFP/1.5.259/xc32/startup/crt0.S  -------------------
BFC00000  0FF00002   JAL _startup
BFC00004  00000000   NOP
BFC00008  401A6000   MFC0 K0, Status
BFC0000C  7F5A04C0   EXT K0, K0, 19, 1
BFC00010  13400005   BEQ K0, ZERO, _no_nmi
BFC00014  00000000   NOP
BFC00018  3C1A9D00   LUI K0, -25344
BFC00020  03400008   JR K0
BFC00024  00000000   NOP
BFC00028  3C1DA000   LUI SP, -24576
BFC00030  3C1CA001   LUI GP, -24575
BFC00038  40096002   MFC0 T1, SRSCtl
BFC0003C  01205820   ADD T3, T1, ZERO
BFC00040  7D2A1E80   EXT T2, T1, 26, 4
BFC00044  7D494984   INS T1, T2, 6, 4
BFC00048  40896002   MTC0 T1, SRSCtl
BFC0004C  000000C0   EHB
BFC00050  41DCE000   WRPGPR GP, GP
BFC00054  408B6002   MTC0 T3, SRSCtl
BFC00058  000000C0   EHB
BFC0005C  3C089D00   LUI T0, -25344
BFC00064  0100F809   JALR T0
BFC00068  00000000   NOP
BFC0006C  3C08A000   LUI T0, -24576
BFC00074  3C09A000   LUI T1, -24576
BFC0007C  10000003   BEQ ZERO, ZERO, _bss_check
BFC00080  00000000   NOP
BFC00084  AD000000   SW ZERO, 0(T0)
BFC00088  25080004   ADDIU T0, T0, 4
BFC0008C  0109082B   SLTU AT, T0, T1
BFC00094  00000000   NOP
BFC00098  3C089D00   LUI T0, -25344
BFC000A0  0100F809   JALR T0
BFC000A4  00000000   NOP
BFC000A8  3C090000   LUI T1, 0
BFC000B0  11200010   BEQ T1, ZERO, _ramfunc_done
BFC000B4  00000000   NOP
BFC000B8  3C090000   LUI T1, 0
BFC000C0  3C0ABF88   LUI T2, -16504
BFC000C8  AD490000   SW T1, 0(T2)
BFC000CC  3C090000   LUI T1, 0
BFC000D4  3C0ABF88   LUI T2, -16504
BFC000DC  AD490000   SW T1, 0(T2)
BFC000E0  3C090000   LUI T1, 0
BFC000E8  3C0ABF88   LUI T2, -16504
BFC000F0  AD490000   SW T1, 0(T2)
BFC000F4  40804800   MTC0 ZERO, Count
BFC000F8  240AFFFF   ADDIU T2, ZERO, -1
BFC000FC  408A5800   MTC0 T2, Compare
BFC00100  3C080040   LUI T0, 64
BFC00104  400A6000   MFC0 T2, Status
BFC00108  010A5025   OR T2, T0, T2
BFC0010C  408A6000   MTC0 T2, Status
BFC00110  3C099FC0   LUI T1, -24640
BFC00118  000000C0   EHB
BFC0011C  40897801   MTC0 T1, EBase
BFC00120  3C090000   LUI T1, 0
BFC00128  240A0000   ADDIU T2, ZERO, 0
BFC0012C  7D2A4944   INS T2, T1, 5, 5
BFC00130  408A6001   MTC0 T2, IntCtl
BFC00134  3C090080   LUI T1, 128
BFC00138  40896800   MTC0 T1, Cause
BFC0013C  40088000   MFC0 T0, Config
BFC00140  7D090580   EXT T1, T0, 22, 1
BFC00144  00094C40   SLL T1, T1, 17
BFC00148  40086000   MFC0 T0, Status
BFC0014C  3C010058   LUI AT, 88
BFC00154  01284025   OR T0, T1, T0
BFC00158  40886000   MTC0 T0, Status
BFC0015C  000000C0   EHB
BFC00160  3C089D00   LUI T0, -25344
BFC00168  0100F809   JALR T0
BFC0016C  00000000   NOP
BFC00170  40086000   MFC0 T0, Status
BFC00174  3C01FFBF   LUI AT, -65
BFC00180  40886000   MTC0 T0, Status
BFC00184  30840000   ANDI A0, A0, 0
BFC00188  30A50000   ANDI A1, A1, 0
BFC0018C  3C089D00   LUI T0, -25344
BFC00194  01000008   JR T0
BFC00198  00000000   NOP
BFC00380  3C1A9D00   LUI K0, -25344
BFC00388  03400008   JR K0
BFC0038C  00000000   NOP
9FC01180  3C1A9D00   LUI K0, -25344
9FC01188  03400008   JR K0
9FC0118C  00000000   NOP
9D005EB0  3C040000   LUI A0, 0
9D005EB4  27BDFFE8   ADDIU SP, SP, -24
9D005EB8  24840000   ADDIU A0, A0, 0
9D005EBC  10800003   BEQ A0, ZERO, 0x9D005ECC
9D005EC0  AFBF0014   SW RA, 20(SP)
9D005EC4  0080F809   JALR A0
9D005EC8  00000000   NOP
9D005ECC  30840000   ANDI A0, A0, 0
9D005ED0  30A50000   ANDI A1, A1, 0
9D005ED4  3C089D00   LUI T0, -25344
9D005EDC  0100F809   JALR T0
9D005EE0  00000000   NOP
9D005EE4  3C029D00   LUI V0, -25344
9D005EEC  10400003   BEQ V0, ZERO, 0x9D005EFC
9D005EF0  00000000   NOP
9D005EF4  0040F809   JALR V0
9D005EF8  00000000   NOP
9D005EFC  1000FFF9   BEQ ZERO, ZERO, __crt0_exit
9D005F00  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/string/xc32/stpncpy.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005FA4  54C00005   BNEL A2, ZERO, 0x9D005FBC
9D005FAC  00801825   OR V1, A0, ZERO
9D005FB0  00002025   OR A0, ZERO, ZERO
9D005FB4  10000009   BEQ ZERO, ZERO, 0x9D005FDC
9D005FB8  00663021   ADDU A2, V1, A2
9D005FBC  80A2FFFF   LB V0, -1(A1)
9D005FC0  24830001   ADDIU V1, A0, 1
9D005FC4  24C6FFFF   ADDIU A2, A2, -1
9D005FC8  1040FFFA   BEQ V0, ZERO, 0x9D005FB4
9D005FCC  A062FFFF   SB V0, -1(V1)
9D005FD0  1000FFF4   BEQ ZERO, ZERO, stpncpy
9D005FD4  00602025   OR A0, V1, ZERO
9D005FD8  A060FFFF   SB ZERO, -1(V1)
9D005FDC  5466FFFE   BNEL V1, A2, 0x9D005FD8
9D005FE0  24630001   ADDIU V1, V1, 1
9D005FE4  00601025   OR V0, V1, ZERO
9D005FE8  03E00008   JR RA
9D005FEC  0084100B   MOVN V0, A0, A0
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/string/xc32/memcpy.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00636C  00801025   OR V0, A0, ZERO
9D006370  00001825   OR V1, ZERO, ZERO
9D006374  14C30003   BNE A2, V1, 0x9D006384
9D006378  00A33821   ADDU A3, A1, V1
9D00637C  03E00008   JR RA
9D006380  00000000   NOP
9D006384  90E70000   LBU A3, 0(A3)
9D006388  00432021   ADDU A0, V0, V1
9D00638C  24630001   ADDIU V1, V1, 1
9D006390  1000FFF8   BEQ ZERO, ZERO, 0x9D006374
9D006394  A0870000   SB A3, 0(A0)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/string/strncpy.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006418  27BDFFE8   ADDIU SP, SP, -24
9D00641C  AFB00010   SW S0, 16(SP)
9D006420  AFBF0014   SW RA, 20(SP)
9D006424  0F4017E9   JAL stpncpy
9D006428  00808025   OR S0, A0, ZERO
9D00642C  8FBF0014   LW RA, 20(SP)
9D006430  02001025   OR V0, S0, ZERO
9D006434  8FB00010   LW S0, 16(SP)
9D006438  03E00008   JR RA
9D00643C  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdlib/atoi.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005918  24050020   ADDIU A1, ZERO, 32
9D00591C  80820000   LB V0, 0(A0)
9D005934  2403002B   ADDIU V1, ZERO, 43
9D005938  1043000A   BEQ V0, V1, 0x9D005964
9D00593C  2403002D   ADDIU V1, ZERO, 45
9D005940  14430003   BNE V0, V1, 0x9D005950
9D005944  00002825   OR A1, ZERO, ZERO
9D005948  24050001   ADDIU A1, ZERO, 1
9D00594C  24840001   ADDIU A0, A0, 1
9D005950  00001025   OR V0, ZERO, ZERO
9D005954  10000007   BEQ ZERO, ZERO, 0x9D005974
9D005958  2407000A   ADDIU A3, ZERO, 10
9D00595C  1000FFEF   BEQ ZERO, ZERO, 0x9D00591C
9D005960  24840001   ADDIU A0, A0, 1
9D005964  1000FFF9   BEQ ZERO, ZERO, 0x9D00594C
9D005968  00002825   OR A1, ZERO, ZERO
9D00596C  24840001   ADDIU A0, A0, 1
9D005970  00431023   SUBU V0, V0, V1
9D005974  80830000   LB V1, 0(A0)
9D005978  2463FFD0   ADDIU V1, V1, -48
9D00597C  2C66000A   SLTIU A2, V1, 10
9D005980  54C0FFFA   BNEL A2, ZERO, 0x9D00596C
9D005984  70471002   MUL V0, V0, A3
9D005988  50A00001   BEQL A1, ZERO, 0x9D005990
9D00598C  00021023   SUBU V0, ZERO, V0
9D005990  03E00008   JR RA
9D005994  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/putchar.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00648C  3C02A000   LUI V0, -24576
9D006490  8C420F94   LW V0, 3988(V0)
9D006494  27BDFFE8   ADDIU SP, SP, -24
9D006498  AFBF0014   SW RA, 20(SP)
9D00649C  0F40196E   JAL putc
9D0064A0  8C450000   LW A1, 0(V0)
9D0064A4  8FBF0014   LW RA, 20(SP)
9D0064A8  03E00008   JR RA
9D0064AC  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/pic32m/stdout.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0064D0  3C02A000   LUI V0, -24576
9D0064D4  24420E68   ADDIU V0, V0, 3688
9D0064D8  3C03A000   LUI V1, -24576
9D0064DC  AC620E64   SW V0, 3684(V1)
9D0064E0  3C03A000   LUI V1, -24576
9D0064E4  AC620E60   SW V0, 3680(V1)
9D0064E8  03E00008   JR RA
9D0064EC  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/putc.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005C34  8CA20004   LW V0, 4(A1)
9D005C38  27BDFFE0   ADDIU SP, SP, -32
9D005C3C  308300FF   ANDI V1, A0, 255
9D005C40  30420100   ANDI V0, V0, 256
9D005C44  AFBF001C   SW RA, 28(SP)
9D005C48  1040000A   BEQ V0, ZERO, 0x9D005C74
9D005C4C  A3A30010   SB V1, 16(SP)
9D005C50  8CA20014   LW V0, 20(A1)
9D005C54  308400FF   ANDI A0, A0, 255
9D005C58  24460001   ADDIU A2, V0, 1
9D005C5C  ACA60014   SW A2, 20(A1)
9D005C60  A0430000   SB V1, 0(V0)
9D005C64  8FBF001C   LW RA, 28(SP)
9D005C68  00801025   OR V0, A0, ZERO
9D005C6C  03E00008   JR RA
9D005C70  27BD0020   ADDIU SP, SP, 32
9D005C74  00A02025   OR A0, A1, ZERO
9D005C78  24060001   ADDIU A2, ZERO, 1
9D005C7C  0F40193C   JAL __stdio_write_unbuffered, __fwrite, __stdio_write, __fwrite_min
9D005C80  27A50010   ADDIU A1, SP, 16
9D005C84  1040FFF7   BEQ V0, ZERO, 0x9D005C64
9D005C88  2404FFFF   ADDIU A0, ZERO, -1
9D005C8C  1000FFF5   BEQ ZERO, ZERO, 0x9D005C64
9D005C90  93A40010   LBU A0, 16(SP)
9D0065B8  27BDFFE8   ADDIU SP, SP, -24
9D0065C0  0F40170D   JAL __putc_unbuffered
9D0065C4  00000000   NOP
9D0065C8  8FBF0014   LW RA, 20(SP)
9D0065CC  03E00008   JR RA
9D0065D0  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__stdio_close.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0052B0  54800003   BNEL A0, ZERO, 0x9D0052C0
9D0052B4  8C820004   LW V0, 4(A0)
9D0052B8  03E00008   JR RA
9D0052BC  00001025   OR V0, ZERO, ZERO
9D0052C0  27BDFFD8   ADDIU SP, SP, -40
9D0052C4  AFB10020   SW S1, 32(SP)
9D0052C8  30420020   ANDI V0, V0, 32
9D0052CC  AFB0001C   SW S0, 28(SP)
9D0052D0  AFBF0024   SW RA, 36(SP)
9D0052D4  00808025   OR S0, A0, ZERO
9D0052D8  10400009   BEQ V0, ZERO, 0x9D005300
9D0052DC  00A08825   OR S1, A1, ZERO
9D0052E0  8C820014   LW V0, 20(A0)
9D0052E4  8C830018   LW V1, 24(A0)
9D0052E8  0062102B   SLTU V0, V1, V0
9D0052EC  54400017   BNEL V0, ZERO, 0x9D00534C
9D0052F0  8C82002C   LW V0, 44(A0)
9D0052F4  AE000028   SW ZERO, 40(S0)
9D0052F8  AE000018   SW ZERO, 24(S0)
9D0052FC  AE000014   SW ZERO, 20(S0)
9D005300  8E06003C   LW A2, 60(S0)
9D005304  8E020040   LW V0, 64(S0)
9D005308  00C2182B   SLTU V1, A2, V0
9D00530C  50600008   BEQL V1, ZERO, 0x9D005330
9D005310  AE000040   SW ZERO, 64(S0)
9D005314  00C23023   SUBU A2, A2, V0
9D005318  24020001   ADDIU V0, ZERO, 1
9D00531C  AFA20010   SW V0, 16(SP)
9D005320  8E040000   LW A0, 0(S0)
9D005324  0F4019AA   JAL lseek
9D005328  00063FC3   SRA A3, A2, 31
9D00532C  AE000040   SW ZERO, 64(S0)
9D005330  AE00003C   SW ZERO, 60(S0)
9D005334  1220000B   BEQ S1, ZERO, 0x9D005364
9D005338  00001025   OR V0, ZERO, ZERO
9D00533C  0F4019AC   JAL close
9D005340  8E040000   LW A0, 0(S0)
9D005344  10000008   BEQ ZERO, ZERO, 0x9D005368
9D005348  8FBF0024   LW RA, 36(SP)
9D00534C  00003025   OR A2, ZERO, ZERO
9D005350  0040F809   JALR V0
9D005354  00002825   OR A1, ZERO, ZERO
9D005358  8E030014   LW V1, 20(S0)
9D00535C  1460FFE5   BNE V1, ZERO, 0x9D0052F4
9D005360  2402FFFF   ADDIU V0, ZERO, -1
9D005364  8FBF0024   LW RA, 36(SP)
9D005368  8FB10020   LW S1, 32(SP)
9D00536C  8FB0001C   LW S0, 28(SP)
9D005370  03E00008   JR RA
9D005374  27BD0028   ADDIU SP, SP, 40
9D0056E0  54800003   BNEL A0, ZERO, 0x9D0056F0
9D0056E4  8C820004   LW V0, 4(A0)
9D0056E8  03E00008   JR RA
9D0056EC  00001025   OR V0, ZERO, ZERO
9D0056F0  27BDFFE0   ADDIU SP, SP, -32
9D0056F4  AFB10018   SW S1, 24(SP)
9D0056F8  30420020   ANDI V0, V0, 32
9D0056FC  AFB00014   SW S0, 20(SP)
9D005700  AFBF001C   SW RA, 28(SP)
9D005704  00808025   OR S0, A0, ZERO
9D005708  1440000A   BNE V0, ZERO, 0x9D005734
9D00570C  00A08825   OR S1, A1, ZERO
9D005710  AE000028   SW ZERO, 40(S0)
9D005714  AE000018   SW ZERO, 24(S0)
9D005718  AE000014   SW ZERO, 20(S0)
9D00571C  12200011   BEQ S1, ZERO, 0x9D005764
9D005720  00001025   OR V0, ZERO, ZERO
9D005724  0F4019AC   JAL close
9D005728  8E040000   LW A0, 0(S0)
9D00572C  1000000E   BEQ ZERO, ZERO, 0x9D005768
9D005730  8FBF001C   LW RA, 28(SP)
9D005734  8C820014   LW V0, 20(A0)
9D005738  8C830018   LW V1, 24(A0)
9D00573C  0062102B   SLTU V0, V1, V0
9D005740  5040FFF4   BEQL V0, ZERO, 0x9D005714
9D005744  AE000028   SW ZERO, 40(S0)
9D005748  8C82002C   LW V0, 44(A0)
9D00574C  00003025   OR A2, ZERO, ZERO
9D005750  0040F809   JALR V0
9D005754  00002825   OR A1, ZERO, ZERO
9D005758  8E030014   LW V1, 20(S0)
9D00575C  1460FFEC   BNE V1, ZERO, 0x9D005710
9D005760  2402FFFF   ADDIU V0, ZERO, -1
9D005764  8FBF001C   LW RA, 28(SP)
9D005768  8FB10018   LW S1, 24(SP)
9D00576C  8FB00014   LW S0, 20(SP)
9D005770  03E00008   JR RA
9D005774  27BD0020   ADDIU SP, SP, 32
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__printf_core.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D002310  27BDFF18   ADDIU SP, SP, -232
9D002314  AFB500D8   SW S5, 216(SP)
9D002318  3C159D00   LUI S5, -25344
9D00231C  AFB600DC   SW S6, 220(SP)
9D002320  AFB400D4   SW S4, 212(SP)
9D002324  AFB300D0   SW S3, 208(SP)
9D002328  AFB200CC   SW S2, 204(SP)
9D00232C  AFB100C8   SW S1, 200(SP)
9D002330  AFBF00E4   SW RA, 228(SP)
9D002334  AFB700E0   SW S7, 224(SP)
9D002338  AFB000C4   SW S0, 196(SP)
9D00233C  00809025   OR S2, A0, ZERO
9D002340  00C08825   OR S1, A2, ZERO
9D002344  AFA500B0   SW A1, 176(SP)
9D002348  00009825   OR S3, ZERO, ZERO
9D00234C  27B60010   ADDIU S6, SP, 16
9D002350  24140025   ADDIU S4, ZERO, 37
9D002354  26B56690   ADDIU S5, S5, 26256
9D002358  8FA500B0   LW A1, 176(SP)
9D00235C  80A20000   LB V0, 0(A1)
9D002360  104000E5   BEQ V0, ZERO, 0x9D0026F8
9D002364  2402FFFF   ADDIU V0, ZERO, -1
9D002368  AFA20094   SW V0, 148(SP)
9D00236C  24020080   ADDIU V0, ZERO, 128
9D002370  AFA00090   SW ZERO, 144(SP)
9D002374  AFA00098   SW ZERO, 152(SP)
9D002378  AFB6009C   SW S6, 156(SP)
9D00237C  AFA200A0   SW V0, 160(SP)
9D002380  00008025   OR S0, ZERO, ZERO
9D002384  00B01021   ADDU V0, A1, S0
9D002388  80420000   LB V0, 0(V0)
9D00238C  10400003   BEQ V0, ZERO, 0x9D00239C
9D002390  00000000   NOP
9D002394  5454FFFB   BNEL V0, S4, 0x9D002384
9D002398  26100001   ADDIU S0, S0, 1
9D00239C  12000008   BEQ S0, ZERO, 0x9D0023C0
9D0023A0  8FB700B0   LW S7, 176(SP)
9D0023A4  02003025   OR A2, S0, ZERO
9D0023A8  0F401601   JAL __out
9D0023AC  02402025   OR A0, S2, ZERO
9D0023B0  8FA200B0   LW V0, 176(SP)
9D0023B4  00501021   ADDU V0, V0, S0
9D0023B8  AFA200B0   SW V0, 176(SP)
9D0023BC  8FB700B0   LW S7, 176(SP)
9D0023C0  82E20000   LB V0, 0(S7)
9D0023C4  545400C5   BNEL V0, S4, 0x9D0026DC
9D0023C8  02708021   ADDU S0, S3, S0
9D0023CC  26F70001   ADDIU S7, S7, 1
9D0023D0  AFB700B0   SW S7, 176(SP)
9D0023D4  2405002B   ADDIU A1, ZERO, 43
9D0023D8  2406002D   ADDIU A2, ZERO, 45
9D0023DC  24030030   ADDIU V1, ZERO, 48
9D0023E0  24070020   ADDIU A3, ZERO, 32
9D0023E4  24080023   ADDIU T0, ZERO, 35
9D0023E8  8FA400B0   LW A0, 176(SP)
9D0023EC  80820000   LB V0, 0(A0)
9D0023F0  5045001B   BEQL V0, A1, 0x9D002460
9D0023F4  8FA20090   LW V0, 144(SP)
9D0023F8  2849002C   SLTI T1, V0, 44
9D0023FC  1120001E   BEQ T1, ZERO, __printf_core::vfpfcnvrt
9D002400  00000000   NOP
9D002404  50470018   BEQL V0, A3, 0x9D002468
9D002408  8FA20090   LW V0, 144(SP)
9D00240C  50480018   BEQL V0, T0, 0x9D002470
9D002410  8FA20090   LW V0, 144(SP)
9D002414  2403002A   ADDIU V1, ZERO, 42
9D002418  5043001E   BEQL V0, V1, __printf_core::vfpfcnvrt
9D00241C  8E220000   LW V0, 0(S1)
9D002420  0F401646   JAL atoi
9D002424  00000000   NOP
9D002428  AFA20098   SW V0, 152(SP)
9D00242C  8FA300B0   LW V1, 176(SP)
9D002430  80620000   LB V0, 0(V1)
9D002434  2442FFD0   ADDIU V0, V0, -48
9D002438  2C42000A   SLTIU V0, V0, 10
9D00243C  10400021   BEQ V0, ZERO, 0x9D0024C4
9D002440  24630001   ADDIU V1, V1, 1
9D002444  1000FFF9   BEQ ZERO, ZERO, 0x9D00242C
9D002448  AFA300B0   SW V1, 176(SP)
9D00244C  34420001   ORI V0, V0, 1
9D002450  24840001   ADDIU A0, A0, 1
9D002454  AFA20090   SW V0, 144(SP)
9D002458  1000FFE3   BEQ ZERO, ZERO, 0x9D0023E8
9D00245C  AFA400B0   SW A0, 176(SP)
9D002460  1000FFFB   BEQ ZERO, ZERO, 0x9D002450
9D002464  34420004   ORI V0, V0, 4
9D002468  1000FFF9   BEQ ZERO, ZERO, 0x9D002450
9D00246C  34420008   ORI V0, V0, 8
9D002470  1000FFF7   BEQ ZERO, ZERO, 0x9D002450
9D002474  34420010   ORI V0, V0, 16
9D002478  5046FFF4   BEQL V0, A2, __printf_core::vfpfcnvrt
9D00247C  8FA20090   LW V0, 144(SP)
9D002480  5443FFE5   BNEL V0, V1, 0x9D002418
9D002484  2403002A   ADDIU V1, ZERO, 42
9D002488  8FA20090   LW V0, 144(SP)
9D00248C  1000FFF0   BEQ ZERO, ZERO, 0x9D002450
9D002490  34420002   ORI V0, V0, 2
9D002494  24840001   ADDIU A0, A0, 1
9D002498  AFA400B0   SW A0, 176(SP)
9D00249C  24430004   ADDIU V1, V0, 4
9D0024A0  8C420000   LW V0, 0(V0)
9D0024A4  AE230000   SW V1, 0(S1)
9D0024A8  04410006   BGEZ V0, 0x9D0024C4
9D0024AC  AFA20098   SW V0, 152(SP)
9D0024B0  8FA30090   LW V1, 144(SP)
9D0024B4  00021023   SUBU V0, ZERO, V0
9D0024B8  AFA20098   SW V0, 152(SP)
9D0024BC  38630001   XORI V1, V1, 1
9D0024C0  AFA30090   SW V1, 144(SP)
9D0024C4  8FA20090   LW V0, 144(SP)
9D0024C8  30430001   ANDI V1, V0, 1
9D0024CC  50600004   BEQL V1, ZERO, 0x9D0024E0
9D0024D0  8FA200B0   LW V0, 176(SP)
9D0024D4  7C020844   INS V0, ZERO, 1, 1
9D0024D8  AFA20090   SW V0, 144(SP)
9D0024DC  8FA200B0   LW V0, 176(SP)
9D0024E0  2403002E   ADDIU V1, ZERO, 46
9D0024E4  80440000   LB A0, 0(V0)
9D0024E8  1483000D   BNE A0, V1, 0x9D002520
9D0024EC  24440001   ADDIU A0, V0, 1
9D0024F0  AFA00094   SW ZERO, 148(SP)
9D0024F4  AFA400B0   SW A0, 176(SP)
9D0024F8  80450001   LB A1, 1(V0)
9D0024FC  2403002A   ADDIU V1, ZERO, 42
9D002500  14A30024   BNE A1, V1, __printf_core::vfpfcnvrt
9D002504  24420002   ADDIU V0, V0, 2
9D002508  AFA200B0   SW V0, 176(SP)
9D00250C  8E220000   LW V0, 0(S1)
9D002510  24430004   ADDIU V1, V0, 4
9D002514  8C420000   LW V0, 0(V0)
9D002518  AE230000   SW V1, 0(S1)
9D00251C  AFA20094   SW V0, 148(SP)
9D002520  0F40173C   JAL __fmt_state
9D002524  27A400B0   ADDIU A0, SP, 176
9D002528  AFA200B8   SW V0, 184(SP)
9D00252C  8FA200B0   LW V0, 176(SP)
9D002530  0F40194B   JAL tolower
9D002534  80440000   LB A0, 0(V0)
9D002538  24030069   ADDIU V1, ZERO, 105
9D00253C  1043007A   BEQ V0, V1, __printf_core::vfpfcnvrt
9D002540  8FA500B8   LW A1, 184(SP)
9D002544  2843006A   SLTI V1, V0, 106
9D002548  1060002F   BEQ V1, ZERO, __printf_core::vfpfcnvrt
9D00254C  24030070   ADDIU V1, ZERO, 112
9D002550  24030063   ADDIU V1, ZERO, 99
9D002554  104300BC   BEQ V0, V1, __printf_core::vfpfcnvrt
9D002558  28430064   SLTI V1, V0, 100
9D00255C  10600018   BEQ V1, ZERO, __printf_core::vfpfcnvrt
9D002560  24030064   ADDIU V1, ZERO, 100
9D002564  105400C5   BEQ V0, S4, __printf_core::vfpfcnvrt
9D002568  24030061   ADDIU V1, ZERO, 97
9D00256C  5043004E   BEQL V0, V1, __printf_core::vfpfcnvrt
9D002570  02203025   OR A2, S1, ZERO
9D002574  24020025   ADDIU V0, ZERO, 37
9D002578  A3A200A8   SB V0, 168(SP)
9D00257C  2402FFFF   ADDIU V0, ZERO, -1
9D002580  AFB700B0   SW S7, 176(SP)
9D002584  AFA00090   SW ZERO, 144(SP)
9D002588  AFA00098   SW ZERO, 152(SP)
9D00258C  100000B8   BEQ ZERO, ZERO, 0x9D002870
9D002590  AFA20094   SW V0, 148(SP)
9D002594  0F401646   JAL atoi
9D002598  00000000   NOP
9D00259C  AFA20094   SW V0, 148(SP)
9D0025A0  8FA300B0   LW V1, 176(SP)
9D0025A4  80620000   LB V0, 0(V1)
9D0025A8  2442FFD0   ADDIU V0, V0, -48
9D0025AC  2C42000A   SLTIU V0, V0, 10
9D0025B0  1040FFDB   BEQ V0, ZERO, 0x9D002520
9D0025B4  24630001   ADDIU V1, V1, 1
9D0025B8  1000FFF9   BEQ ZERO, ZERO, 0x9D0025A0
9D0025BC  AFA300B0   SW V1, 176(SP)
9D0025C0  10430059   BEQ V0, V1, __printf_core::vfpfcnvrt
9D0025C4  28420068   SLTI V0, V0, 104
9D0025C8  1040FFEB   BEQ V0, ZERO, 0x9D002578
9D0025CC  24020025   ADDIU V0, ZERO, 37
9D0025D0  02203025   OR A2, S1, ZERO
9D0025D4  0F4017C1   JAL __pop_float
9D0025D8  27A400A8   ADDIU A0, SP, 168
9D0025DC  10400097   BEQ V0, ZERO, 0x9D00283C
9D0025E0  8FA200B0   LW V0, 176(SP)
9D0025E4  27A600A8   ADDIU A2, SP, 168
9D0025E8  27A50090   ADDIU A1, SP, 144
9D0025EC  24430001   ADDIU V1, V0, 1
9D0025F0  AFA300B0   SW V1, 176(SP)
9D0025F4  80470000   LB A3, 0(V0)
9D0025F8  0F4019A0   JAL __fmt_fp, __fmt_a, __dummy_fmt4
9D0025FC  02402025   OR A0, S2, ZERO
9D002600  10000035   BEQ ZERO, ZERO, 0x9D0026D8
9D002604  02028021   ADDU S0, S0, V0
9D002608  10430072   BEQ V0, V1, __printf_core::vfpfcnvrt
9D00260C  28430071   SLTI V1, V0, 113
9D002610  10600014   BEQ V1, ZERO, __printf_core::vfpfcnvrt
9D002614  24030075   ADDIU V1, ZERO, 117
9D002618  2403006E   ADDIU V1, ZERO, 110
9D00261C  10430082   BEQ V0, V1, __printf_core::vfpfcnvrt
9D002620  2403006F   ADDIU V1, ZERO, 111
9D002624  1443FFD4   BNE V0, V1, 0x9D002578
9D002628  24020025   ADDIU V0, ZERO, 37
9D00262C  02203825   OR A3, S1, ZERO
9D002630  00003025   OR A2, ZERO, ZERO
9D002634  0F401128   JAL __pop_int
9D002638  27A400A8   ADDIU A0, SP, 168
9D00263C  1040007F   BEQ V0, ZERO, 0x9D00283C
9D002640  8FA200B0   LW V0, 176(SP)
9D002644  27A600A8   ADDIU A2, SP, 168
9D002648  27A50090   ADDIU A1, SP, 144
9D00264C  24420001   ADDIU V0, V0, 1
9D002650  02402025   OR A0, S2, ZERO
9D002654  0F4013FD   JAL __fmt_o
9D002658  AFA200B0   SW V0, 176(SP)
9D00265C  1000001E   BEQ ZERO, ZERO, 0x9D0026D8
9D002660  02028021   ADDU S0, S0, V0
9D002664  1043003E   BEQ V0, V1, __printf_core::vfpfcnvrt
9D002668  24030078   ADDIU V1, ZERO, 120
9D00266C  1043004A   BEQ V0, V1, __printf_core::vfpfcnvrt
9D002670  24030073   ADDIU V1, ZERO, 115
9D002674  1443FFC0   BNE V0, V1, 0x9D002578
9D002678  24020025   ADDIU V0, ZERO, 37
9D00267C  24020080   ADDIU V0, ZERO, 128
9D002680  14A2006E   BNE A1, V0, 0x9D00283C
9D002684  8FA200B0   LW V0, 176(SP)
9D002688  00003825   OR A3, ZERO, ZERO
9D00268C  24420001   ADDIU V0, V0, 1
9D002690  AFA200B0   SW V0, 176(SP)
9D002694  8E220000   LW V0, 0(S1)
9D002698  24430004   ADDIU V1, V0, 4
9D00269C  AE230000   SW V1, 0(S1)
9D0026A0  1000005C   BEQ ZERO, ZERO, 0x9D002814
9D0026A4  8C460000   LW A2, 0(V0)
9D0026A8  0F4017C1   JAL __pop_float
9D0026AC  27A400A8   ADDIU A0, SP, 168
9D0026B0  10400062   BEQ V0, ZERO, 0x9D00283C
9D0026B4  8FA200B0   LW V0, 176(SP)
9D0026B8  27A600A8   ADDIU A2, SP, 168
9D0026BC  27A50090   ADDIU A1, SP, 144
9D0026C0  24430001   ADDIU V1, V0, 1
9D0026C4  AFA300B0   SW V1, 176(SP)
9D0026C8  80470000   LB A3, 0(V0)
9D0026CC  0F4019A0   JAL __fmt_fp, __fmt_a, __dummy_fmt4
9D0026D0  02402025   OR A0, S2, ZERO
9D0026D4  02028021   ADDU S0, S0, V0
9D0026D8  02708021   ADDU S0, S3, S0
9D0026DC  0213982A   SLT S3, S0, S3
9D0026E0  1260FF1D   BEQ S3, ZERO, 0x9D002358
9D0026E4  02009825   OR S3, S0, ZERO
9D0026E8  3C02A000   LUI V0, -24576
9D0026EC  2403004F   ADDIU V1, ZERO, 79
9D0026F0  AC430F98   SW V1, 3992(V0)
9D0026F4  2413FFFF   ADDIU S3, ZERO, -1
9D0026F8  8FBF00E4   LW RA, 228(SP)
9D0026FC  02601025   OR V0, S3, ZERO
9D002700  8FB700E0   LW S7, 224(SP)
9D002704  8FB600DC   LW S6, 220(SP)
9D002708  8FB500D8   LW S5, 216(SP)
9D00270C  8FB400D4   LW S4, 212(SP)
9D002710  8FB300D0   LW S3, 208(SP)
9D002714  8FB200CC   LW S2, 204(SP)
9D002718  8FB100C8   LW S1, 200(SP)
9D00271C  8FB000C4   LW S0, 196(SP)
9D002720  03E00008   JR RA
9D002724  27BD00E8   ADDIU SP, SP, 232
9D002728  02203825   OR A3, S1, ZERO
9D00272C  24060001   ADDIU A2, ZERO, 1
9D002730  0F401128   JAL __pop_int
9D002734  27A400A8   ADDIU A0, SP, 168
9D002738  10400040   BEQ V0, ZERO, 0x9D00283C
9D00273C  8FA200B0   LW V0, 176(SP)
9D002740  27A600A8   ADDIU A2, SP, 168
9D002744  27A50090   ADDIU A1, SP, 144
9D002748  24420001   ADDIU V0, V0, 1
9D00274C  02402025   OR A0, S2, ZERO
9D002750  0F4011E4   JAL __fmt_d
9D002754  AFA200B0   SW V0, 176(SP)
9D002758  1000FFDF   BEQ ZERO, ZERO, 0x9D0026D8
9D00275C  02028021   ADDU S0, S0, V0
9D002760  02203825   OR A3, S1, ZERO
9D002764  00003025   OR A2, ZERO, ZERO
9D002768  0F401128   JAL __pop_int
9D00276C  27A400A8   ADDIU A0, SP, 168
9D002770  10400032   BEQ V0, ZERO, 0x9D00283C
9D002774  8FA200B0   LW V0, 176(SP)
9D002778  27A600A8   ADDIU A2, SP, 168
9D00277C  27A50090   ADDIU A1, SP, 144
9D002780  24420001   ADDIU V0, V0, 1
9D002784  02402025   OR A0, S2, ZERO
9D002788  0F4014DE   JAL __fmt_u
9D00278C  AFA200B0   SW V0, 176(SP)
9D002790  1000FFD1   BEQ ZERO, ZERO, 0x9D0026D8
9D002794  02028021   ADDU S0, S0, V0
9D002798  02203825   OR A3, S1, ZERO
9D00279C  00003025   OR A2, ZERO, ZERO
9D0027A0  0F401128   JAL __pop_int
9D0027A4  27A400A8   ADDIU A0, SP, 168
9D0027A8  10400024   BEQ V0, ZERO, 0x9D00283C
9D0027AC  8FA200B0   LW V0, 176(SP)
9D0027B0  24430001   ADDIU V1, V0, 1
9D0027B4  AFA300B0   SW V1, 176(SP)
9D0027B8  80470000   LB A3, 0(V0)
9D0027BC  27A600A8   ADDIU A2, SP, 168
9D0027C0  27A50090   ADDIU A1, SP, 144
9D0027C4  0F400FCC   JAL __fmt_x
9D0027C8  02402025   OR A0, S2, ZERO
9D0027CC  1000FFC2   BEQ ZERO, ZERO, 0x9D0026D8
9D0027D0  02028021   ADDU S0, S0, V0
9D0027D4  02203825   OR A3, S1, ZERO
9D0027D8  00003025   OR A2, ZERO, ZERO
9D0027DC  240500F0   ADDIU A1, ZERO, 240
9D0027E0  0F401128   JAL __pop_int
9D0027E4  27A400A8   ADDIU A0, SP, 168
9D0027E8  10400014   BEQ V0, ZERO, 0x9D00283C
9D0027EC  8FA200B0   LW V0, 176(SP)
9D0027F0  8FA300AC   LW V1, 172(SP)
9D0027F4  24420001   ADDIU V0, V0, 1
9D0027F8  AFA200B0   SW V0, 176(SP)
9D0027FC  8FA200A8   LW V0, 168(SP)
9D002800  00431025   OR V0, V0, V1
9D002804  1440FFED   BNE V0, ZERO, 0x9D0027BC
9D002808  24070078   ADDIU A3, ZERO, 120
9D00280C  00003825   OR A3, ZERO, ZERO
9D002810  02A03025   OR A2, S5, ZERO
9D002814  27A50090   ADDIU A1, SP, 144
9D002818  0F40158E   JAL __fmt_s
9D00281C  02402025   OR A0, S2, ZERO
9D002820  1000FFAD   BEQ ZERO, ZERO, 0x9D0026D8
9D002824  02028021   ADDU S0, S0, V0
9D002828  02203825   OR A3, S1, ZERO
9D00282C  02703021   ADDU A2, S3, S0
9D002830  0F40143C   JAL __pop_ptr
9D002834  27A400A8   ADDIU A0, SP, 168
9D002838  8FA200B0   LW V0, 176(SP)
9D00283C  24420001   ADDIU V0, V0, 1
9D002840  1000FFA5   BEQ ZERO, ZERO, 0x9D0026D8
9D002844  AFA200B0   SW V0, 176(SP)
9D002848  24020080   ADDIU V0, ZERO, 128
9D00284C  14A2FFFB   BNE A1, V0, 0x9D00283C
9D002850  8FA200B0   LW V0, 176(SP)
9D002854  24420001   ADDIU V0, V0, 1
9D002858  AFA200B0   SW V0, 176(SP)
9D00285C  8E220000   LW V0, 0(S1)
9D002860  24430004   ADDIU V1, V0, 4
9D002864  8C420000   LW V0, 0(V0)
9D002868  AE230000   SW V1, 0(S1)
9D00286C  A3A200A8   SB V0, 168(SP)
9D002870  24070001   ADDIU A3, ZERO, 1
9D002874  1000FFE7   BEQ ZERO, ZERO, 0x9D002814
9D002878  27A600A8   ADDIU A2, SP, 168
9D00287C  24020080   ADDIU V0, ZERO, 128
9D002880  14A2FFEE   BNE A1, V0, 0x9D00283C
9D002884  8FA200B0   LW V0, 176(SP)
9D002888  A3B400A8   SB S4, 168(SP)
9D00288C  24420001   ADDIU V0, V0, 1
9D002890  1000FFF7   BEQ ZERO, ZERO, 0x9D002870
9D002894  AFA200B0   SW V0, 176(SP)
9D002898  27BDFFE8   ADDIU SP, SP, -24
9D004EF0  27BDFFC0   ADDIU SP, SP, -64
9D004EF4  AFB40030   SW S4, 48(SP)
9D004EF8  8FB40050   LW S4, 80(SP)
9D004EFC  AFB50034   SW S5, 52(SP)
9D004F00  AFB3002C   SW S3, 44(SP)
9D004F04  32940001   ANDI S4, S4, 1
9D004F08  AFB20028   SW S2, 40(SP)
9D004F0C  AFB10024   SW S1, 36(SP)
9D004F10  AFB00020   SW S0, 32(SP)
9D004F14  AFBF003C   SW RA, 60(SP)
9D004F18  AFB60038   SW S6, 56(SP)
9D004F1C  00809825   OR S3, A0, ZERO
9D004F20  00A0A825   OR S5, A1, ZERO
9D004F24  00C08825   OR S1, A2, ZERO
9D004F28  00E09025   OR S2, A3, ZERO
9D004F2C  16800024   BNE S4, ZERO, 0x9D004FC0
9D004F30  00C7802A   SLT S0, A2, A3
9D004F34  12000023   BEQ S0, ZERO, 0x9D004FC4
9D004F38  02203025   OR A2, S1, ZERO
9D004F3C  02518023   SUBU S0, S2, S1
9D004F40  2E060011   SLTIU A2, S0, 17
9D004F44  24020010   ADDIU V0, ZERO, 16
9D004F48  0206100B   MOVN V0, S0, A2
9D004F4C  00403025   OR A2, V0, ZERO
9D004F50  24050020   ADDIU A1, ZERO, 32
9D004F54  27A40010   ADDIU A0, SP, 16
9D004F58  0F401564   JAL memset
9D004F5C  0200B025   OR S6, S0, ZERO
9D004F60  2A020010   SLTI V0, S0, 16
9D004F64  1040001E   BEQ V0, ZERO, 0x9D004FE0
9D004F68  24060010   ADDIU A2, ZERO, 16
9D004F6C  32C6000F   ANDI A2, S6, 15
9D004F70  27A50010   ADDIU A1, SP, 16
9D004F74  0F401601   JAL __out
9D004F78  02602025   OR A0, S3, ZERO
9D004F7C  16800006   BNE S4, ZERO, 0x9D004F98
9D004F80  8FBF003C   LW RA, 60(SP)
9D004F84  02203025   OR A2, S1, ZERO
9D004F88  02A02825   OR A1, S5, ZERO
9D004F8C  0F401601   JAL __out
9D004F90  02602025   OR A0, S3, ZERO
9D004F94  8FBF003C   LW RA, 60(SP)
9D004F98  02401025   OR V0, S2, ZERO
9D004F9C  8FB60038   LW S6, 56(SP)
9D004FA0  8FB50034   LW S5, 52(SP)
9D004FA4  8FB40030   LW S4, 48(SP)
9D004FA8  8FB3002C   LW S3, 44(SP)
9D004FAC  8FB20028   LW S2, 40(SP)
9D004FB0  8FB10024   LW S1, 36(SP)
9D004FB4  8FB00020   LW S0, 32(SP)
9D004FB8  03E00008   JR RA
9D004FBC  27BD0040   ADDIU SP, SP, 64
9D004FC0  02203025   OR A2, S1, ZERO
9D004FC4  02A02825   OR A1, S5, ZERO
9D004FC8  0F401601   JAL __out
9D004FCC  02602025   OR A0, S3, ZERO
9D004FD0  1600FFDB   BNE S0, ZERO, 0x9D004F40
9D004FD4  02518023   SUBU S0, S2, S1
9D004FD8  1000FFEE   BEQ ZERO, ZERO, 0x9D004F94
9D004FDC  02209025   OR S2, S1, ZERO
9D004FE0  27A50010   ADDIU A1, SP, 16
9D004FE4  0F401601   JAL __out
9D004FE8  02602025   OR A0, S3, ZERO
9D004FEC  1000FFDC   BEQ ZERO, ZERO, 0x9D004F60
9D004FF0  2610FFF0   ADDIU S0, S0, -16
9D005C94  8C820010   LW V0, 16(A0)
9D005C98  27BDFFE0   ADDIU SP, SP, -32
9D005C9C  AFB00014   SW S0, 20(SP)
9D005CA0  00808025   OR S0, A0, ZERO
9D005CA4  8C840014   LW A0, 20(A0)
9D005CA8  AFB10018   SW S1, 24(SP)
9D005CAC  00C2882B   SLTU S1, A2, V0
9D005CB0  0051300A   MOVZ A2, V0, S1
9D005CB4  AFBF001C   SW RA, 28(SP)
9D005CB8  0F4018DB   JAL memcpy
9D005CBC  00C08825   OR S1, A2, ZERO
9D005CC0  8E020014   LW V0, 20(S0)
9D005CC4  8E060010   LW A2, 16(S0)
9D005CC8  00511021   ADDU V0, V0, S1
9D005CCC  00D18823   SUBU S1, A2, S1
9D005CD0  AE110010   SW S1, 16(S0)
9D005CD4  AE020014   SW V0, 20(S0)
9D005CD8  A0400000   SB ZERO, 0(V0)
9D005CDC  8FBF001C   LW RA, 28(SP)
9D005CE0  8FB10018   LW S1, 24(SP)
9D005CE4  8FB00014   LW S0, 20(SP)
9D005CE8  03E00008   JR RA
9D005CEC  27BD0020   ADDIU SP, SP, 32
9D005CF0  3C069D00   LUI A2, -25344
9D005CF4  00001025   OR V0, ZERO, ZERO
9D005CF8  24C66608   ADDIU A2, A2, 26120
9D005CFC  00021840   SLL V1, V0, 1
9D005D00  00661821   ADDU V1, V1, A2
9D005D04  80670000   LB A3, 0(V1)
9D005D08  54E00003   BNEL A3, ZERO, 0x9D005D18
9D005D0C  8C850000   LW A1, 0(A0)
9D005D10  03E00008   JR RA
9D005D14  90620001   LBU V0, 1(V1)
9D005D18  80A80000   LB T0, 0(A1)
9D005D1C  15070009   BNE T0, A3, 0x9D005D44
9D005D20  24420001   ADDIU V0, V0, 1
9D005D24  90620001   LBU V0, 1(V1)
9D005D28  24A50001   ADDIU A1, A1, 1
9D005D2C  AC850000   SW A1, 0(A0)
9D005D30  2C43000B   SLTIU V1, V0, 11
9D005D34  1460FFF2   BNE V1, ZERO, 0x9D005D00
9D005D38  00021840   SLL V1, V0, 1
9D005D3C  03E00008   JR RA
9D005D40  00000000   NOP
9D005D44  1000FFFA   BEQ ZERO, ZERO, 0x9D005D30
9D005D48  304200FF   ANDI V0, V0, 255
9D006678  03E00008   JR RA
9D00667C  00001025   OR V0, ZERO, ZERO
9D006680  03E00008   JR RA
9D006688  03E00008   JR RA
9D00668C  00001025   OR V0, ZERO, ZERO
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__pop_ptr.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0050F0  24020084   ADDIU V0, ZERO, 132
9D0050F4  50A20022   BEQL A1, V0, 0x9D005180
9D0050F8  8CE20000   LW V0, 0(A3)
9D0050FC  28A20085   SLTI V0, A1, 133
9D005100  10400011   BEQ V0, ZERO, 0x9D005148
9D005104  24020090   ADDIU V0, ZERO, 144
9D005108  24020081   ADDIU V0, ZERO, 129
9D00510C  50A20008   BEQL A1, V0, 0x9D005130
9D005110  8CE20000   LW V0, 0(A3)
9D005114  24020082   ADDIU V0, ZERO, 130
9D005118  50A20026   BEQL A1, V0, 0x9D0051B4
9D00511C  8CE20000   LW V0, 0(A3)
9D005120  24020080   ADDIU V0, ZERO, 128
9D005124  14A20010   BNE A1, V0, 0x9D005168
9D005128  00000000   NOP
9D00512C  8CE20000   LW V0, 0(A3)
9D005130  24430004   ADDIU V1, V0, 4
9D005134  ACE30000   SW V1, 0(A3)
9D005138  8C420000   LW V0, 0(V0)
9D00513C  AC820000   SW V0, 0(A0)
9D005140  10000014   BEQ ZERO, ZERO, 0x9D005194
9D005144  AC460000   SW A2, 0(V0)
9D005148  50A2001A   BEQL A1, V0, 0x9D0051B4
9D00514C  8CE20000   LW V0, 0(A3)
9D005150  28A20091   SLTI V0, A1, 145
9D005154  10400006   BEQ V0, ZERO, 0x9D005170
9D005158  240200A0   ADDIU V0, ZERO, 160
9D00515C  24020088   ADDIU V0, ZERO, 136
9D005160  50A2000E   BEQL A1, V0, 0x9D00519C
9D005164  8CE20000   LW V0, 0(A3)
9D005168  03E00008   JR RA
9D00516C  00001025   OR V0, ZERO, ZERO
9D005170  50A2FFEF   BEQL A1, V0, 0x9D005130
9D005174  8CE20000   LW V0, 0(A3)
9D005178  1000FFEA   BEQ ZERO, ZERO, 0x9D005124
9D00517C  240200C0   ADDIU V0, ZERO, 192
9D005180  24430004   ADDIU V1, V0, 4
9D005184  ACE30000   SW V1, 0(A3)
9D005188  8C420000   LW V0, 0(V0)
9D00518C  AC820000   SW V0, 0(A0)
9D005190  A4460000   SH A2, 0(V0)
9D005194  03E00008   JR RA
9D005198  24020001   ADDIU V0, ZERO, 1
9D00519C  24430004   ADDIU V1, V0, 4
9D0051A0  ACE30000   SW V1, 0(A3)
9D0051A4  8C420000   LW V0, 0(V0)
9D0051A8  AC820000   SW V0, 0(A0)
9D0051AC  1000FFF9   BEQ ZERO, ZERO, 0x9D005194
9D0051B0  A0460000   SB A2, 0(V0)
9D0051B4  24430004   ADDIU V1, V0, 4
9D0051B8  ACE30000   SW V1, 0(A3)
9D0051BC  8C420000   LW V0, 0(V0)
9D0051C0  AC820000   SW V0, 0(A0)
9D0051C4  AC460000   SW A2, 0(V0)
9D0051C8  000637C3   SRA A2, A2, 31
9D0051CC  1000FFF1   BEQ ZERO, ZERO, 0x9D005194
9D0051D0  AC460004   SW A2, 4(V0)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__pop_int.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0044A0  24020088   ADDIU V0, ZERO, 136
9D0044D4  03E00008   JR RA
9D0044D8  00001025   OR V0, ZERO, ZERO
9D0044DC  50A2003A   BEQL A1, V0, 0x9D0045C8
9D0044E0  8CE20000   LW V0, 0(A3)
9D0044E4  24020084   ADDIU V0, ZERO, 132
9D0044E8  14A2FFFA   BNE A1, V0, 0x9D0044D4
9D0044EC  00000000   NOP
9D0044F0  8CE20000   LW V0, 0(A3)
9D0044F4  24430004   ADDIU V1, V0, 4
9D0044F8  8C420000   LW V0, 0(V0)
9D0044FC  10C00026   BEQ A2, ZERO, 0x9D004598
9D004500  ACE30000   SW V1, 0(A3)
9D004504  7C021620   SEH V0, V0
9D004508  AC820000   SW V0, 0(A0)
9D00450C  000217C3   SRA V0, V0, 31
9D004510  AC820004   SW V0, 4(A0)
9D004514  03E00008   JR RA
9D004518  24020001   ADDIU V0, ZERO, 1
9D00451C  50A20036   BEQL A1, V0, 0x9D0045F8
9D004520  8CE20000   LW V0, 0(A3)
9D004524  28A200A1   SLTI V0, A1, 161
9D004528  10400011   BEQ V0, ZERO, 0x9D004570
9D00452C  240200C0   ADDIU V0, ZERO, 192
9D004530  24020090   ADDIU V0, ZERO, 144
9D004534  14A2FFE7   BNE A1, V0, 0x9D0044D4
9D004538  00000000   NOP
9D00453C  8CE20000   LW V0, 0(A3)
9D004540  24420007   ADDIU V0, V0, 7
9D004544  7C021004   INS V0, ZERO, 0, 3
9D004548  8C480000   LW T0, 0(V0)
9D00454C  8C490004   LW T1, 4(V0)
9D004550  24420008   ADDIU V0, V0, 8
9D004554  ACE20000   SW V0, 0(A3)
9D004558  AC880000   SW T0, 0(A0)
9D00455C  AC890004   SW T1, 4(A0)
9D004560  10C00001   BEQ A2, ZERO, 0x9D004568
9D004564  24020001   ADDIU V0, ZERO, 1
9D004568  03E00008   JR RA
9D00456C  00000000   NOP
9D004570  50A20005   BEQL A1, V0, 0x9D004588
9D004574  8CE20000   LW V0, 0(A3)
9D004578  240200F0   ADDIU V0, ZERO, 240
9D00457C  14A2FFD5   BNE A1, V0, 0x9D0044D4
9D004580  00000000   NOP
9D004584  8CE20000   LW V0, 0(A3)
9D004588  24430004   ADDIU V1, V0, 4
9D00458C  ACE30000   SW V1, 0(A3)
9D004590  10000002   BEQ ZERO, ZERO, 0x9D00459C
9D004594  8C420000   LW V0, 0(V0)
9D004598  3042FFFF   ANDI V0, V0, -1
9D00459C  10000020   BEQ ZERO, ZERO, 0x9D004620
9D0045A0  AC820000   SW V0, 0(A0)
9D0045A4  8CE20000   LW V0, 0(A3)
9D0045A8  24430004   ADDIU V1, V0, 4
9D0045AC  8C420000   LW V0, 0(V0)
9D0045B0  10C00003   BEQ A2, ZERO, 0x9D0045C0
9D0045B4  ACE30000   SW V1, 0(A3)
9D0045B8  1000FFD3   BEQ ZERO, ZERO, 0x9D004508
9D0045BC  7C021420   SEB V0, V0
9D0045C0  1000FFF6   BEQ ZERO, ZERO, 0x9D00459C
9D0045C4  304200FF   ANDI V0, V0, 255
9D0045C8  24420007   ADDIU V0, V0, 7
9D0045CC  7C021004   INS V0, ZERO, 0, 3
9D0045D0  8C480000   LW T0, 0(V0)
9D0045D4  8C490004   LW T1, 4(V0)
9D0045D8  24420008   ADDIU V0, V0, 8
9D0045DC  ACE20000   SW V0, 0(A3)
9D0045E0  AC880000   SW T0, 0(A0)
9D0045E4  AC890004   SW T1, 4(A0)
9D0045E8  10C0FFDF   BEQ A2, ZERO, 0x9D004568
9D0045EC  24020001   ADDIU V0, ZERO, 1
9D0045F0  03E00008   JR RA
9D0045F4  00000000   NOP
9D0045F8  24430004   ADDIU V1, V0, 4
9D0045FC  ACE30000   SW V1, 0(A3)
9D004600  1000FFC1   BEQ ZERO, ZERO, 0x9D004508
9D004604  8C420000   LW V0, 0(V0)
9D004608  8CE20000   LW V0, 0(A3)
9D00460C  24430004   ADDIU V1, V0, 4
9D004610  ACE30000   SW V1, 0(A3)
9D004614  8C420000   LW V0, 0(V0)
9D004618  14C0FFBC   BNE A2, ZERO, 0x9D00450C
9D00461C  AC820000   SW V0, 0(A0)
9D004620  1000FFBC   BEQ ZERO, ZERO, 0x9D004514
9D004624  AC800004   SW ZERO, 4(A0)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__pop_float.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005F04  28A30080   SLTI V1, A1, 128
9D005F24  8CC20000   LW V0, 0(A2)
9D005F28  24420007   ADDIU V0, V0, 7
9D005F2C  7C021004   INS V0, ZERO, 0, 3
9D005F30  24430008   ADDIU V1, V0, 8
9D005F34  ACC30000   SW V1, 0(A2)
9D005F38  8C430004   LW V1, 4(V0)
9D005F3C  8C420000   LW V0, 0(V0)
9D005F40  AC830004   SW V1, 4(A0)
9D005F44  AC820000   SW V0, 0(A0)
9D005F48  24020001   ADDIU V0, ZERO, 1
9D005F4C  03E00008   JR RA
9D005F50  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__out.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005804  8C820004   LW V0, 4(A0)
9D005808  27BDFFE0   ADDIU SP, SP, -32
9D00580C  AFBF001C   SW RA, 28(SP)
9D005810  30470100   ANDI A3, V0, 256
9D005814  AFB10018   SW S1, 24(SP)
9D005818  10E00016   BEQ A3, ZERO, 0x9D005874
9D00581C  AFB00014   SW S0, 20(SP)
9D005820  8C820010   LW V0, 16(A0)
9D005824  00808025   OR S0, A0, ZERO
9D005828  00C01825   OR V1, A2, ZERO
9D00582C  00C2882B   SLTU S1, A2, V0
9D005830  8C840014   LW A0, 20(A0)
9D005834  0051180A   MOVZ V1, V0, S1
9D005838  00603025   OR A2, V1, ZERO
9D00583C  0F4018DB   JAL memcpy
9D005840  00608825   OR S1, V1, ZERO
9D005844  8E020014   LW V0, 20(S0)
9D005848  8E030010   LW V1, 16(S0)
9D00584C  00511021   ADDU V0, V0, S1
9D005850  00718823   SUBU S1, V1, S1
9D005854  AE020014   SW V0, 20(S0)
9D005858  AE110010   SW S1, 16(S0)
9D00585C  A0400000   SB ZERO, 0(V0)
9D005860  8FBF001C   LW RA, 28(SP)
9D005864  8FB10018   LW S1, 24(SP)
9D005868  8FB00014   LW S0, 20(SP)
9D00586C  03E00008   JR RA
9D005870  27BD0020   ADDIU SP, SP, 32
9D005874  30420010   ANDI V0, V0, 16
9D005878  5440FFFA   BNEL V0, ZERO, 0x9D005864
9D00587C  8FBF001C   LW RA, 28(SP)
9D005880  0F40193C   JAL __stdio_write_unbuffered, __fwrite, __stdio_write, __fwrite_min
9D005884  00000000   NOP
9D005888  1000FFF6   BEQ ZERO, ZERO, 0x9D005864
9D00588C  8FBF001C   LW RA, 28(SP)
9D0064F0  8C840000   LW A0, 0(A0)
9D0064F4  27BDFFE8   ADDIU SP, SP, -24
9D0064F8  AFBF0014   SW RA, 20(SP)
9D0064FC  0F401624   JAL write
9D006500  00000000   NOP
9D006504  8FBF0014   LW RA, 20(SP)
9D006508  03E00008   JR RA
9D00650C  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__io_init_needed.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__io_file_needed.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__init_stdio.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006398  27BDFFE8   ADDIU SP, SP, -24
9D0063A0  0F401934   JAL __init_stdout
9D0063A4  00000000   NOP
9D0063A8  0F4019A6   JAL __init_stdin, __init_stderr, __dummy
9D0063AC  00000000   NOP
9D0063B0  0F4019A6   JAL __init_stdin, __init_stderr, __dummy
9D0063B4  00000000   NOP
9D0063B8  8FBF0014   LW RA, 20(SP)
9D0063BC  03E00008   JR RA
9D0063C0  27BD0018   ADDIU SP, SP, 24
9D006698  03E00008   JR RA
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fopen.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005BD4  27BDFFE8   ADDIU SP, SP, -24
9D005BE0  0F400E8F   JAL malloc
9D005BE4  24040038   ADDIU A0, ZERO, 56
9D005BE8  1040000D   BEQ V0, ZERO, 0x9D005C20
9D005BEC  00408025   OR S0, V0, ZERO
9D005BF0  24060038   ADDIU A2, ZERO, 56
9D005BF4  00002825   OR A1, ZERO, ZERO
9D005BF8  0F401564   JAL memset
9D005BFC  00402025   OR A0, V0, ZERO
9D005C00  3C029D00   LUI V0, -25344
9D005C04  244264F0   ADDIU V0, V0, 25840
9D005C08  AE02002C   SW V0, 44(S0)
9D005C0C  3C029D00   LUI V0, -25344
9D005C10  2442665C   ADDIU V0, V0, 26204
9D005C14  AE020030   SW V0, 48(S0)
9D005C18  2402FFFF   ADDIU V0, ZERO, -1
9D005C1C  A2020034   SB V0, 52(S0)
9D005C20  8FBF0014   LW RA, 20(SP)
9D005C24  02001025   OR V0, S0, ZERO
9D005C28  8FB00010   LW S0, 16(SP)
9D005C2C  03E00008   JR RA
9D005C30  27BD0018   ADDIU SP, SP, 24
9D00659C  27BDFFE8   ADDIU SP, SP, -24
9D0065A0  AFBF0014   SW RA, 20(SP)
9D0065A4  0F4016F5   JAL __fopen_rw, __fopen_std
9D0065A8  00000000   NOP
9D0065AC  8FBF0014   LW RA, 20(SP)
9D0065B0  03E00008   JR RA
9D0065B4  27BD0018   ADDIU SP, SP, 24
9D00665C  00001025   OR V0, ZERO, ZERO
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fmt_x.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D003F30  27BDFFA8   ADDIU SP, SP, -88
9D003F38  8CB10004   LW S1, 4(A1)
9D003F3C  AFBE0050   SW FP, 80(SP)
9D003F40  AFB7004C   SW S7, 76(SP)
9D003F44  AFB50044   SW S5, 68(SP)
9D003F48  AFB3003C   SW S3, 60(SP)
9D003F4C  00E04825   OR T1, A3, ZERO
9D003F50  AFBF0054   SW RA, 84(SP)
9D003F54  AFB60048   SW S6, 72(SP)
9D003F58  AFB40040   SW S4, 64(SP)
9D003F5C  AFB20038   SW S2, 56(SP)
9D003F60  AFB00030   SW S0, 48(SP)
9D003F64  00809825   OR S3, A0, ZERO
9D003F68  00A0A825   OR S5, A1, ZERO
9D003F6C  8CA70008   LW A3, 8(A1)
9D003F70  8CBE0000   LW FP, 0(A1)
9D003F74  0620004C   BLTZ S1, 0x9D0040A8
9D003F78  8CB7000C   LW S7, 12(A1)
9D003F7C  7C1E0844   INS FP, ZERO, 1, 1
9D003F80  33CA0010   ANDI T2, FP, 16
9D003F84  8CD60000   LW S6, 0(A2)
9D003F88  8CC80004   LW T0, 4(A2)
9D003F8C  11400004   BEQ T2, ZERO, 0x9D003FA0
9D003F90  00E01025   OR V0, A3, ZERO
9D003F94  02C81825   OR V1, S6, T0
9D003F98  54600001   BNEL V1, ZERO, 0x9D003FA0
9D003F9C  24E2FFFE   ADDIU V0, A3, -2
9D003FA0  33CB0008   ANDI T3, FP, 8
9D003FA4  55600001   BNEL T3, ZERO, 0x9D003FAC
9D003FA8  2442FFFF   ADDIU V0, V0, -1
9D003FAC  8EB00010   LW S0, 16(S5)
9D003FB0  2534FFBF   ADDIU S4, T1, -65
9D003FB4  00519023   SUBU S2, V0, S1
9D003FB8  2610FFFF   ADDIU S0, S0, -1
9D003FBC  02F01821   ADDU V1, S7, S0
9D003FC0  A0600000   SB ZERO, 0(V1)
9D003FC4  33C50002   ANDI A1, FP, 2
9D003FC8  2E94001A   SLTIU S4, S4, 26
9D003FCC  2A020002   SLTI V0, S0, 2
9D003FD0  1440000A   BNE V0, ZERO, 0x9D003FFC
9D003FD4  02C81025   OR V0, S6, T0
9D003FD8  14400035   BNE V0, ZERO, 0x9D0040B0
9D003FDC  32C3000F   ANDI V1, S6, 15
9D003FE0  1E200034   BGTZ S1, 0x9D0040B4
9D003FE4  2864000A   SLTI A0, V1, 10
9D003FE8  02511021   ADDU V0, S2, S1
9D003FEC  18400003   BLEZ V0, 0x9D003FFC
9D003FF0  00000000   NOP
9D003FF4  54A00030   BNEL A1, ZERO, 0x9D0040B8
9D003FF8  2610FFFF   ADDIU S0, S0, -1
9D003FFC  1140000B   BEQ T2, ZERO, 0x9D00402C
9D004000  00000000   NOP
9D004004  8CC20000   LW V0, 0(A2)
9D004008  8CC30004   LW V1, 4(A2)
9D00400C  00431025   OR V0, V0, V1
9D004010  10400006   BEQ V0, ZERO, 0x9D00402C
9D004014  02F01021   ADDU V0, S7, S0
9D004018  2610FFFE   ADDIU S0, S0, -2
9D00401C  A049FFFF   SB T1, -1(V0)
9D004020  24030030   ADDIU V1, ZERO, 48
9D004024  02F01021   ADDU V0, S7, S0
9D004028  A0430000   SB V1, 0(V0)
9D00402C  51600006   BEQL T3, ZERO, 0x9D004048
9D004030  8EA60010   LW A2, 16(S5)
9D004034  2610FFFF   ADDIU S0, S0, -1
9D004038  02F01021   ADDU V0, S7, S0
9D00403C  24030020   ADDIU V1, ZERO, 32
9D004040  A0430000   SB V1, 0(V0)
9D004044  8EA60010   LW A2, 16(S5)
9D004048  AFBE0010   SW FP, 16(SP)
9D00404C  02F02821   ADDU A1, S7, S0
9D004050  24C6FFFF   ADDIU A2, A2, -1
9D004054  00D03023   SUBU A2, A2, S0
9D004058  0F4013BC   JAL __pad
9D00405C  02602025   OR A0, S3, ZERO
9D004060  8E630004   LW V1, 4(S3)
9D004064  30630100   ANDI V1, V1, 256
9D004068  10600004   BEQ V1, ZERO, 0x9D00407C
9D00406C  8FBF0054   LW RA, 84(SP)
9D004070  8EA30004   LW V1, 4(S5)
9D004074  0043202A   SLT A0, V0, V1
9D004078  0064100B   MOVN V0, V1, A0
9D00407C  8FBE0050   LW FP, 80(SP)
9D004080  8FB7004C   LW S7, 76(SP)
9D004084  8FB60048   LW S6, 72(SP)
9D004088  8FB50044   LW S5, 68(SP)
9D00408C  8FB40040   LW S4, 64(SP)
9D004090  8FB3003C   LW S3, 60(SP)
9D004094  8FB20038   LW S2, 56(SP)
9D004098  8FB10034   LW S1, 52(SP)
9D00409C  8FB00030   LW S0, 48(SP)
9D0040A0  03E00008   JR RA
9D0040A4  27BD0058   ADDIU SP, SP, 88
9D0040A8  1000FFB5   BEQ ZERO, ZERO, 0x9D003F80
9D0040AC  24110001   ADDIU S1, ZERO, 1
9D0040B0  2864000A   SLTI A0, V1, 10
9D0040B4  2610FFFF   ADDIU S0, S0, -1
9D0040B8  10800002   BEQ A0, ZERO, 0x9D0040C4
9D0040BC  24620057   ADDIU V0, V1, 87
9D0040C0  24620030   ADDIU V0, V1, 48
9D0040C4  12800017   BEQ S4, ZERO, 0x9D004124
9D0040C8  02F01821   ADDU V1, S7, S0
9D0040CC  34430020   ORI V1, V0, 32
9D0040D0  2463FF9F   ADDIU V1, V1, -97
9D0040D4  2C63001A   SLTIU V1, V1, 26
9D0040D8  10600012   BEQ V1, ZERO, 0x9D004124
9D0040DC  02F01821   ADDU V1, S7, S0
9D0040E0  00402025   OR A0, V0, ZERO
9D0040E4  AFA50028   SW A1, 40(SP)
9D0040E8  AFA80024   SW T0, 36(SP)
9D0040EC  AFA90064   SW T1, 100(SP)
9D0040F0  AFA60060   SW A2, 96(SP)
9D0040F4  AFA70020   SW A3, 32(SP)
9D0040F8  AFAB001C   SW T3, 28(SP)
9D0040FC  0F401959   JAL toupper
9D004100  AFAA0018   SW T2, 24(SP)
9D004104  8FA50028   LW A1, 40(SP)
9D004108  8FA80024   LW T0, 36(SP)
9D00410C  8FA90064   LW T1, 100(SP)
9D004110  8FA60060   LW A2, 96(SP)
9D004114  8FA70020   LW A3, 32(SP)
9D004118  8FAB001C   LW T3, 28(SP)
9D00411C  8FAA0018   LW T2, 24(SP)
9D004120  02F01821   ADDU V1, S7, S0
9D004124  A0620000   SB V0, 0(V1)
9D004128  0016B102   SRL S6, S6, 4
9D00412C  00081700   SLL V0, T0, 28
9D004130  2631FFFF   ADDIU S1, S1, -1
9D004134  0056B025   OR S6, V0, S6
9D004138  1000FFA4   BEQ ZERO, ZERO, 0x9D003FCC
9D00413C  00084102   SRL T0, T0, 4
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fmt_u.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D004A3C  27BDFFC0   ADDIU SP, SP, -64
9D004A40  8C820010   LW V0, 16(A0)
9D004A44  AFB70034   SW S7, 52(SP)
9D004A48  8C880004   LW T0, 4(A0)
9D004A4C  8FB70058   LW S7, 88(SP)
9D004A50  2442FFFF   ADDIU V0, V0, -1
9D004A54  AFBE0038   SW FP, 56(SP)
9D004A58  AFB40028   SW S4, 40(SP)
9D004A5C  AFB30024   SW S3, 36(SP)
9D004A60  AFB20020   SW S2, 32(SP)
9D004A64  AFB1001C   SW S1, 28(SP)
9D004A68  AFB00018   SW S0, 24(SP)
9D004A6C  AFBF003C   SW RA, 60(SP)
9D004A70  AFB60030   SW S6, 48(SP)
9D004A74  AFB5002C   SW S5, 44(SP)
9D004A78  00C08025   OR S0, A2, ZERO
9D004A7C  00E08825   OR S1, A3, ZERO
9D004A80  8FB30054   LW S3, 84(SP)
9D004A84  8C94000C   LW S4, 12(A0)
9D004A88  8EFE0000   LW FP, 0(S7)
9D004A8C  05010002   BGEZ T0, 0x9D004A98
9D004A90  00409025   OR S2, V0, ZERO
9D004A94  24080001   ADDIU T0, ZERO, 1
9D004A98  02821021   ADDU V0, S4, V0
9D004A9C  A0400000   SB ZERO, 0(V0)
9D004AA0  0000A825   OR S5, ZERO, ZERO
9D004AA4  24090001   ADDIU T1, ZERO, 1
9D004AA8  33DE0002   ANDI FP, FP, 2
9D004AAC  0013B7C3   SRA S6, S3, 31
9D004AB0  1E400010   BGTZ S2, 0x9D004AF4
9D004AB4  02111025   OR V0, S0, S1
9D004AB8  5120002E   BEQL T1, ZERO, 0x9D004B74
9D004ABC  8EE20000   LW V0, 0(S7)
9D004AC0  8FBF003C   LW RA, 60(SP)
9D004AC4  02401025   OR V0, S2, ZERO
9D004AC8  8FBE0038   LW FP, 56(SP)
9D004ACC  8FB70034   LW S7, 52(SP)
9D004AD0  8FB60030   LW S6, 48(SP)
9D004AD4  8FB5002C   LW S5, 44(SP)
9D004AD8  8FB40028   LW S4, 40(SP)
9D004ADC  8FB30024   LW S3, 36(SP)
9D004AE0  8FB20020   LW S2, 32(SP)
9D004AE4  8FB1001C   LW S1, 28(SP)
9D004AE8  8FB00018   LW S0, 24(SP)
9D004AEC  03E00008   JR RA
9D004AF0  27BD0040   ADDIU SP, SP, 64
9D004AF4  1440000A   BNE V0, ZERO, 0x9D004B20
9D004AF8  02002025   OR A0, S0, ZERO
9D004AFC  01151023   SUBU V0, T0, S5
9D004B00  1C400008   BGTZ V0, 0x9D004B24
9D004B04  02202825   OR A1, S1, ZERO
9D004B08  8FA20050   LW V0, 80(SP)
9D004B0C  00551023   SUBU V0, V0, S5
9D004B10  1840FFE9   BLEZ V0, 0x9D004AB8
9D004B14  00000000   NOP
9D004B18  13C0FFE7   BEQ FP, ZERO, 0x9D004AB8
9D004B1C  00000000   NOP
9D004B20  02202825   OR A1, S1, ZERO
9D004B24  02603025   OR A2, S3, ZERO
9D004B28  02C03825   OR A3, S6, ZERO
9D004B2C  AFA80014   SW T0, 20(SP)
9D004B30  0F400C96   JAL __umoddi3
9D004B34  2652FFFF   ADDIU S2, S2, -1
9D004B38  AFA20010   SW V0, 16(SP)
9D004B3C  02921821   ADDU V1, S4, S2
9D004B40  24420030   ADDIU V0, V0, 48
9D004B44  02002025   OR A0, S0, ZERO
9D004B48  02202825   OR A1, S1, ZERO
9D004B4C  A0620000   SB V0, 0(V1)
9D004B50  02603025   OR A2, S3, ZERO
9D004B54  0F400D94   JAL __udivdi3
9D004B58  02C03825   OR A3, S6, ZERO
9D004B5C  00408025   OR S0, V0, ZERO
9D004B60  00608825   OR S1, V1, ZERO
9D004B64  26B50001   ADDIU S5, S5, 1
9D004B68  8FA80014   LW T0, 20(SP)
9D004B6C  1000FFD0   BEQ ZERO, ZERO, 0x9D004AB0
9D004B70  8FA90010   LW T1, 16(SP)
9D004B74  7C022104   INS V0, ZERO, 4, 1
9D004B78  1000FFD1   BEQ ZERO, ZERO, 0x9D004AC0
9D004B7C  AEE20000   SW V0, 0(S7)
9D005378  8CA20000   LW V0, 0(A1)
9D00537C  8CA30004   LW V1, 4(A1)
9D005380  27BDFFC0   ADDIU SP, SP, -64
9D005384  AFB30038   SW S3, 56(SP)
9D005388  AFB20034   SW S2, 52(SP)
9D00538C  AFB10030   SW S1, 48(SP)
9D005390  AFB0002C   SW S0, 44(SP)
9D005394  AFBF003C   SW RA, 60(SP)
9D005398  00808825   OR S1, A0, ZERO
9D00539C  00A08025   OR S0, A1, ZERO
9D0053A0  8CB20008   LW S2, 8(A1)
9D0053A4  AFA20020   SW V0, 32(SP)
9D0053A8  04600003   BLTZ V1, 0x9D0053B8
9D0053AC  8CB3000C   LW S3, 12(A1)
9D0053B0  7C020844   INS V0, ZERO, 1, 1
9D0053B4  AFA20020   SW V0, 32(SP)
9D0053B8  27A20020   ADDIU V0, SP, 32
9D0053BC  AFA20018   SW V0, 24(SP)
9D0053C0  2402000A   ADDIU V0, ZERO, 10
9D0053C4  AFA20014   SW V0, 20(SP)
9D0053C8  AFB20010   SW S2, 16(SP)
9D0053CC  8CC70004   LW A3, 4(A2)
9D0053D0  8CC60000   LW A2, 0(A2)
9D0053D4  0F40128F   JAL __cvt_u
9D0053D8  02002025   OR A0, S0, ZERO
9D0053DC  8E060010   LW A2, 16(S0)
9D0053E0  8FA30020   LW V1, 32(SP)
9D0053E4  02403825   OR A3, S2, ZERO
9D0053E8  24C6FFFF   ADDIU A2, A2, -1
9D0053EC  AFA30010   SW V1, 16(SP)
9D0053F0  00C23023   SUBU A2, A2, V0
9D0053F4  02622821   ADDU A1, S3, V0
9D0053F8  0F4013BC   JAL __pad
9D0053FC  02202025   OR A0, S1, ZERO
9D005400  8E230004   LW V1, 4(S1)
9D005404  30630100   ANDI V1, V1, 256
9D005408  10600004   BEQ V1, ZERO, 0x9D00541C
9D00540C  8FBF003C   LW RA, 60(SP)
9D005410  8E030004   LW V1, 4(S0)
9D005414  0043202A   SLT A0, V0, V1
9D005418  0064100B   MOVN V0, V1, A0
9D00541C  8FB30038   LW S3, 56(SP)
9D005420  8FB20034   LW S2, 52(SP)
9D005424  8FB10030   LW S1, 48(SP)
9D005428  8FB0002C   LW S0, 44(SP)
9D00542C  03E00008   JR RA
9D005430  27BD0040   ADDIU SP, SP, 64
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fmt_s.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005638  3C036C75   LUI V1, 27765
9D00563C  27BDFFC8   ADDIU SP, SP, -56
9D005640  24636E28   ADDIU V1, V1, 28200
9D005644  AFA30018   SW V1, 24(SP)
9D005648  2403296C   ADDIU V1, ZERO, 10604
9D00564C  AFB40030   SW S4, 48(SP)
9D005650  AFB3002C   SW S3, 44(SP)
9D005654  AFB20028   SW S2, 40(SP)
9D005658  AFB10024   SW S1, 36(SP)
9D00565C  AFB00020   SW S0, 32(SP)
9D005660  AFBF0034   SW RA, 52(SP)
9D005664  00809025   OR S2, A0, ZERO
9D005668  00E01025   OR V0, A3, ZERO
9D00566C  A7A3001C   SH V1, 28(SP)
9D005670  A3A0001E   SB ZERO, 30(SP)
9D005674  8CB10004   LW S1, 4(A1)
9D005678  8CB30008   LW S3, 8(A1)
9D00567C  8CB40000   LW S4, 0(A1)
9D005680  10C00002   BEQ A2, ZERO, 0x9D00568C
9D005684  27B00018   ADDIU S0, SP, 24
9D005688  00C08025   OR S0, A2, ZERO
9D00568C  14400003   BNE V0, ZERO, 0x9D00569C
9D005690  00000000   NOP
9D005694  0F40118A   JAL strlen
9D005698  02002025   OR A0, S0, ZERO
9D00569C  06200002   BLTZ S1, 0x9D0056A8
9D0056A0  0222182B   SLTU V1, S1, V0
9D0056A4  0223100B   MOVN V0, S1, V1
9D0056A8  AFB40010   SW S4, 16(SP)
9D0056AC  02603825   OR A3, S3, ZERO
9D0056B0  02002825   OR A1, S0, ZERO
9D0056B4  02402025   OR A0, S2, ZERO
9D0056B8  0F4013BC   JAL __pad
9D0056BC  00403025   OR A2, V0, ZERO
9D0056C0  8FBF0034   LW RA, 52(SP)
9D0056C4  8FB40030   LW S4, 48(SP)
9D0056C8  8FB3002C   LW S3, 44(SP)
9D0056CC  8FB20028   LW S2, 40(SP)
9D0056D0  8FB10024   LW S1, 36(SP)
9D0056D4  8FB00020   LW S0, 32(SP)
9D0056D8  03E00008   JR RA
9D0056DC  27BD0038   ADDIU SP, SP, 56
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fmt_o.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D004FF4  8CA20000   LW V0, 0(A1)
9D004FF8  8CA30004   LW V1, 4(A1)
9D004FFC  27BDFFC0   ADDIU SP, SP, -64
9D005000  AFB30038   SW S3, 56(SP)
9D005004  AFB20034   SW S2, 52(SP)
9D005008  AFB10030   SW S1, 48(SP)
9D00500C  AFB0002C   SW S0, 44(SP)
9D005010  AFBF003C   SW RA, 60(SP)
9D005014  00809025   OR S2, A0, ZERO
9D005018  00A08025   OR S0, A1, ZERO
9D00501C  8CB30008   LW S3, 8(A1)
9D005020  AFA20020   SW V0, 32(SP)
9D005024  04600003   BLTZ V1, 0x9D005034
9D005028  8CB1000C   LW S1, 12(A1)
9D00502C  7C020844   INS V0, ZERO, 1, 1
9D005030  AFA20020   SW V0, 32(SP)
9D005034  27A20020   ADDIU V0, SP, 32
9D005038  AFA20018   SW V0, 24(SP)
9D00503C  24020008   ADDIU V0, ZERO, 8
9D005040  AFA20014   SW V0, 20(SP)
9D005044  AFB30010   SW S3, 16(SP)
9D005048  8CC70004   LW A3, 4(A2)
9D00504C  8CC60000   LW A2, 0(A2)
9D005050  0F40128F   JAL __cvt_u
9D005054  02002025   OR A0, S0, ZERO
9D005058  8FA30020   LW V1, 32(SP)
9D00505C  30630010   ANDI V1, V1, 16
9D005060  10600006   BEQ V1, ZERO, 0x9D00507C
9D005064  8FA30020   LW V1, 32(SP)
9D005068  2442FFFF   ADDIU V0, V0, -1
9D00506C  02221821   ADDU V1, S1, V0
9D005070  24040030   ADDIU A0, ZERO, 48
9D005074  A0640000   SB A0, 0(V1)
9D005078  8FA30020   LW V1, 32(SP)
9D00507C  30630008   ANDI V1, V1, 8
9D005080  50600006   BEQL V1, ZERO, 0x9D00509C
9D005084  8E060010   LW A2, 16(S0)
9D005088  2442FFFF   ADDIU V0, V0, -1
9D00508C  02221821   ADDU V1, S1, V0
9D005090  24040020   ADDIU A0, ZERO, 32
9D005094  A0640000   SB A0, 0(V1)
9D005098  8E060010   LW A2, 16(S0)
9D00509C  8FA30020   LW V1, 32(SP)
9D0050A0  02603825   OR A3, S3, ZERO
9D0050A4  24C6FFFF   ADDIU A2, A2, -1
9D0050A8  AFA30010   SW V1, 16(SP)
9D0050AC  00C23023   SUBU A2, A2, V0
9D0050B0  02222821   ADDU A1, S1, V0
9D0050B4  0F4013BC   JAL __pad
9D0050B8  02402025   OR A0, S2, ZERO
9D0050BC  8E430004   LW V1, 4(S2)
9D0050C0  30630100   ANDI V1, V1, 256
9D0050C4  10600004   BEQ V1, ZERO, 0x9D0050D8
9D0050C8  8FBF003C   LW RA, 60(SP)
9D0050CC  8E030004   LW V1, 4(S0)
9D0050D0  0043202A   SLT A0, V0, V1
9D0050D4  0064100B   MOVN V0, V1, A0
9D0050D8  8FB30038   LW S3, 56(SP)
9D0050DC  8FB20034   LW S2, 52(SP)
9D0050E0  8FB10030   LW S1, 48(SP)
9D0050E4  8FB0002C   LW S0, 44(SP)
9D0050E8  03E00008   JR RA
9D0050EC  27BD0040   ADDIU SP, SP, 64
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/stdio/mchp/__fmt_d.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D004790  27BDFFC0   ADDIU SP, SP, -64
9D004794  AFB1002C   SW S1, 44(SP)
9D004798  00808825   OR S1, A0, ZERO
9D00479C  00C02025   OR A0, A2, ZERO
9D0047A0  8C870004   LW A3, 4(A0)
9D0047A4  8CA20000   LW V0, 0(A1)
9D0047A8  AFB20030   SW S2, 48(SP)
9D0047AC  000797C2   SRL S2, A3, 31
9D0047B0  AFB40038   SW S4, 56(SP)
9D0047B4  AFB30034   SW S3, 52(SP)
9D0047B8  AFB00028   SW S0, 40(SP)
9D0047BC  AFBF003C   SW RA, 60(SP)
9D0047C0  00A08025   OR S0, A1, ZERO
9D0047C4  8CA30004   LW V1, 4(A1)
9D0047C8  8CB30008   LW S3, 8(A1)
9D0047CC  AFA20020   SW V0, 32(SP)
9D0047D0  8CB4000C   LW S4, 12(A1)
9D0047D4  12400040   BEQ S2, ZERO, 0x9D0048D8
9D0047D8  8CC60000   LW A2, 0(A2)
9D0047DC  00063023   SUBU A2, ZERO, A2
9D0047E0  0006202B   SLTU A0, ZERO, A2
9D0047E4  00073823   SUBU A3, ZERO, A3
9D0047E8  04600008   BLTZ V1, 0x9D00480C
9D0047EC  00E43823   SUBU A3, A3, A0
9D0047F0  7C020844   INS V0, ZERO, 1, 1
9D0047F4  16400005   BNE S2, ZERO, 0x9D00480C
9D0047F8  AFA20020   SW V0, 32(SP)
9D0047FC  8FA20020   LW V0, 32(SP)
9D004800  30430004   ANDI V1, V0, 4
9D004804  1060002C   BEQ V1, ZERO, 0x9D0048B8
9D004808  7C4200C0   EXT V0, V0, 3, 1
9D00480C  2662FFFF   ADDIU V0, S3, -1
9D004810  27A30020   ADDIU V1, SP, 32
9D004814  AFA30018   SW V1, 24(SP)
9D004818  2403000A   ADDIU V1, ZERO, 10
9D00481C  AFA30014   SW V1, 20(SP)
9D004820  AFA20010   SW V0, 16(SP)
9D004824  0F40128F   JAL __cvt_u
9D004828  02002025   OR A0, S0, ZERO
9D00482C  16400006   BNE S2, ZERO, 0x9D004848
9D004830  2403002D   ADDIU V1, ZERO, 45
9D004834  8FA30020   LW V1, 32(SP)
9D004838  30640004   ANDI A0, V1, 4
9D00483C  10800020   BEQ A0, ZERO, 0x9D0048C0
9D004840  30630008   ANDI V1, V1, 8
9D004844  2403002D   ADDIU V1, ZERO, 45
9D004848  2442FFFF   ADDIU V0, V0, -1
9D00484C  2404002B   ADDIU A0, ZERO, 43
9D004850  0072200B   MOVN A0, V1, S2
9D004854  02821821   ADDU V1, S4, V0
9D004858  A0640000   SB A0, 0(V1)
9D00485C  8E060010   LW A2, 16(S0)
9D004860  8FA30020   LW V1, 32(SP)
9D004864  02603825   OR A3, S3, ZERO
9D004868  24C6FFFF   ADDIU A2, A2, -1
9D00486C  AFA30010   SW V1, 16(SP)
9D004870  00C23023   SUBU A2, A2, V0
9D004874  02822821   ADDU A1, S4, V0
9D004878  0F4013BC   JAL __pad
9D00487C  02202025   OR A0, S1, ZERO
9D004880  8E230004   LW V1, 4(S1)
9D004884  30630100   ANDI V1, V1, 256
9D004888  10600004   BEQ V1, ZERO, 0x9D00489C
9D00488C  8FBF003C   LW RA, 60(SP)
9D004890  8E030004   LW V1, 4(S0)
9D004894  0043202A   SLT A0, V0, V1
9D004898  0064100B   MOVN V0, V1, A0
9D00489C  8FB40038   LW S4, 56(SP)
9D0048A0  8FB30034   LW S3, 52(SP)
9D0048A4  8FB20030   LW S2, 48(SP)
9D0048A8  8FB1002C   LW S1, 44(SP)
9D0048AC  8FB00028   LW S0, 40(SP)
9D0048B0  03E00008   JR RA
9D0048B4  27BD0040   ADDIU SP, SP, 64
9D0048B8  1000FFD5   BEQ ZERO, ZERO, 0x9D004810
9D0048BC  02621023   SUBU V0, S3, V0
9D0048C0  5060FFE7   BEQL V1, ZERO, 0x9D004860
9D0048C4  8E060010   LW A2, 16(S0)
9D0048C8  2442FFFF   ADDIU V0, V0, -1
9D0048CC  02821821   ADDU V1, S4, V0
9D0048D0  1000FFE1   BEQ ZERO, ZERO, 0x9D004858
9D0048D4  24040020   ADDIU A0, ZERO, 32
9D0048D8  0463FFC6   BGEZL V1, 0x9D0047F4
9D0048DC  7C020844   INS V0, ZERO, 1, 1
9D0048E0  1000FFC7   BEQ ZERO, ZERO, 0x9D004800
9D0048E4  8FA20020   LW V0, 32(SP)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__sio_sprintf_dosux.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00620C  27BDFFE8   ADDIU SP, SP, -24
9D006210  AFBF0014   SW RA, 20(SP)
9D006214  0F4011E4   JAL __fmt_d
9D006218  00000000   NOP
9D00621C  0F4013FD   JAL __fmt_o
9D006220  00000000   NOP
9D006224  0F40158E   JAL __fmt_s
9D006228  00000000   NOP
9D00622C  0F4014DE   JAL __fmt_u
9D006230  00000000   NOP
9D006234  0F400FCC   JAL __fmt_x
9D006238  00000000   NOP
9D00623C  8FBF0014   LW RA, 20(SP)
9D006240  03E00008   JR RA
9D006244  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__sio_printf_s.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006510  27BDFFE8   ADDIU SP, SP, -24
9D006514  AFBF0014   SW RA, 20(SP)
9D006518  0F40158E   JAL __fmt_s
9D00651C  00000000   NOP
9D006520  8FBF0014   LW RA, 20(SP)
9D006524  03E00008   JR RA
9D006528  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__sio_printf_doux.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006194  27BDFFE8   ADDIU SP, SP, -24
9D006198  AFBF0014   SW RA, 20(SP)
9D00619C  0F4011E4   JAL __fmt_d
9D0061A0  00000000   NOP
9D0061A4  0F4013FD   JAL __fmt_o
9D0061A8  00000000   NOP
9D0061AC  0F4014DE   JAL __fmt_u
9D0061B0  00000000   NOP
9D0061B4  0F400FCC   JAL __fmt_x
9D0061B8  00000000   NOP
9D0061BC  0F40158E   JAL __fmt_s
9D0061C0  00000000   NOP
9D0061C4  8FBF0014   LW RA, 20(SP)
9D0061C8  03E00008   JR RA
9D0061CC  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__int_vsprintf.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006440  00C03825   OR A3, A2, ZERO
9D006444  00A03025   OR A2, A1, ZERO
9D006448  3C057FFF   LUI A1, 32767
9D00644C  27BDFFE8   ADDIU SP, SP, -24
9D006450  AFBF0014   SW RA, 20(SP)
9D006454  0F401666   JAL __vsnprintf
9D006458  34A5FFFF   ORI A1, A1, -1
9D00645C  8FBF0014   LW RA, 20(SP)
9D006460  03E00008   JR RA
9D006464  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__int_vsnprintf.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005998  27BDFFC8   ADDIU SP, SP, -56
9D00599C  2403FFFF   ADDIU V1, ZERO, -1
9D0059A0  AFA30010   SW V1, 16(SP)
9D0059A4  24030102   ADDIU V1, ZERO, 258
9D0059A8  00A01025   OR V0, A1, ZERO
9D0059AC  AFBF0034   SW RA, 52(SP)
9D0059B0  00C02825   OR A1, A2, ZERO
9D0059B4  AFA30014   SW V1, 20(SP)
9D0059B8  14800002   BNE A0, ZERO, 0x9D0059C4
9D0059BC  00E03025   OR A2, A3, ZERO
9D0059C0  27A4002C   ADDIU A0, SP, 44
9D0059C4  AFA40018   SW A0, 24(SP)
9D0059C8  AFA2001C   SW V0, 28(SP)
9D0059CC  10400002   BEQ V0, ZERO, 0x9D0059D8
9D0059D0  00001825   OR V1, ZERO, ZERO
9D0059D4  2443FFFF   ADDIU V1, V0, -1
9D0059D8  04410008   BGEZ V0, 0x9D0059FC
9D0059DC  AFA30020   SW V1, 32(SP)
9D0059E0  3C02A000   LUI V0, -24576
9D0059E4  2403004F   ADDIU V1, ZERO, 79
9D0059E8  AC430F98   SW V1, 3992(V0)
9D0059EC  2402FFFF   ADDIU V0, ZERO, -1
9D0059F0  8FBF0034   LW RA, 52(SP)
9D0059F4  03E00008   JR RA
9D0059F8  27BD0038   ADDIU SP, SP, 56
9D0059FC  AFA40028   SW A0, 40(SP)
9D005A00  AFA40024   SW A0, 36(SP)
9D005A04  A0800000   SB ZERO, 0(A0)
9D005A08  0F401892   JAL __vfprintf
9D005A0C  27A40010   ADDIU A0, SP, 16
9D005A10  1000FFF8   BEQ ZERO, ZERO, 0x9D0059F4
9D005A14  8FBF0034   LW RA, 52(SP)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__int_vfprintf.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006248  27BDFFE0   ADDIU SP, SP, -32
9D00624C  AFB00018   SW S0, 24(SP)
9D006250  AFA60010   SW A2, 16(SP)
9D006254  00808025   OR S0, A0, ZERO
9D006258  AFBF001C   SW RA, 28(SP)
9D00625C  0F4008C4   JAL __printf_core
9D006260  27A60010   ADDIU A2, SP, 16
9D006264  8E030004   LW V1, 4(S0)
9D006268  8FBF001C   LW RA, 28(SP)
9D00626C  2404FFFF   ADDIU A0, ZERO, -1
9D006270  30630010   ANDI V1, V1, 16
9D006274  0083100B   MOVN V0, A0, V1
9D006278  8FB00018   LW S0, 24(SP)
9D00627C  03E00008   JR RA
9D006280  27BD0020   ADDIU SP, SP, 32
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__int_sprintf.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0063F0  27BDFFE0   ADDIU SP, SP, -32
9D0063F8  27A60028   ADDIU A2, SP, 40
9D0063FC  AFBF001C   SW RA, 28(SP)
9D006400  AFA7002C   SW A3, 44(SP)
9D006404  0F401910   JAL __vsprintf
9D006408  AFA60010   SW A2, 16(SP)
9D00640C  8FBF001C   LW RA, 28(SP)
9D006410  03E00008   JR RA
9D006414  27BD0020   ADDIU SP, SP, 32
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/smartio/__int_printf.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006158  3C02A000   LUI V0, -24576
9D006160  27BDFFE0   ADDIU SP, SP, -32
9D006164  AFA50024   SW A1, 36(SP)
9D006168  AFA60028   SW A2, 40(SP)
9D00616C  AFA7002C   SW A3, 44(SP)
9D006170  00802825   OR A1, A0, ZERO
9D006174  8C440000   LW A0, 0(V0)
9D006178  27A60024   ADDIU A2, SP, 36
9D00617C  AFBF001C   SW RA, 28(SP)
9D006180  0F401892   JAL __vfprintf
9D006184  AFA60010   SW A2, 16(SP)
9D006188  8FBF001C   LW RA, 28(SP)
9D00618C  03E00008   JR RA
9D006190  27BD0020   ADDIU SP, SP, 32
9D0061D0  3C02A000   LUI V0, -24576
9D0061D8  27BDFFE0   ADDIU SP, SP, -32
9D0061DC  AFA50024   SW A1, 36(SP)
9D0061E0  AFA60028   SW A2, 40(SP)
9D0061E4  AFA7002C   SW A3, 44(SP)
9D0061E8  00802825   OR A1, A0, ZERO
9D0061EC  8C440000   LW A0, 0(V0)
9D0061F0  27A60024   ADDIU A2, SP, 36
9D0061F4  AFBF001C   SW RA, 28(SP)
9D0061F8  0F401892   JAL __vfprintf
9D0061FC  AFA60010   SW A2, 16(SP)
9D006200  8FBF001C   LW RA, 28(SP)
9D006204  03E00008   JR RA
9D006208  27BD0020   ADDIU SP, SP, 32
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/prng/mchp/rand.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006468  3C04A000   LUI A0, -24576
9D00646C  8C820C4C   LW V0, 3148(A0)
9D006470  3C034C95   LUI V1, 19605
9D006474  24637F2D   ADDIU V1, V1, 32557
9D006478  70431002   MUL V0, V0, V1
9D00647C  24420001   ADDIU V0, V0, 1
9D006480  AC820C4C   SW V0, 3148(A0)
9D006484  03E00008   JR RA
9D006488  00021442   SRL V0, V0, 17
9D006634  2484FFFF   ADDIU A0, A0, -1
9D006638  3C02A000   LUI V0, -24576
9D00663C  03E00008   JR RA
9D006640  AC440C4C   SW A0, 3148(V0)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/malloc/pic32m/expand_heap.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006284  8C840000   LW A0, 0(A0)
9D006288  04810003   BGEZ A0, 0x9D006298
9D00628C  00001025   OR V0, ZERO, ZERO
9D006290  03E00008   JR RA
9D006294  00000000   NOP
9D006298  27BDFFE8   ADDIU SP, SP, -24
9D00629C  AFBF0014   SW RA, 20(SP)
9D0062A0  0F40150D   JAL _sbrk
9D0062A4  00000000   NOP
9D0062A8  2403FFFF   ADDIU V1, ZERO, -1
9D0062AC  50430001   BEQL V0, V1, 0x9D0062B4
9D0062B0  00001025   OR V0, ZERO, ZERO
9D0062B4  8FBF0014   LW RA, 20(SP)
9D0062B8  03E00008   JR RA
9D0062BC  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/malloc/mchp/malloc.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D003A3C  27BDFFD8   ADDIU SP, SP, -40
9D003A40  AFA40028   SW A0, 40(SP)
9D003A44  27A40028   ADDIU A0, SP, 40
9D003A48  AFBF0024   SW RA, 36(SP)
9D003A4C  AFB10020   SW S1, 32(SP)
9D003A50  0F401780   JAL adjust_size
9D003A54  AFB0001C   SW S0, 28(SP)
9D003A58  04410007   BGEZ V0, malloc::bin_index_up
9D003A5C  8FA20028   LW V0, 40(SP)
9D003A60  00001025   OR V0, ZERO, ZERO
9D003A64  8FBF0024   LW RA, 36(SP)
9D003A68  8FB10020   LW S1, 32(SP)
9D003A6C  8FB0001C   LW S0, 28(SP)
9D003A70  03E00008   JR RA
9D003A74  27BD0028   ADDIU SP, SP, 40
9D003A78  00021102   SRL V0, V0, 4
9D003A7C  2451FFFF   ADDIU S1, V0, -1
9D003A80  2E230021   SLTIU V1, S1, 33
9D003A84  14600009   BNE V1, ZERO, 0x9D003AAC
9D003A88  2442FFFE   ADDIU V0, V0, -2
9D003A8C  3C039D00   LUI V1, -25344
9D003A90  2C440200   SLTIU A0, V0, 512
9D003A94  10800023   BEQ A0, ZERO, malloc::bin_index_up
9D003A98  24635D6C   ADDIU V1, V1, 23916
9D003A9C  000210C2   SRL V0, V0, 3
9D003AA0  00621021   ADDU V0, V1, V0
9D003AA4  9051FFFC   LBU S1, -4(V0)
9D003AA8  26310001   ADDIU S1, S1, 1
9D003AAC  02203025   OR A2, S1, ZERO
9D003AB0  24040001   ADDIU A0, ZERO, 1
9D003AB4  0F4018BF   JAL __ashldi3
9D003AB8  00002825   OR A1, ZERO, ZERO
9D003ABC  00025823   SUBU T3, ZERO, V0
9D003AC0  000B382B   SLTU A3, ZERO, T3
9D003AC4  00031823   SUBU V1, ZERO, V1
9D003AC8  3C0AA000   LUI T2, -24576
9D003ACC  3C089D00   LUI T0, -25344
9D003AD0  00673823   SUBU A3, V1, A3
9D003AD4  25085D4C   ADDIU T0, T0, 23884
9D003ADC  25490C58   ADDIU T1, T2, 3160
9D003AE0  8D420C58   LW V0, 3160(T2)
9D003AE4  8D430C5C   LW V1, 3164(T2)
9D003AE8  01622824   AND A1, T3, V0
9D003AEC  00E31824   AND V1, A3, V1
9D003AF0  00A32025   OR A0, A1, V1
9D003AF4  14800039   BNE A0, ZERO, first_set
9D003AF8  8FA20028   LW V0, 40(SP)
9D003AFC  27A40010   ADDIU A0, SP, 16
9D003B00  24420010   ADDIU V0, V0, 16
9D003B04  0F4018A1   JAL __expand_heap
9D003B08  AFA20010   SW V0, 16(SP)
9D003B0C  1440000A   BNE V0, ZERO, expand_heap
9D003B10  3C03A000   LUI V1, -24576
9D003B14  3C03A000   LUI V1, -24576
9D003B18  2404000C   ADDIU A0, ZERO, 12
9D003B1C  1000FFD1   BEQ ZERO, ZERO, 0x9D003A64
9D003B20  AC640F98   SW A0, 3992(V1)
9D003B24  000211C2   SRL V0, V0, 7
9D003B28  00621021   ADDU V0, V1, V0
9D003B2C  9051FFFC   LBU S1, -4(V0)
9D003B30  1000FFDE   BEQ ZERO, ZERO, 0x9D003AAC
9D003B34  26310011   ADDIU S1, S1, 17
9D003B38  8C710C50   LW S1, 3152(V1)
9D003B3C  10510006   BEQ V0, S1, 0x9D003B58
9D003B40  8FA40010   LW A0, 16(SP)
9D003B44  24510010   ADDIU S1, V0, 16
9D003B48  2484FFF0   ADDIU A0, A0, -16
9D003B4C  AFA40010   SW A0, 16(SP)
9D003B50  24040001   ADDIU A0, ZERO, 1
9D003B54  AC440008   SW A0, 8(V0)
9D003B58  8FA20010   LW V0, 16(SP)
9D003B5C  2630FFF8   ADDIU S0, S1, -8
9D003B60  02222021   ADDU A0, S1, V0
9D003B64  AC640C50   SW A0, 3152(V1)
9D003B68  34420001   ORI V0, V0, 1
9D003B6C  24030001   ADDIU V1, ZERO, 1
9D003B70  AC82FFF8   SW V0, -8(A0)
9D003B74  AC83FFFC   SW V1, -4(A0)
9D003B78  1200FFB9   BEQ S0, ZERO, 0x9D003A60
9D003B7C  AE22FFFC   SW V0, -4(S1)
9D003B80  0F4016A3   JAL alloc_rev
9D003B84  02002025   OR A0, S0, ZERO
9D003B88  10400010   BEQ V0, ZERO, 0x9D003BCC
9D003B8C  8FA50028   LW A1, 40(SP)
9D003B90  8E23FFF8   LW V1, -8(S1)
9D003B94  2402FFFE   ADDIU V0, ZERO, -2
9D003B98  8E25FFFC   LW A1, -4(S1)
9D003B9C  00431824   AND V1, V0, V1
9D003BA0  02031823   SUBU V1, S0, V1
9D003BA4  8C640004   LW A0, 4(V1)
9D003BA8  00442024   AND A0, V0, A0
9D003BAC  00852021   ADDU A0, A0, A1
9D003BB0  AC640004   SW A0, 4(V1)
9D003BB4  8E25FFFC   LW A1, -4(S1)
9D003BB8  00451024   AND V0, V0, A1
9D003BBC  02028021   ADDU S0, S0, V0
9D003BC0  AE040000   SW A0, 0(S0)
9D003BC4  00608025   OR S0, V1, ZERO
9D003BC8  8FA50028   LW A1, 40(SP)
9D003BCC  0F401796   JAL trim
9D003BD0  02002025   OR A0, S0, ZERO
9D003BD4  1000FFA3   BEQ ZERO, ZERO, 0x9D003A64
9D003BD8  26020008   ADDIU V0, S0, 8
9D003BDC  54A00032   BNEL A1, ZERO, first_set
9D003C04  0F4018CE   JAL lock_bin
9D003C08  00C02025   OR A0, A2, ZERO
9D003C0C  24C40001   ADDIU A0, A2, 1
9D003C10  000420C0   SLL A0, A0, 3
9D003C14  00891021   ADDU V0, A0, T1
9D003C18  8C500000   LW S0, 0(V0)
9D003C1C  2484FFF8   ADDIU A0, A0, -8
9D003C20  01242021   ADDU A0, T1, A0
9D003C24  1204FFAE   BEQ S0, A0, 0x9D003AE0
9D003C28  28C20028   SLTI V0, A2, 40
9D003C2C  14400025   BNE V0, ZERO, 0x9D003CC4
9D003C30  26310002   ADDIU S1, S1, 2
9D003C34  0226882A   SLT S1, S1, A2
9D003C38  56200005   BNEL S1, ZERO, 0x9D003C50
9D003C3C  8E070004   LW A3, 4(S0)
9D003C40  2402003F   ADDIU V0, ZERO, 63
9D003C44  14C20020   BNE A2, V0, 0x9D003CC8
9D003C48  00C02825   OR A1, A2, ZERO
9D003C4C  8E070004   LW A3, 4(S0)
9D003C50  8FA50028   LW A1, 40(SP)
9D003C54  7C070004   INS A3, ZERO, 0, 1
9D003C58  00E54023   SUBU T0, A3, A1
9D003C5C  0F4016DC   JAL bin_index
9D003C60  01002025   OR A0, T0, ZERO
9D003C64  54C20018   BNEL A2, V0, 0x9D003CC8
9D003C68  00C02825   OR A1, A2, ZERO
9D003C6C  8E03000C   LW V1, 12(S0)
9D003C70  8E040008   LW A0, 8(S0)
9D003C74  02051021   ADDU V0, S0, A1
9D003C78  AC43000C   SW V1, 12(V0)
9D003C7C  AC440008   SW A0, 8(V0)
9D003C80  AC620008   SW V0, 8(V1)
9D003C84  8C430008   LW V1, 8(V0)
9D003C88  34A50001   ORI A1, A1, 1
9D003C8C  02073821   ADDU A3, S0, A3
9D003C90  AC62000C   SW V0, 12(V1)
9D003C94  AC450000   SW A1, 0(V0)
9D003C98  AC480004   SW T0, 4(V0)
9D003C9C  ACE80000   SW T0, 0(A3)
9D003CA0  1000FFC9   BEQ ZERO, ZERO, 0x9D003BC8
9D003CA4  AE050004   SW A1, 4(S0)
9D003CC4  00C02825   OR A1, A2, ZERO
9D003CC8  0F401539   JAL unbin
9D003CCC  02002025   OR A0, S0, ZERO
9D003CD0  1000FFBE   BEQ ZERO, ZERO, 0x9D003BCC
9D003CD4  8FA50028   LW A1, 40(SP)
9D004304  10800064   BEQ A0, ZERO, 0x9D004498
9D004308  00000000   NOP
9D00430C  8C82FFFC   LW V0, -4(A0)
9D004310  27BDFFD0   ADDIU SP, SP, -48
9D004314  AFB2001C   SW S2, 28(SP)
9D004318  00409025   OR S2, V0, ZERO
9D00431C  AFB00014   SW S0, 20(SP)
9D004320  7C120004   INS S2, ZERO, 0, 1
9D004324  2490FFF8   ADDIU S0, A0, -8
9D004328  AFB10018   SW S1, 24(SP)
9D00432C  02128821   ADDU S1, S0, S2
9D004330  8E230000   LW V1, 0(S1)
9D004334  AFB40024   SW S4, 36(SP)
9D004338  AFBF002C   SW RA, 44(SP)
9D00433C  AFB50028   SW S5, 40(SP)
9D004340  AFB30020   SW S3, 32(SP)
9D004344  10430003   BEQ V0, V1, 0x9D004354
9D004348  2414FFFE   ADDIU S4, ZERO, -2
9D00434C  A0000000   SB ZERO, 0(ZERO)
9D004354  8E020000   LW V0, 0(S0)
9D004358  8E230004   LW V1, 4(S1)
9D00435C  00431024   AND V0, V0, V1
9D004360  30420001   ANDI V0, V0, 1
9D004364  1440000E   BNE V0, ZERO, 0x9D0043A0
9D004368  36420001   ORI V0, S2, 1
9D00436C  0F4016A3   JAL alloc_rev
9D004370  02002025   OR A0, S0, ZERO
9D004374  54400042   BNEL V0, ZERO, 0x9D004480
9D004378  8E020000   LW V0, 0(S0)
9D00437C  0F4016C0   JAL alloc_fwd
9D004380  02202025   OR A0, S1, ZERO
9D004384  5040FFF4   BEQL V0, ZERO, 0x9D004358
9D004388  8E020000   LW V0, 0(S0)
9D00438C  8E220004   LW V0, 4(S1)
9D004390  02821024   AND V0, S4, V0
9D004394  02429021   ADDU S2, S2, V0
9D004398  1000FFEE   BEQ ZERO, ZERO, 0x9D004354
9D00439C  02228821   ADDU S1, S1, V0
9D0043A0  AE020004   SW V0, 4(S0)
9D0043A4  02402025   OR A0, S2, ZERO
9D0043A8  0F4016DC   JAL bin_index
9D0043AC  AE220000   SW V0, 0(S1)
9D0043B0  00402025   OR A0, V0, ZERO
9D0043B4  0F4018CE   JAL lock_bin
9D0043B8  00409825   OR S3, V0, ZERO
9D0043BC  8E020000   LW V0, 0(S0)
9D0043C0  8E230004   LW V1, 4(S1)
9D0043C4  00431024   AND V0, V0, V1
9D0043C8  30420001   ANDI V0, V0, 1
9D0043CC  1040FFE7   BEQ V0, ZERO, 0x9D00436C
9D0043D0  3C15A000   LUI S5, -24576
9D0043D4  8EA40C58   LW A0, 3160(S5)
9D0043D8  8EA50C5C   LW A1, 3164(S5)
9D0043DC  02603025   OR A2, S3, ZERO
9D0043E0  0F4018B0   JAL __lshrdi3
9D0043E4  26B40C58   ADDIU S4, S5, 3160
9D0043E8  30420001   ANDI V0, V0, 1
9D0043EC  54400010   BNEL V0, ZERO, 0x9D004430
9D0043F0  26730001   ADDIU S3, S3, 1
9D0043F4  00002825   OR A1, ZERO, ZERO
9D0043F8  02603025   OR A2, S3, ZERO
9D0043FC  0F4018BF   JAL __ashldi3
9D004400  24040001   ADDIU A0, ZERO, 1
9D00442C  26730001   ADDIU S3, S3, 1
9D004430  001398C0   SLL S3, S3, 3
9D004434  02939821   ADDU S3, S4, S3
9D004438  2662FFF8   ADDIU V0, S3, -8
9D00443C  AE120004   SW S2, 4(S0)
9D004440  AE320000   SW S2, 0(S1)
9D004444  AE020008   SW V0, 8(S0)
9D004448  8E620004   LW V0, 4(S3)
9D00444C  8FBF002C   LW RA, 44(SP)
9D004450  8FB50028   LW S5, 40(SP)
9D004454  AE02000C   SW V0, 12(S0)
9D004458  AE700004   SW S0, 4(S3)
9D00445C  8E02000C   LW V0, 12(S0)
9D004460  8FB40024   LW S4, 36(SP)
9D004464  8FB30020   LW S3, 32(SP)
9D004468  AC500008   SW S0, 8(V0)
9D00446C  8FB2001C   LW S2, 28(SP)
9D004470  8FB10018   LW S1, 24(SP)
9D004474  8FB00014   LW S0, 20(SP)
9D004478  03E00008   JR RA
9D00447C  27BD0030   ADDIU SP, SP, 48
9D004480  02821024   AND V0, S4, V0
9D004484  02028023   SUBU S0, S0, V0
9D004488  8E020004   LW V0, 4(S0)
9D00448C  02821024   AND V0, S4, V0
9D004490  1000FFBA   BEQ ZERO, ZERO, 0x9D00437C
9D004494  02429021   ADDU S2, S2, V0
9D004498  03E00008   JR RA
9D00449C  00000000   NOP
9D004DD8  27BDFFD8   ADDIU SP, SP, -40
9D004DDC  AFBF0024   SW RA, 36(SP)
9D004DE0  AFB40020   SW S4, 32(SP)
9D004DE4  AFB3001C   SW S3, 28(SP)
9D004DE8  AFB20018   SW S2, 24(SP)
9D004DEC  AFB10014   SW S1, 20(SP)
9D004DF0  AFB00010   SW S0, 16(SP)
9D004DF4  1480000D   BNE A0, ZERO, 0x9D004E2C
9D004DF8  AFA5002C   SW A1, 44(SP)
9D004DFC  0F400E8F   JAL malloc
9D004E00  00A02025   OR A0, A1, ZERO
9D004E04  00408825   OR S1, V0, ZERO
9D004E08  8FBF0024   LW RA, 36(SP)
9D004E0C  02201025   OR V0, S1, ZERO
9D004E10  8FB40020   LW S4, 32(SP)
9D004E14  8FB3001C   LW S3, 28(SP)
9D004E18  8FB20018   LW S2, 24(SP)
9D004E1C  8FB10014   LW S1, 20(SP)
9D004E20  8FB00010   LW S0, 16(SP)
9D004E24  03E00008   JR RA
9D004E28  27BD0028   ADDIU SP, SP, 40
9D004E2C  00808025   OR S0, A0, ZERO
9D004E30  0F401780   JAL adjust_size
9D004E34  27A4002C   ADDIU A0, SP, 44
9D004E38  0440002B   BLTZ V0, 0x9D004EE8
9D004E3C  2413FFFE   ADDIU S3, ZERO, -2
9D004E40  8E02FFFC   LW V0, -4(S0)
9D004E44  2614FFF8   ADDIU S4, S0, -8
9D004E48  00539024   AND S2, V0, S3
9D004E4C  02928821   ADDU S1, S4, S2
9D004E50  8E230000   LW V1, 0(S1)
9D004E54  10430003   BEQ V0, V1, 0x9D004E64
9D004E58  8FA2002C   LW V0, 44(SP)
9D004E5C  A0000000   SB ZERO, 0(ZERO)
9D004E64  0242102B   SLTU V0, S2, V0
9D004E68  10400009   BEQ V0, ZERO, 0x9D004E90
9D004E6C  02401825   OR V1, S2, ZERO
9D004E70  0F4016C0   JAL alloc_fwd
9D004E74  02202025   OR A0, S1, ZERO
9D004E78  10400005   BEQ V0, ZERO, 0x9D004E90
9D004E7C  02401825   OR V1, S2, ZERO
9D004E80  8E220004   LW V0, 4(S1)
9D004E84  02629824   AND S3, S3, V0
9D004E88  02721821   ADDU V1, S3, S2
9D004E8C  02338821   ADDU S1, S1, S3
9D004E90  8FA5002C   LW A1, 44(SP)
9D004E94  34620001   ORI V0, V1, 1
9D004E98  AE02FFFC   SW V0, -4(S0)
9D004E9C  0065182B   SLTU V1, V1, A1
9D004EA0  14600005   BNE V1, ZERO, 0x9D004EB8
9D004EA4  AE220000   SW V0, 0(S1)
9D004EA8  0F401796   JAL trim
9D004EAC  02802025   OR A0, S4, ZERO
9D004EB0  1000FFD5   BEQ ZERO, ZERO, 0x9D004E08
9D004EB4  02008825   OR S1, S0, ZERO
9D004EB8  0F400E8F   JAL malloc
9D004EBC  24A4FFF8   ADDIU A0, A1, -8
9D004EC0  1040FFD1   BEQ V0, ZERO, 0x9D004E08
9D004EC4  00408825   OR S1, V0, ZERO
9D004EC8  2646FFF8   ADDIU A2, S2, -8
9D004ECC  02002825   OR A1, S0, ZERO
9D004ED0  0F4018DB   JAL memcpy
9D004ED4  00402025   OR A0, V0, ZERO
9D004ED8  0F4010C1   JAL free
9D004EDC  02002025   OR A0, S0, ZERO
9D004EE0  1000FFCA   BEQ ZERO, ZERO, 0x9D004E0C
9D004EE4  8FBF0024   LW RA, 36(SP)
9D004EE8  1000FFC7   BEQ ZERO, ZERO, 0x9D004E08
9D004EEC  00008825   OR S1, ZERO, ZERO
9D0054E4  27BDFFE0   ADDIU SP, SP, -32
9D0054E8  AFB20018   SW S2, 24(SP)
9D0054EC  AFB10014   SW S1, 20(SP)
9D0054F0  8C92000C   LW S2, 12(A0)
9D0054F4  8C910008   LW S1, 8(A0)
9D0054F8  AFB00010   SW S0, 16(SP)
9D0054FC  AFBF001C   SW RA, 28(SP)
9D005500  16510013   BNE S2, S1, 0x9D005550
9D005504  00808025   OR S0, A0, ZERO
9D005508  00A03025   OR A2, A1, ZERO
9D00550C  24040001   ADDIU A0, ZERO, 1
9D005510  0F4018BF   JAL __ashldi3
9D005514  00002825   OR A1, ZERO, ZERO
9D005518  00031827   NOR V1, ZERO, V1
9D005550  8E020004   LW V0, 4(S0)
9D005554  AE510008   SW S1, 8(S2)
9D005558  AE32000C   SW S2, 12(S1)
9D00555C  34430001   ORI V1, V0, 1
9D005560  7C020004   INS V0, ZERO, 0, 1
9D005564  AE030004   SW V1, 4(S0)
9D005568  02028021   ADDU S0, S0, V0
9D00556C  8E020000   LW V0, 0(S0)
9D005570  8FBF001C   LW RA, 28(SP)
9D005574  8FB20018   LW S2, 24(SP)
9D005578  34420001   ORI V0, V0, 1
9D00557C  AE020000   SW V0, 0(S0)
9D005580  8FB10014   LW S1, 20(SP)
9D005584  8FB00010   LW S0, 16(SP)
9D005588  03E00008   JR RA
9D00558C  27BD0020   ADDIU SP, SP, 32
9D005A8C  8C860000   LW A2, 0(A0)
9D005A90  30C20001   ANDI V0, A2, 1
9D005A94  10400008   BEQ V0, ZERO, 0x9D005AB8
9D005A98  00803825   OR A3, A0, ZERO
9D005A9C  03E00008   JR RA
9D005AA0  00001025   OR V0, ZERO, ZERO
9D005AA4  30C20001   ANDI V0, A2, 1
9D005AA8  10400005   BEQ V0, ZERO, 0x9D005AC0
9D005AAC  00001025   OR V0, ZERO, ZERO
9D005AB0  10000011   BEQ ZERO, ZERO, 0x9D005AF8
9D005AB4  8FBF0014   LW RA, 20(SP)
9D005AB8  27BDFFE8   ADDIU SP, SP, -24
9D005ABC  AFBF0014   SW RA, 20(SP)
9D005AC0  0F4016DC   JAL bin_index
9D005AC4  00C02025   OR A0, A2, ZERO
9D005AC8  00402025   OR A0, V0, ZERO
9D005ACC  0F4018CE   JAL lock_bin
9D005AD0  00404025   OR T0, V0, ZERO
9D005AD4  8CE40000   LW A0, 0(A3)
9D005AD8  5486FFF2   BNEL A0, A2, 0x9D005AA4
9D005ADC  8CE60000   LW A2, 0(A3)
9D005AE0  7C040004   INS A0, ZERO, 0, 1
9D005AE4  01002825   OR A1, T0, ZERO
9D005AE8  0F401539   JAL unbin
9D005AEC  00E42023   SUBU A0, A3, A0
9D005AF0  24020001   ADDIU V0, ZERO, 1
9D005AF4  8FBF0014   LW RA, 20(SP)
9D005AF8  03E00008   JR RA
9D005AFC  27BD0018   ADDIU SP, SP, 24
9D005B00  8C860004   LW A2, 4(A0)
9D005B04  30C20001   ANDI V0, A2, 1
9D005B08  10400008   BEQ V0, ZERO, 0x9D005B2C
9D005B0C  00803825   OR A3, A0, ZERO
9D005B10  03E00008   JR RA
9D005B14  00001025   OR V0, ZERO, ZERO
9D005B18  30C20001   ANDI V0, A2, 1
9D005B1C  10400005   BEQ V0, ZERO, 0x9D005B34
9D005B20  00001025   OR V0, ZERO, ZERO
9D005B24  10000010   BEQ ZERO, ZERO, 0x9D005B68
9D005B28  8FBF0014   LW RA, 20(SP)
9D005B2C  27BDFFE8   ADDIU SP, SP, -24
9D005B30  AFBF0014   SW RA, 20(SP)
9D005B34  0F4016DC   JAL bin_index
9D005B38  00C02025   OR A0, A2, ZERO
9D005B3C  00402025   OR A0, V0, ZERO
9D005B40  0F4018CE   JAL lock_bin
9D005B44  00404025   OR T0, V0, ZERO
9D005B48  8CE20004   LW V0, 4(A3)
9D005B4C  5446FFF2   BNEL V0, A2, 0x9D005B18
9D005B50  8CE60004   LW A2, 4(A3)
9D005B54  01002825   OR A1, T0, ZERO
9D005B58  0F401539   JAL unbin
9D005B5C  00E02025   OR A0, A3, ZERO
9D005B60  24020001   ADDIU V0, ZERO, 1
9D005B64  8FBF0014   LW RA, 20(SP)
9D005B68  03E00008   JR RA
9D005B6C  27BD0018   ADDIU SP, SP, 24
9D005B70  00042102   SRL A0, A0, 4
9D005B74  2484FFFF   ADDIU A0, A0, -1
9D005B78  2C820021   SLTIU V0, A0, 33
9D005B7C  50400003   BEQL V0, ZERO, 0x9D005B8C
9D005B80  2C820200   SLTIU V0, A0, 512
9D005B84  03E00008   JR RA
9D005B88  00801025   OR V0, A0, ZERO
9D005B8C  10400007   BEQ V0, ZERO, 0x9D005BAC
9D005B90  2C831C01   SLTIU V1, A0, 7169
9D005B94  3C029D00   LUI V0, -25344
9D005B98  24425D6C   ADDIU V0, V0, 23916
9D005B9C  000420C2   SRL A0, A0, 3
9D005BA0  00822021   ADDU A0, A0, V0
9D005BA4  03E00008   JR RA
9D005BA8  9082FFFC   LBU V0, -4(A0)
9D005BAC  10600007   BEQ V1, ZERO, 0x9D005BCC
9D005BB0  2402003F   ADDIU V0, ZERO, 63
9D005BB4  3C029D00   LUI V0, -25344
9D005BB8  24425D6C   ADDIU V0, V0, 23916
9D005BBC  000421C2   SRL A0, A0, 7
9D005BC0  00822021   ADDU A0, A0, V0
9D005BC4  9082FFFC   LBU V0, -4(A0)
9D005BC8  24420010   ADDIU V0, V0, 16
9D005BCC  03E00008   JR RA
9D005BD0  00000000   NOP
9D005E00  3C03A000   LUI V1, -24576
9D005E04  8C660F04   LW A2, 3844(V1)
9D005E08  8C820000   LW V0, 0(A0)
9D005E0C  3C037FFF   LUI V1, 32767
9D005E10  3463FFEF   ORI V1, V1, -17
9D005E14  2445FFFF   ADDIU A1, V0, -1
9D005E18  00661823   SUBU V1, V1, A2
9D005E1C  0065182B   SLTU V1, V1, A1
9D005E20  5060000B   BEQL V1, ZERO, 0x9D005E50
9D005E24  24420017   ADDIU V0, V0, 23
9D005E28  50400006   BEQL V0, ZERO, 0x9D005E44
9D005E2C  24020010   ADDIU V0, ZERO, 16
9D005E30  3C02A000   LUI V0, -24576
9D005E34  2403000C   ADDIU V1, ZERO, 12
9D005E38  AC430F98   SW V1, 3992(V0)
9D005E3C  03E00008   JR RA
9D005E40  2402FFFF   ADDIU V0, ZERO, -1
9D005E44  AC820000   SW V0, 0(A0)
9D005E48  03E00008   JR RA
9D005E4C  00001025   OR V0, ZERO, ZERO
9D005E50  1000FFFC   BEQ ZERO, ZERO, 0x9D005E44
9D005E54  7C021804   INS V0, ZERO, 0, 4
9D005E58  8C820004   LW V0, 4(A0)
9D005E5C  7C020004   INS V0, ZERO, 0, 1
9D005E60  00451823   SUBU V1, V0, A1
9D005E64  2C660011   SLTIU A2, V1, 17
9D005E68  14C0000F   BNE A2, ZERO, 0x9D005EA8
9D005E6C  00853021   ADDU A2, A0, A1
9D005E70  27BDFFE8   ADDIU SP, SP, -24
9D005E74  34A50001   ORI A1, A1, 1
9D005E78  34630001   ORI V1, V1, 1
9D005E7C  00821021   ADDU V0, A0, V0
9D005E80  AFBF0014   SW RA, 20(SP)
9D005E84  ACC50000   SW A1, 0(A2)
9D005E88  ACC30004   SW V1, 4(A2)
9D005E8C  AC430000   SW V1, 0(V0)
9D005E90  AC850004   SW A1, 4(A0)
9D005E94  0F4010C1   JAL free
9D005E98  24C40008   ADDIU A0, A2, 8
9D005E9C  8FBF0014   LW RA, 20(SP)
9D005EA0  03E00008   JR RA
9D005EA4  27BD0018   ADDIU SP, SP, 24
9D005EA8  03E00008   JR RA
9D005EAC  00000000   NOP
9D005F54  27BDFFE8   ADDIU SP, SP, -24
9D005F58  AFB00010   SW S0, 16(SP)
9D005F5C  AFBF0014   SW RA, 20(SP)
9D005F60  0F400E8F   JAL malloc
9D005F64  00808025   OR S0, A0, ZERO
9D005F68  10400006   BEQ V0, ZERO, 0x9D005F84
9D005F6C  26100003   ADDIU S0, S0, 3
9D005F70  7C100804   INS S0, ZERO, 0, 2
9D005F74  00508021   ADDU S0, V0, S0
9D005F78  00401825   OR V1, V0, ZERO
9D005F7C  54700005   BNEL V1, S0, 0x9D005F94
9D005F80  8C640000   LW A0, 0(V1)
9D005F84  8FBF0014   LW RA, 20(SP)
9D005F88  8FB00010   LW S0, 16(SP)
9D005F8C  03E00008   JR RA
9D005F90  27BD0018   ADDIU SP, SP, 24
9D005F94  54800001   BNEL A0, ZERO, 0x9D005F9C
9D005F98  AC600000   SW ZERO, 0(V1)
9D005F9C  1000FFF7   BEQ ZERO, ZERO, 0x9D005F7C
9D005FA0  24630004   ADDIU V1, V1, 4
9D006338  24840001   ADDIU A0, A0, 1
9D00633C  000410C0   SLL V0, A0, 3
9D006340  3C04A000   LUI A0, -24576
9D006344  24840C58   ADDIU A0, A0, 3160
9D006348  00441821   ADDU V1, V0, A0
9D00634C  8C650000   LW A1, 0(V1)
9D006350  14A00004   BNE A1, ZERO, 0x9D006364
9D006354  2442FFF8   ADDIU V0, V0, -8
9D006358  00822021   ADDU A0, A0, V0
9D00635C  AC640004   SW A0, 4(V1)
9D006360  AC640000   SW A0, 0(V1)
9D006364  03E00008   JR RA
9D006368  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/ctype/toupper.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006564  2483FF9F   ADDIU V1, A0, -97
9D006568  2C63001A   SLTIU V1, V1, 26
9D00656C  10600002   BEQ V1, ZERO, 0x9D006578
9D006570  00801025   OR V0, A0, ZERO
9D006574  3082005F   ANDI V0, A0, 95
9D006578  03E00008   JR RA
9D00657C  00000000   NOP
9D006580  27BDFFE8   ADDIU SP, SP, -24
9D006584  AFBF0014   SW RA, 20(SP)
9D006588  0F401959   JAL toupper
9D00658C  00000000   NOP
9D006590  8FBF0014   LW RA, 20(SP)
9D006594  03E00008   JR RA
9D006598  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/src/ctype/tolower.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00652C  2483FFBF   ADDIU V1, A0, -65
9D006530  2C63001A   SLTIU V1, V1, 26
9D006534  10600002   BEQ V1, ZERO, 0x9D006540
9D006538  00801025   OR V0, A0, ZERO
9D00653C  34820020   ORI V0, A0, 32
9D006540  03E00008   JR RA
9D006544  00000000   NOP
9D006548  27BDFFE8   ADDIU SP, SP, -24
9D006550  0F40194B   JAL tolower
9D006554  00000000   NOP
9D006558  8FBF0014   LW RA, 20(SP)
9D00655C  03E00008   JR RA
9D006560  27BD0018   ADDIU SP, SP, 24
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/include/ctype.h
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005918  24050020   ADDIU A1, ZERO, 32
9D00591C  80820000   LB V0, 0(A0)
9D005920  1045000E   BEQ V0, A1, 0x9D00595C
9D005924  2443FFF7   ADDIU V1, V0, -9
9D005928  2C630005   SLTIU V1, V1, 5
9D00592C  5460FFFB   BNEL V1, ZERO, 0x9D00591C
9D005930  24840001   ADDIU A0, A0, 1
9D005934  2403002B   ADDIU V1, ZERO, 43
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/xc32-musl-stdlib/musl/musl-1.1.18/arch/mchp/atomic.h
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D003AD8  3C0C076B   LUI T4, 1899
9D003BDC  54A00032   BNEL A1, ZERO, first_set
9D003BE0  00052023   SUBU A0, ZERO, A1
9D003BE4  00032023   SUBU A0, ZERO, V1
9D003BE8  00832024   AND A0, A0, V1
9D003BEC  3582E629   ORI V0, T4, -6615
9D003BF0  70822002   MUL A0, A0, V0
9D003BF4  000426C2   SRL A0, A0, 27
9D003BF8  01042021   ADDU A0, T0, A0
9D003BFC  80860000   LB A2, 0(A0)
9D003C00  24C60020   ADDIU A2, A2, 32
9D003C04  0F4018CE   JAL lock_bin
9D003CA8  00852024   AND A0, A0, A1
9D003CAC  3582E629   ORI V0, T4, -6615
9D003CB0  70822002   MUL A0, A0, V0
9D003CB4  000426C2   SRL A0, A0, 27
9D003CB8  01042021   ADDU A0, T0, A0
9D003CBC  1000FFD1   BEQ ZERO, ZERO, 0x9D003C04
9D003CC0  80860000   LB A2, 0(A0)
9D00434C  A0000000   SB ZERO, 0(ZERO)
9D004354  8E020000   LW V0, 0(S0)
9D004404  10400004   BEQ V0, ZERO, 0x9D004418
9D004408  00602825   OR A1, V1, ZERO
9D00440C  8EA40C58   LW A0, 3160(S5)
9D004410  00822025   OR A0, A0, V0
9D004414  AEA40C58   SW A0, 3160(S5)
9D004418  50A00005   BEQL A1, ZERO, 0x9D004430
9D00441C  26730001   ADDIU S3, S3, 1
9D004420  8E820004   LW V0, 4(S4)
9D004424  00431025   OR V0, V0, V1
9D004428  AE820004   SW V0, 4(S4)
9D00442C  26730001   ADDIU S3, S3, 1
9D004E5C  A0000000   SB ZERO, 0(ZERO)
9D00551C  10400005   BEQ V0, ZERO, 0x9D005534
9D005520  00022827   NOR A1, ZERO, V0
9D005524  3C04A000   LUI A0, -24576
9D00552C  00451024   AND V0, V0, A1
9D005530  AC820C58   SW V0, 3160(A0)
9D005534  2402FFFF   ADDIU V0, ZERO, -1
9D005538  10620005   BEQ V1, V0, 0x9D005550
9D00553C  3C02A000   LUI V0, -24576
9D005540  24420C58   ADDIU V0, V0, 3160
9D005548  00641824   AND V1, V1, A0
9D00554C  AC430004   SW V1, 4(V0)
9D005550  8E020004   LW V0, 4(S0)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/src/gcc-8-merge/gcc/libgcc/libgcc2.c  ----
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D003258  00C04825   OR T1, A2, ZERO
9D00325C  00801025   OR V0, A0, ZERO
9D003260  14E00099   BNE A3, ZERO, 0x9D0034C8
9D003264  00A01825   OR V1, A1, ZERO
9D003268  00A6302B   SLTU A2, A1, A2
9D00326C  10C00034   BEQ A2, ZERO, 0x9D003340
9D003270  712A5020   CLZ T2, T1
9D003274  51400008   BEQL T2, ZERO, 0x9D003298
9D003278  00092402   SRL A0, T1, 16
9D00327C  01451804   SLLV V1, A1, T2
9D003280  000A2823   SUBU A1, ZERO, T2
9D003284  00A42806   SRLV A1, A0, A1
9D003288  01494804   SLLV T1, T1, T2
9D00328C  00A31825   OR V1, A1, V1
9D003290  01441004   SLLV V0, A0, T2
9D003294  00092402   SRL A0, T1, 16
9D003298  0064001B   DIVU V1, A0
9D00329C  008001F4   TEQ A0, ZERO
9D0032A0  3127FFFF   ANDI A3, T1, -1
9D0032A4  00001812   MFLO V1
9D0032A8  00002810   MFHI A1
9D0032AC  70673002   MUL A2, V1, A3
9D0032B0  00051C00   SLL V1, A1, 16
9D0032B4  00022C02   SRL A1, V0, 16
9D0032B8  00651825   OR V1, V1, A1
9D0032BC  0066282B   SLTU A1, V1, A2
9D0032C0  50A00009   BEQL A1, ZERO, 0x9D0032E8
9D0032C4  00661823   SUBU V1, V1, A2
9D0032C8  00691821   ADDU V1, V1, T1
9D0032CC  0069282B   SLTU A1, V1, T1
9D0032D0  54A00005   BNEL A1, ZERO, 0x9D0032E8
9D0032D4  00661823   SUBU V1, V1, A2
9D0032D8  0066282B   SLTU A1, V1, A2
9D0032DC  54A00001   BNEL A1, ZERO, 0x9D0032E4
9D0032E0  00691821   ADDU V1, V1, T1
9D0032E4  00661823   SUBU V1, V1, A2
9D0032E8  0064001B   DIVU V1, A0
9D0032EC  008001F4   TEQ A0, ZERO
9D0032F0  3042FFFF   ANDI V0, V0, -1
9D0032F4  00001812   MFLO V1
9D0032F8  00003010   MFHI A2
9D0032FC  70672002   MUL A0, V1, A3
9D003300  00061C00   SLL V1, A2, 16
9D003304  00621025   OR V0, V1, V0
9D003308  0044182B   SLTU V1, V0, A0
9D00330C  50600009   BEQL V1, ZERO, 0x9D003334
9D003310  00441023   SUBU V0, V0, A0
9D003314  00491021   ADDU V0, V0, T1
9D003318  0049182B   SLTU V1, V0, T1
9D00331C  54600005   BNEL V1, ZERO, 0x9D003334
9D003320  00441023   SUBU V0, V0, A0
9D003324  0044182B   SLTU V1, V0, A0
9D003328  54600001   BNEL V1, ZERO, 0x9D003330
9D00332C  00491021   ADDU V0, V0, T1
9D003330  00441023   SUBU V0, V0, A0
9D003334  01421006   SRLV V0, V0, T2
9D003338  03E00008   JR RA
9D00333C  00001825   OR V1, ZERO, ZERO
9D003340  15200005   BNE T1, ZERO, 0x9D003358
9D003344  24030001   ADDIU V1, ZERO, 1
9D003348  0069001B   DIVU V1, T1
9D00334C  012001F4   TEQ T1, ZERO
9D003350  00004812   MFLO T1
9D003354  712A5020   CLZ T2, T1
9D003358  1540002B   BNE T2, ZERO, 0x9D003408
9D00335C  24070020   ADDIU A3, ZERO, 32
9D003360  00A92823   SUBU A1, A1, T1
9D003364  00092402   SRL A0, T1, 16
9D003368  00A4001B   DIVU A1, A0
9D00336C  008001F4   TEQ A0, ZERO
9D003370  3127FFFF   ANDI A3, T1, -1
9D003374  00002812   MFLO A1
9D003378  00001810   MFHI V1
9D00337C  70A73002   MUL A2, A1, A3
9D003380  00032C00   SLL A1, V1, 16
9D003384  00021C02   SRL V1, V0, 16
9D003388  00A32825   OR A1, A1, V1
9D00338C  00A6182B   SLTU V1, A1, A2
9D003390  50600009   BEQL V1, ZERO, 0x9D0033B8
9D003394  00A63023   SUBU A2, A1, A2
9D003398  00A92821   ADDU A1, A1, T1
9D00339C  00A9182B   SLTU V1, A1, T1
9D0033A0  54600005   BNEL V1, ZERO, 0x9D0033B8
9D0033A4  00A63023   SUBU A2, A1, A2
9D0033A8  00A6182B   SLTU V1, A1, A2
9D0033AC  54600001   BNEL V1, ZERO, 0x9D0033B4
9D0033B0  00A92821   ADDU A1, A1, T1
9D0033B4  00A63023   SUBU A2, A1, A2
9D0033B8  00C4001B   DIVU A2, A0
9D0033BC  008001F4   TEQ A0, ZERO
9D0033C0  3042FFFF   ANDI V0, V0, -1
9D0033C4  00003012   MFLO A2
9D0033C8  00002810   MFHI A1
9D0033CC  70C71802   MUL V1, A2, A3
9D0033D0  00053400   SLL A2, A1, 16
9D0033D4  00C21025   OR V0, A2, V0
9D0033D8  0043202B   SLTU A0, V0, V1
9D0033DC  5080FFD5   BEQL A0, ZERO, 0x9D003334
9D0033E0  00431023   SUBU V0, V0, V1
9D0033E4  00491021   ADDU V0, V0, T1
9D0033E8  0049202B   SLTU A0, V0, T1
9D0033EC  5480FFD1   BNEL A0, ZERO, 0x9D003334
9D0033F0  00431023   SUBU V0, V0, V1
9D0033F4  0043202B   SLTU A0, V0, V1
9D0033F8  54800001   BNEL A0, ZERO, 0x9D003400
9D0033FC  00491021   ADDU V0, V0, T1
9D003400  1000FFCC   BEQ ZERO, ZERO, 0x9D003334
9D003404  00431023   SUBU V0, V0, V1
9D003408  00EA3823   SUBU A3, A3, T2
9D00340C  01494804   SLLV T1, T1, T2
9D003410  00E41806   SRLV V1, A0, A3
9D003414  00093402   SRL A2, T1, 16
9D003418  00E53806   SRLV A3, A1, A3
9D00341C  00E6001B   DIVU A3, A2
9D003420  00C001F4   TEQ A2, ZERO
9D003424  01451004   SLLV V0, A1, T2
9D003428  312BFFFF   ANDI T3, T1, -1
9D00342C  00621825   OR V1, V1, V0
9D003430  01441004   SLLV V0, A0, T2
9D003434  00032C02   SRL A1, V1, 16
9D003438  00003812   MFLO A3
9D00343C  00002010   MFHI A0
9D003440  70EB4002   MUL T0, A3, T3
9D003444  00043C00   SLL A3, A0, 16
9D003448  00E53825   OR A3, A3, A1
9D00344C  00E8202B   SLTU A0, A3, T0
9D003450  50800009   BEQL A0, ZERO, 0x9D003478
9D003454  00E83823   SUBU A3, A3, T0
9D003458  00E93821   ADDU A3, A3, T1
9D00345C  00E9202B   SLTU A0, A3, T1
9D003460  54800005   BNEL A0, ZERO, 0x9D003478
9D003464  00E83823   SUBU A3, A3, T0
9D003468  00E8202B   SLTU A0, A3, T0
9D00346C  54800001   BNEL A0, ZERO, 0x9D003474
9D003470  00E93821   ADDU A3, A3, T1
9D003474  00E83823   SUBU A3, A3, T0
9D003478  00E6001B   DIVU A3, A2
9D00347C  00C001F4   TEQ A2, ZERO
9D003480  3065FFFF   ANDI A1, V1, -1
9D003484  00003012   MFLO A2
9D003488  00003810   MFHI A3
9D00348C  00073C00   SLL A3, A3, 16
9D003490  00E52825   OR A1, A3, A1
9D003494  70CB3002   MUL A2, A2, T3
9D003498  00A6182B   SLTU V1, A1, A2
9D00349C  5060FFB1   BEQL V1, ZERO, 0x9D003364
9D0034A0  00A62823   SUBU A1, A1, A2
9D0034A4  00A92821   ADDU A1, A1, T1
9D0034A8  00A9182B   SLTU V1, A1, T1
9D0034AC  5460FFAD   BNEL V1, ZERO, 0x9D003364
9D0034B0  00A62823   SUBU A1, A1, A2
9D0034B4  00A6182B   SLTU V1, A1, A2
9D0034B8  54600001   BNEL V1, ZERO, 0x9D0034C0
9D0034BC  00A92821   ADDU A1, A1, T1
9D0034C0  1000FFA8   BEQ ZERO, ZERO, 0x9D003364
9D0034C4  00A62823   SUBU A1, A1, A2
9D0034C8  00A7402B   SLTU T0, A1, A3
9D0034CC  1500005E   BNE T0, ZERO, 0x9D003648
9D0034D0  70EE7020   CLZ T6, A3
9D0034D4  15C0000C   BNE T6, ZERO, 0x9D003508
9D0034D8  240B0020   ADDIU T3, ZERO, 32
9D0034DC  00E5402B   SLTU T0, A3, A1
9D0034E0  55000005   BNEL T0, ZERO, 0x9D0034F8
9D0034E4  00861023   SUBU V0, A0, A2
9D0034E8  0086402B   SLTU T0, A0, A2
9D0034EC  15000056   BNE T0, ZERO, 0x9D003648
9D0034F0  00000000   NOP
9D0034F4  00861023   SUBU V0, A0, A2
9D0034F8  00A72823   SUBU A1, A1, A3
9D0034FC  0082182B   SLTU V1, A0, V0
9D003500  03E00008   JR RA
9D003504  00A31823   SUBU V1, A1, V1
9D003508  016E5823   SUBU T3, T3, T6
9D00350C  01666006   SRLV T4, A2, T3
9D003510  01C73804   SLLV A3, A3, T6
9D003514  01873825   OR A3, T4, A3
9D003518  01C51804   SLLV V1, A1, T6
9D00351C  00074C02   SRL T1, A3, 16
9D003520  01652806   SRLV A1, A1, T3
9D003524  00A9001B   DIVU A1, T1
9D003528  012001F4   TEQ T1, ZERO
9D00352C  01C61004   SLLV V0, A2, T6
9D003530  30E8FFFF   ANDI T0, A3, -1
9D003534  01643006   SRLV A2, A0, T3
9D003538  00C33025   OR A2, A2, V1
9D00353C  00066402   SRL T4, A2, 16
9D003540  01C42004   SLLV A0, A0, T6
9D003544  00002812   MFLO A1
9D003548  00005010   MFHI T2
9D00354C  000A5400   SLL T2, T2, 16
9D003550  014C5025   OR T2, T2, T4
9D003554  71051802   MUL V1, T0, A1
9D003558  0143602B   SLTU T4, T2, V1
9D00355C  1180000A   BEQ T4, ZERO, 0x9D003588
9D003560  00A06825   OR T5, A1, ZERO
9D003564  01475021   ADDU T2, T2, A3
9D003568  0147602B   SLTU T4, T2, A3
9D00356C  15800006   BNE T4, ZERO, 0x9D003588
9D003570  24ADFFFF   ADDIU T5, A1, -1
9D003574  0143602B   SLTU T4, T2, V1
9D003578  51800004   BEQL T4, ZERO, 0x9D00358C
9D00357C  01435023   SUBU T2, T2, V1
9D003580  24ADFFFE   ADDIU T5, A1, -2
9D003584  01475021   ADDU T2, T2, A3
9D003588  01435023   SUBU T2, T2, V1
9D00358C  0149001B   DIVU T2, T1
9D003590  012001F4   TEQ T1, ZERO
9D003594  00004812   MFLO T1
9D003598  00005010   MFHI T2
9D00359C  000A5400   SLL T2, T2, 16
9D0035A0  71091802   MUL V1, T0, T1
9D0035A4  30C8FFFF   ANDI T0, A2, -1
9D0035A8  01484025   OR T0, T2, T0
9D0035AC  0103302B   SLTU A2, T0, V1
9D0035B0  10C0000A   BEQ A2, ZERO, 0x9D0035DC
9D0035B4  01202825   OR A1, T1, ZERO
9D0035B8  01074021   ADDU T0, T0, A3
9D0035BC  0107302B   SLTU A2, T0, A3
9D0035C0  14C00006   BNE A2, ZERO, 0x9D0035DC
9D0035C4  2525FFFF   ADDIU A1, T1, -1
9D0035C8  0103302B   SLTU A2, T0, V1
9D0035CC  10C00004   BEQ A2, ZERO, 0x9D0035E0
9D0035D0  000D6400   SLL T4, T5, 16
9D0035D4  2525FFFE   ADDIU A1, T1, -2
9D0035D8  01074021   ADDU T0, T0, A3
9D0035DC  000D6400   SLL T4, T5, 16
9D0035E0  01856025   OR T4, T4, A1
9D0035E4  01820019   MULTU 0, T4, V0
9D0035E8  01034023   SUBU T0, T0, V1
9D0035EC  00006810   MFHI T5
9D0035F0  010D282B   SLTU A1, T0, T5
9D0035F4  01A01825   OR V1, T5, ZERO
9D0035F8  00006012   MFLO T4
9D0035FC  14A00006   BNE A1, ZERO, 0x9D003618
9D003600  00003012   MFLO A2
9D003604  150D0009   BNE T0, T5, 0x9D00362C
9D003608  00863023   SUBU A2, A0, A2
9D00360C  008C282B   SLTU A1, A0, T4
9D003610  50A00007   BEQL A1, ZERO, 0x9D003630
9D003614  01034023   SUBU T0, T0, V1
9D003618  01823023   SUBU A2, T4, V0
9D00361C  01A73823   SUBU A3, T5, A3
9D003620  0186602B   SLTU T4, T4, A2
9D003624  00EC1823   SUBU V1, A3, T4
9D003628  00863023   SUBU A2, A0, A2
9D00362C  01034023   SUBU T0, T0, V1
9D003630  0086182B   SLTU V1, A0, A2
9D003634  01031823   SUBU V1, T0, V1
9D003638  01631004   SLLV V0, V1, T3
9D00363C  01C63006   SRLV A2, A2, T6
9D003640  00461025   OR V0, V0, A2
9D003644  01C31806   SRLV V1, V1, T6
9D003648  03E00008   JR RA
9D00364C  00000000   NOP
9D003650  00C04025   OR T0, A2, ZERO
9D003654  00E01825   OR V1, A3, ZERO
9D003658  00805025   OR T2, A0, ZERO
9D00365C  14E000A3   BNE A3, ZERO, 0x9D0038EC
9D003660  00A01025   OR V0, A1, ZERO
9D003664  00A6302B   SLTU A2, A1, A2
9D003668  10C00034   BEQ A2, ZERO, 0x9D00373C
9D00366C  00000000   NOP
9D003670  71052820   CLZ A1, T0
9D003674  50A00008   BEQL A1, ZERO, 0x9D003698
9D003678  00082C02   SRL A1, T0, 16
9D00367C  00052023   SUBU A0, ZERO, A1
9D003680  008A2006   SRLV A0, T2, A0
9D003684  00A21004   SLLV V0, V0, A1
9D003688  00A84004   SLLV T0, T0, A1
9D00368C  00821025   OR V0, A0, V0
9D003690  00AA5004   SLLV T2, T2, A1
9D003694  00082C02   SRL A1, T0, 16
9D003698  0045001B   DIVU V0, A1
9D00369C  00A001F4   TEQ A1, ZERO
9D0036A0  3107FFFF   ANDI A3, T0, -1
9D0036A4  000A2402   SRL A0, T2, 16
9D0036A8  00003012   MFLO A2
9D0036AC  00001010   MFHI V0
9D0036B0  00021400   SLL V0, V0, 16
9D0036B4  00442025   OR A0, V0, A0
9D0036B8  70E64802   MUL T1, A3, A2
9D0036BC  0089582B   SLTU T3, A0, T1
9D0036C0  1160000A   BEQ T3, ZERO, 0x9D0036EC
9D0036C4  00C01025   OR V0, A2, ZERO
9D0036C8  00882021   ADDU A0, A0, T0
9D0036CC  0088582B   SLTU T3, A0, T0
9D0036D0  15600006   BNE T3, ZERO, 0x9D0036EC
9D0036D4  24C2FFFF   ADDIU V0, A2, -1
9D0036D8  0089582B   SLTU T3, A0, T1
9D0036DC  51600004   BEQL T3, ZERO, 0x9D0036F0
9D0036E0  00892023   SUBU A0, A0, T1
9D0036E4  24C2FFFE   ADDIU V0, A2, -2
9D0036E8  00882021   ADDU A0, A0, T0
9D0036EC  00892023   SUBU A0, A0, T1
9D0036F0  0085001B   DIVU A0, A1
9D0036F4  00A001F4   TEQ A1, ZERO
9D0036F8  314AFFFF   ANDI T2, T2, -1
9D0036FC  00002012   MFLO A0
9D003700  00002810   MFHI A1
9D003704  00052C00   SLL A1, A1, 16
9D003708  00AA5025   OR T2, A1, T2
9D00370C  70E43802   MUL A3, A3, A0
9D003710  0147282B   SLTU A1, T2, A3
9D003714  10A00006   BEQ A1, ZERO, 0x9D003730
9D003718  00803025   OR A2, A0, ZERO
9D00371C  010A5021   ADDU T2, T0, T2
9D003720  0148402B   SLTU T0, T2, T0
9D003724  2486FFFF   ADDIU A2, A0, -1
9D003728  11000036   BEQ T0, ZERO, 0x9D003804
9D00372C  0147502B   SLTU T2, T2, A3
9D003730  00021400   SLL V0, V0, 16
9D003734  03E00008   JR RA
9D003738  00461025   OR V0, V0, A2
9D00373C  15000006   BNE T0, ZERO, 0x9D003758
9D003740  71021020   CLZ V0, T0
9D003744  24020001   ADDIU V0, ZERO, 1
9D003748  0048001B   DIVU V0, T0
9D00374C  010001F4   TEQ T0, ZERO
9D003750  00004012   MFLO T0
9D003754  71021020   CLZ V0, T0
9D003758  1440002E   BNE V0, ZERO, 0x9D003814
9D00375C  24090020   ADDIU T1, ZERO, 32
9D003760  00A82823   SUBU A1, A1, T0
9D003764  24030001   ADDIU V1, ZERO, 1
9D003768  00083402   SRL A2, T0, 16
9D00376C  00A6001B   DIVU A1, A2
9D003770  00C001F4   TEQ A2, ZERO
9D003774  3107FFFF   ANDI A3, T0, -1
9D003778  000A2402   SRL A0, T2, 16
9D00377C  00002812   MFLO A1
9D003780  00001010   MFHI V0
9D003784  00021400   SLL V0, V0, 16
9D003788  00442025   OR A0, V0, A0
9D00378C  70E54802   MUL T1, A3, A1
9D003790  0089582B   SLTU T3, A0, T1
9D003794  1160000A   BEQ T3, ZERO, 0x9D0037C0
9D003798  00A01025   OR V0, A1, ZERO
9D00379C  00882021   ADDU A0, A0, T0
9D0037A0  0088582B   SLTU T3, A0, T0
9D0037A4  15600006   BNE T3, ZERO, 0x9D0037C0
9D0037A8  24A2FFFF   ADDIU V0, A1, -1
9D0037AC  0089582B   SLTU T3, A0, T1
9D0037B0  51600004   BEQL T3, ZERO, 0x9D0037C4
9D0037B4  00892023   SUBU A0, A0, T1
9D0037B8  24A2FFFE   ADDIU V0, A1, -2
9D0037BC  00882021   ADDU A0, A0, T0
9D0037C0  00892023   SUBU A0, A0, T1
9D0037C4  0086001B   DIVU A0, A2
9D0037C8  00C001F4   TEQ A2, ZERO
9D0037CC  314AFFFF   ANDI T2, T2, -1
9D0037D0  00002012   MFLO A0
9D0037D4  00003010   MFHI A2
9D0037D8  00063400   SLL A2, A2, 16
9D0037DC  00CA5025   OR T2, A2, T2
9D0037E0  70E42802   MUL A1, A3, A0
9D0037E4  0145382B   SLTU A3, T2, A1
9D0037E8  10E0FFD1   BEQ A3, ZERO, 0x9D003730
9D0037EC  00803025   OR A2, A0, ZERO
9D0037F0  010A5021   ADDU T2, T0, T2
9D0037F4  0148402B   SLTU T0, T2, T0
9D0037F8  1500FFCD   BNE T0, ZERO, 0x9D003730
9D0037FC  2486FFFF   ADDIU A2, A0, -1
9D003800  0145502B   SLTU T2, T2, A1
9D003804  5540FFCA   BNEL T2, ZERO, 0x9D003730
9D003808  2486FFFE   ADDIU A2, A0, -2
9D00380C  1000FFC9   BEQ ZERO, ZERO, 0x9D003734
9D003810  00021400   SLL V0, V0, 16
9D003814  01224823   SUBU T1, T1, V0
9D003818  00484004   SLLV T0, T0, V0
9D00381C  00451804   SLLV V1, A1, V0
9D003820  00445004   SLLV T2, A0, V0
9D003824  01252806   SRLV A1, A1, T1
9D003828  00081402   SRL V0, T0, 16
9D00382C  00A2001B   DIVU A1, V0
9D003830  004001F4   TEQ V0, ZERO
9D003834  3106FFFF   ANDI A2, T0, -1
9D003838  01243806   SRLV A3, A0, T1
9D00383C  00E33825   OR A3, A3, V1
9D003840  00071C02   SRL V1, A3, 16
9D003844  00002812   MFLO A1
9D003848  00002010   MFHI A0
9D00384C  00042400   SLL A0, A0, 16
9D003850  00832025   OR A0, A0, V1
9D003854  70C54802   MUL T1, A2, A1
9D003858  0089582B   SLTU T3, A0, T1
9D00385C  1160000A   BEQ T3, ZERO, 0x9D003888
9D003860  00A01825   OR V1, A1, ZERO
9D003864  00882021   ADDU A0, A0, T0
9D003868  0088582B   SLTU T3, A0, T0
9D00386C  15600006   BNE T3, ZERO, 0x9D003888
9D003870  24A3FFFF   ADDIU V1, A1, -1
9D003874  0089582B   SLTU T3, A0, T1
9D003878  51600004   BEQL T3, ZERO, 0x9D00388C
9D00387C  00892023   SUBU A0, A0, T1
9D003880  24A3FFFE   ADDIU V1, A1, -2
9D003884  00882021   ADDU A0, A0, T0
9D003888  00892023   SUBU A0, A0, T1
9D00388C  0082001B   DIVU A0, V0
9D003890  004001F4   TEQ V0, ZERO
9D003894  30E5FFFF   ANDI A1, A3, -1
9D003898  00001012   MFLO V0
9D00389C  00002010   MFHI A0
9D0038A0  00042400   SLL A0, A0, 16
9D0038A4  00852825   OR A1, A0, A1
9D0038A8  70C23002   MUL A2, A2, V0
9D0038AC  00A6382B   SLTU A3, A1, A2
9D0038B0  10E0000A   BEQ A3, ZERO, 0x9D0038DC
9D0038B4  00402025   OR A0, V0, ZERO
9D0038B8  00A82821   ADDU A1, A1, T0
9D0038BC  00A8382B   SLTU A3, A1, T0
9D0038C0  14E00006   BNE A3, ZERO, 0x9D0038DC
9D0038C4  2444FFFF   ADDIU A0, V0, -1
9D0038C8  00A6382B   SLTU A3, A1, A2
9D0038CC  50E00004   BEQL A3, ZERO, 0x9D0038E0
9D0038D0  00031C00   SLL V1, V1, 16
9D0038D4  2444FFFE   ADDIU A0, V0, -2
9D0038D8  00A82821   ADDU A1, A1, T0
9D0038DC  00031C00   SLL V1, V1, 16
9D0038E0  00A62823   SUBU A1, A1, A2
9D0038E4  1000FFA0   BEQ ZERO, ZERO, 0x9D003768
9D0038E8  00641825   OR V1, V1, A0
9D0038EC  00A7102B   SLTU V0, A1, A3
9D0038F0  1440004F   BNE V0, ZERO, 0x9D003A30
9D0038F4  00001825   OR V1, ZERO, ZERO
9D0038F8  70EA5020   CLZ T2, A3
9D0038FC  15400008   BNE T2, ZERO, 0x9D003920
9D003900  24090020   ADDIU T1, ZERO, 32
9D003904  00E5282B   SLTU A1, A3, A1
9D003908  54A0004A   BNEL A1, ZERO, 0x9D003A34
9D00390C  24020001   ADDIU V0, ZERO, 1
9D003910  0086102B   SLTU V0, A0, A2
9D003914  38420001   XORI V0, V0, 1
9D003918  03E00008   JR RA
9D00391C  00001825   OR V1, ZERO, ZERO
9D003920  012A4823   SUBU T1, T1, T2
9D003924  01261006   SRLV V0, A2, T1
9D003928  01473804   SLLV A3, A3, T2
9D00392C  00473825   OR A3, V0, A3
9D003930  00074402   SRL T0, A3, 16
9D003934  01451004   SLLV V0, A1, T2
9D003938  01252806   SRLV A1, A1, T1
9D00393C  00A8001B   DIVU A1, T0
9D003940  010001F4   TEQ T0, ZERO
9D003944  01246006   SRLV T4, A0, T1
9D003948  30EBFFFF   ANDI T3, A3, -1
9D00394C  01826025   OR T4, T4, V0
9D003950  000C1C02   SRL V1, T4, 16
9D003954  01463004   SLLV A2, A2, T2
9D003958  00002812   MFLO A1
9D00395C  00004810   MFHI T1
9D003960  00094C00   SLL T1, T1, 16
9D003964  01234825   OR T1, T1, V1
9D003968  71651002   MUL V0, T3, A1
9D00396C  0122682B   SLTU T5, T1, V0
9D003970  11A0000A   BEQ T5, ZERO, 0x9D00399C
9D003974  00A01825   OR V1, A1, ZERO
9D003978  01274821   ADDU T1, T1, A3
9D00397C  0127682B   SLTU T5, T1, A3
9D003980  15A00006   BNE T5, ZERO, 0x9D00399C
9D003984  24A3FFFF   ADDIU V1, A1, -1
9D003988  0122682B   SLTU T5, T1, V0
9D00398C  51A00004   BEQL T5, ZERO, 0x9D0039A0
9D003990  01224823   SUBU T1, T1, V0
9D003994  24A3FFFE   ADDIU V1, A1, -2
9D003998  01274821   ADDU T1, T1, A3
9D00399C  01224823   SUBU T1, T1, V0
9D0039A0  0128001B   DIVU T1, T0
9D0039A4  010001F4   TEQ T0, ZERO
9D0039A8  3185FFFF   ANDI A1, T4, -1
9D0039AC  00004012   MFLO T0
9D0039B0  00004810   MFHI T1
9D0039B4  00094C00   SLL T1, T1, 16
9D0039B8  01252825   OR A1, T1, A1
9D0039BC  71685802   MUL T3, T3, T0
9D0039C0  00AB102B   SLTU V0, A1, T3
9D0039C4  1040000A   BEQ V0, ZERO, 0x9D0039F0
9D0039C8  01004825   OR T1, T0, ZERO
9D0039CC  00A72821   ADDU A1, A1, A3
9D0039D0  00A7102B   SLTU V0, A1, A3
9D0039D4  14400006   BNE V0, ZERO, 0x9D0039F0
9D0039D8  2509FFFF   ADDIU T1, T0, -1
9D0039DC  00AB102B   SLTU V0, A1, T3
9D0039E0  10400004   BEQ V0, ZERO, 0x9D0039F4
9D0039E4  00031400   SLL V0, V1, 16
9D0039E8  2509FFFE   ADDIU T1, T0, -2
9D0039EC  00A72821   ADDU A1, A1, A3
9D0039F0  00031400   SLL V0, V1, 16
9D0039F4  00491025   OR V0, V0, T1
9D0039F8  00460019   MULTU 0, V0, A2
9D0039FC  00AB2823   SUBU A1, A1, T3
9D003A00  00003810   MFHI A3
9D003A04  00A7182B   SLTU V1, A1, A3
9D003A08  14600007   BNE V1, ZERO, 0x9D003A28
9D003A0C  00003012   MFLO A2
9D003A10  14A70008   BNE A1, A3, 0x9D003A34
9D003A14  00001825   OR V1, ZERO, ZERO
9D003A18  01442004   SLLV A0, A0, T2
9D003A1C  0086202B   SLTU A0, A0, A2
9D003A20  10800004   BEQ A0, ZERO, 0x9D003A34
9D003A24  00000000   NOP
9D003A28  1000FFBB   BEQ ZERO, ZERO, 0x9D003918
9D003A2C  2442FFFF   ADDIU V0, V0, -1
9D003A30  00001025   OR V0, ZERO, ZERO
9D003A34  03E00008   JR RA
9D003A38  00000000   NOP
9D0062C0  10C00008   BEQ A2, ZERO, 0x9D0062E4
9D0062C4  00801025   OR V0, A0, ZERO
9D0062C8  24030020   ADDIU V1, ZERO, 32
9D0062CC  00661823   SUBU V1, V1, A2
9D0062D0  1C600006   BGTZ V1, 0x9D0062EC
9D0062D4  00C52006   SRLV A0, A1, A2
9D0062D8  00002025   OR A0, ZERO, ZERO
9D0062DC  00C51006   SRLV V0, A1, A2
9D0062E0  00802825   OR A1, A0, ZERO
9D0062E4  03E00008   JR RA
9D0062E8  00A01825   OR V1, A1, ZERO
9D0062EC  00C21006   SRLV V0, V0, A2
9D0062F0  00652804   SLLV A1, A1, V1
9D0062F4  1000FFFA   BEQ ZERO, ZERO, 0x9D0062E0
9D0062F8  00451025   OR V0, V0, A1
9D0062FC  10C00008   BEQ A2, ZERO, 0x9D006320
9D006300  00801025   OR V0, A0, ZERO
9D006304  24040020   ADDIU A0, ZERO, 32
9D006308  00862023   SUBU A0, A0, A2
9D00630C  5C800006   BGTZL A0, 0x9D006328
9D006310  00C21804   SLLV V1, V0, A2
9D006314  00001825   OR V1, ZERO, ZERO
9D006318  00C22804   SLLV A1, V0, A2
9D00631C  00601025   OR V0, V1, ZERO
9D006320  03E00008   JR RA
9D006324  00A01825   OR V1, A1, ZERO
9D006328  00C52804   SLLV A1, A1, A2
9D00632C  00821006   SRLV V0, V0, A0
9D006330  1000FFFA   BEQ ZERO, ZERO, 0x9D00631C
9D006334  00A22825   OR A1, A1, V0
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/write.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D005890  27BDFFE0   ADDIU SP, SP, -32
9D005894  AFB10014   SW S1, 20(SP)
9D005898  AFBF001C   SW RA, 28(SP)
9D00589C  AFB20018   SW S2, 24(SP)
9D0058A0  AFB00010   SW S0, 16(SP)
9D0058A4  10A0000D   BEQ A1, ZERO, 0x9D0058DC
9D0058A8  00008825   OR S1, ZERO, ZERO
9D0058AC  50C0000C   BEQL A2, ZERO, 0x9D0058E0
9D0058B0  8FBF001C   LW RA, 28(SP)
9D0058B4  2C840003   SLTIU A0, A0, 3
9D0058B8  10800008   BEQ A0, ZERO, 0x9D0058DC
9D0058BC  00C08825   OR S1, A2, ZERO
9D0058C0  3C020000   LUI V0, 0
9D0058C4  24420000   ADDIU V0, V0, 0
9D0058C8  1040000B   BEQ V0, ZERO, 0x9D0058F8
9D0058CC  00A08025   OR S0, A1, ZERO
9D0058D0  00C02825   OR A1, A2, ZERO
9D0058D4  0C000000   JAL 0x90000000
9D0058D8  02002025   OR A0, S0, ZERO
9D0058DC  8FBF001C   LW RA, 28(SP)
9D0058E0  02201025   OR V0, S1, ZERO
9D0058E4  8FB20018   LW S2, 24(SP)
9D0058E8  8FB10014   LW S1, 20(SP)
9D0058EC  8FB00010   LW S0, 16(SP)
9D0058F0  03E00008   JR RA
9D0058F4  27BD0020   ADDIU SP, SP, 32
9D0058F8  00A69021   ADDU S2, A1, A2
9D0058FC  82040000   LB A0, 0(S0)
9D005900  0F40132C   JAL _mon_putc
9D005904  26100001   ADDIU S0, S0, 1
9D005908  5650FFFD   BNEL S2, S0, 0x9D005900
9D00590C  82040000   LB A0, 0(S0)
9D005910  1000FFF3   BEQ ZERO, ZERO, 0x9D0058E0
9D005914  8FBF001C   LW RA, 28(SP)
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/sbrk.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0048E8  27BDFFD8   ADDIU SP, SP, -40
9D0048EC  AFB40020   SW S4, 32(SP)
9D0048F0  3C14A000   LUI S4, -24576
9D0048F4  8E820F88   LW V0, 3976(S4)
9D0048F8  AFBF0024   SW RA, 36(SP)
9D0048FC  AFB3001C   SW S3, 28(SP)
9D004900  AFB20018   SW S2, 24(SP)
9D004904  AFB10014   SW S1, 20(SP)
9D004908  1440002E   BNE V0, ZERO, 0x9D0049C4
9D00490C  AFB00010   SW S0, 16(SP)
9D004910  3C12A000   LUI S2, -24576
9D004914  8E510F90   LW S1, 3984(S2)
9D004918  16200003   BNE S1, ZERO, 0x9D004928
9D00491C  3C13A000   LUI S3, -24576
9D004920  3C11A000   LUI S1, -24576
9D004924  26310FA0   ADDIU S1, S1, 4000
9D004928  8E700F8C   LW S0, 3980(S3)
9D00492C  16000006   BNE S0, ZERO, 0x9D004948
9D004930  00111F82   SRL V1, S1, 30
9D004934  3C10A000   LUI S0, -24576
9D004938  3C020000   LUI V0, 0
9D00493C  26100FA0   ADDIU S0, S0, 4000
9D004940  24420000   ADDIU V0, V0, 0
9D004944  02028021   ADDU S0, S0, V0
9D004948  24020002   ADDIU V0, ZERO, 2
9D00494C  50620001   BEQL V1, V0, 0x9D004954
9D004950  7E31E000   EXT S1, S1, 0, 29
9D004954  00101F82   SRL V1, S0, 30
9D004958  24020002   ADDIU V0, ZERO, 2
9D00495C  50620001   BEQL V1, V0, 0x9D004964
9D004960  7E10E000   EXT S0, S0, 0, 29
9D004964  0F4018F1   JAL _stub_sbd_memlayout
9D004968  00000000   NOP
9D00496C  8C430000   LW V1, 0(V0)
9D004970  8C420004   LW V0, 4(V0)
9D004974  0223202B   SLTU A0, S1, V1
9D004978  14800004   BNE A0, ZERO, 0x9D00498C
9D00497C  00621021   ADDU V0, V1, V0
9D004980  0222202B   SLTU A0, S1, V0
9D004984  54800029   BNEL A0, ZERO, _sbrk_init::_sbrk_init
9D004988  0211182B   SLTU V1, S0, S1
9D00498C  3C04A000   LUI A0, -24576
9D004990  2484042C   ADDIU A0, A0, 1068
9D004994  7C84E000   EXT A0, A0, 0, 29
9D004998  0064202B   SLTU A0, V1, A0
9D00499C  14800009   BNE A0, ZERO, 0x9D0049C4
9D0049A0  0203202B   SLTU A0, S0, V1
9D0049A4  14800005   BNE A0, ZERO, 0x9D0049BC
9D0049A8  0062202B   SLTU A0, V1, V0
9D0049AC  0202202B   SLTU A0, S0, V0
9D0049B0  5480000C   BNEL A0, ZERO, _sbrk_init::_sbrk_init
9D0049B4  02001025   OR V0, S0, ZERO
9D0049B8  0062202B   SLTU A0, V1, V0
9D0049BC  1480000A   BNE A0, ZERO, 0x9D0049E8
9D0049C0  3C04A000   LUI A0, -24576
9D0049C4  8FBF0024   LW RA, 36(SP)
9D0049C8  8FB40020   LW S4, 32(SP)
9D0049CC  8FB3001C   LW S3, 28(SP)
9D0049D0  8FB20018   LW S2, 24(SP)
9D0049D4  8FB10014   LW S1, 20(SP)
9D0049D8  8FB00010   LW S0, 16(SP)
9D0049DC  03E00008   JR RA
9D0049E0  27BD0028   ADDIU SP, SP, 40
9D0049E4  3C04A000   LUI A0, -24576
9D0049E8  2484042C   ADDIU A0, A0, 1068
9D0049EC  00042742   SRL A0, A0, 29
9D0049F0  24050005   ADDIU A1, ZERO, 5
9D0049F4  14850009   BNE A0, A1, _sbrk_init::_sbrk_init
9D0049F8  24050004   ADDIU A1, ZERO, 4
9D0049FC  3C04A000   LUI A0, -24576
9D004A00  00641825   OR V1, V1, A0
9D004A04  00441025   OR V0, V0, A0
9D004A08  AE430F90   SW V1, 3984(S2)
9D004A0C  AE620F8C   SW V0, 3980(S3)
9D004A10  8E420F90   LW V0, 3984(S2)
9D004A14  1000FFEB   BEQ ZERO, ZERO, 0x9D0049C4
9D004A18  AE820F88   SW V0, 3976(S4)
9D004A1C  5485FFFC   BNEL A0, A1, 0x9D004A10
9D004A20  AE420F90   SW V0, 3984(S2)
9D004A24  1000FFF6   BEQ ZERO, ZERO, 0x9D004A00
9D004A28  3C048000   LUI A0, -32768
9D004A2C  1460FFED   BNE V1, ZERO, _sbrk_init::_sbrk_init
9D004A30  02201825   OR V1, S1, ZERO
9D004A34  1000FFDE   BEQ ZERO, ZERO, 0x9D0049B0
9D004A38  0202202B   SLTU A0, S0, V0
9D005434  27BDFFE0   ADDIU SP, SP, -32
9D005438  AFB00014   SW S0, 20(SP)
9D00543C  3C10A000   LUI S0, -24576
9D005440  8E020F88   LW V0, 3976(S0)
9D005444  AFB10018   SW S1, 24(SP)
9D005448  AFBF001C   SW RA, 28(SP)
9D00544C  1440000F   BNE V0, ZERO, 0x9D00548C
9D005450  00808825   OR S1, A0, ZERO
9D005454  0F40123A   JAL _sbrk_init
9D005458  00000000   NOP
9D00545C  8E020F88   LW V0, 3976(S0)
9D005460  1440000B   BNE V0, ZERO, 0x9D005490
9D005464  00000000   NOP
9D005468  3C02A000   LUI V0, -24576
9D00546C  2403000C   ADDIU V1, ZERO, 12
9D005470  AC430F98   SW V1, 3992(V0)
9D005474  2402FFFF   ADDIU V0, ZERO, -1
9D005478  8FBF001C   LW RA, 28(SP)
9D00547C  8FB10018   LW S1, 24(SP)
9D005480  8FB00014   LW S0, 20(SP)
9D005484  03E00008   JR RA
9D005488  27BD0020   ADDIU SP, SP, 32
9D00548C  8E020F88   LW V0, 3976(S0)
9D005490  1A20000A   BLEZ S1, 0x9D0054BC
9D005494  00511821   ADDU V1, V0, S1
9D005498  0062202B   SLTU A0, V1, V0
9D00549C  1480FFF2   BNE A0, ZERO, 0x9D005468
9D0054A0  3C04A000   LUI A0, -24576
9D0054A4  8C840F8C   LW A0, 3980(A0)
9D0054A8  0083202B   SLTU A0, A0, V1
9D0054AC  5480FFEF   BNEL A0, ZERO, 0x9D00546C
9D0054B0  3C02A000   LUI V0, -24576
9D0054B4  1000FFF0   BEQ ZERO, ZERO, 0x9D005478
9D0054B8  AE030F88   SW V1, 3976(S0)
9D0054BC  0043202B   SLTU A0, V0, V1
9D0054C0  14800005   BNE A0, ZERO, 0x9D0054D8
9D0054C4  3C04A000   LUI A0, -24576
9D0054C8  8C840F90   LW A0, 3984(A0)
9D0054CC  0064202B   SLTU A0, V1, A0
9D0054D0  5080FFE9   BEQL A0, ZERO, 0x9D005478
9D0054D4  AE030F88   SW V1, 3976(S0)
9D0054D8  3C02A000   LUI V0, -24576
9D0054DC  1000FFE4   BEQ ZERO, ZERO, 0x9D005470
9D0054E0  24030016   ADDIU V1, ZERO, 22
9D005FF0  27BDFFE8   ADDIU SP, SP, -24
9D005FF4  AFB00010   SW S0, 16(SP)
9D005FF8  AFBF0014   SW RA, 20(SP)
9D005FFC  0F40150D   JAL _sbrk
9D006000  00808025   OR S0, A0, ZERO
9D006004  1A000008   BLEZ S0, 0x9D006028
9D006008  00401825   OR V1, V0, ZERO
9D00600C  2402FFFF   ADDIU V0, ZERO, -1
9D006010  10620005   BEQ V1, V0, 0x9D006028
9D006014  00602025   OR A0, V1, ZERO
9D006018  02003025   OR A2, S0, ZERO
9D00601C  0F401564   JAL memset
9D006020  00002825   OR A1, ZERO, ZERO
9D006024  00401825   OR V1, V0, ZERO
9D006028  8FBF0014   LW RA, 20(SP)
9D00602C  00601025   OR V0, V1, ZERO
9D006030  8FB00010   LW S0, 16(SP)
9D006034  03E00008   JR RA
9D006038  27BD0018   ADDIU SP, SP, 24
9D0063C4  3C04A000   LUI A0, -24576
9D0063D4  3C03A000   LUI V1, -24576
9D0063D8  24630FA0   ADDIU V1, V1, 4000
9D0063DC  AC830F70   SW V1, 3952(A0)
9D0063E0  3C030000   LUI V1, 0
9D0063E4  24630000   ADDIU V1, V1, 0
9D0063E8  03E00008   JR RA
9D0063EC  AC430004   SW V1, 4(V0)
9D0066A0  03E00008   JR RA
9D0066A4  24020080   ADDIU V0, ZERO, 128
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/lseek.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0066A8  03E00008   JR RA
9D0066AC  00001025   OR V0, ZERO, ZERO
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/default-on-reset.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006668  03E00008   JR RA
9D00666C  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/default-on-bootstrap.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006670  03E00008   JR RA
9D006674  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/default-general-exception-handler.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006084  3C020000   LUI V0, 0
9D006088  24420001   ADDIU V0, V0, 1
9D00608C  10400005   BEQ V0, ZERO, 0x9D0060A4
9D006090  3C029D00   LUI V0, -25344
9D006094  24426644   ADDIU V0, V0, 26180
9D006098  10400003   BEQ V0, ZERO, 0x9D0060A8
9D00609C  3C029D00   LUI V0, -25344
9D0060A0  7000003F   SDBBP 0
9D0060A4  3C029D00   LUI V0, -25344
9D0060A8  24426114   ADDIU V0, V0, 24852
9D0060AC  10400005   BEQ V0, ZERO, 0x9D0060C4
9D0060B0  00000000   NOP
9D0060B4  27BDFFE8   ADDIU SP, SP, -24
9D0060B8  AFBF0014   SW RA, 20(SP)
9D0060BC  0040F809   JALR V0
9D0060C0  00000000   NOP
9D0060C4  1000FFFF   BEQ ZERO, ZERO, 0x9D0060C4
9D0060C8  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/default-bootstrap-exception-handler.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D00603C  3C020000   LUI V0, 0
9D006040  24420001   ADDIU V0, V0, 1
9D006044  10400005   BEQ V0, ZERO, 0x9D00605C
9D006048  3C029D00   LUI V0, -25344
9D00604C  24426644   ADDIU V0, V0, 26180
9D006050  10400003   BEQ V0, ZERO, 0x9D006060
9D006054  3C029D00   LUI V0, -25344
9D006058  7000003F   SDBBP 0
9D00605C  3C029D00   LUI V0, -25344
9D006060  24426114   ADDIU V0, V0, 24852
9D006064  10400005   BEQ V0, ZERO, 0x9D00607C
9D006068  00000000   NOP
9D00606C  27BDFFE8   ADDIU SP, SP, -24
9D006070  AFBF0014   SW RA, 20(SP)
9D006074  0040F809   JALR V0
9D006078  00000000   NOP
9D00607C  1000FFFF   BEQ ZERO, ZERO, 0x9D00607C
9D006080  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/close.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0066B0  03E00008   JR RA
9D0066B4  00001025   OR V0, ZERO, ZERO
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/stubs/_mon_putc.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D004CB0  3C02A000   LUI V0, -24576
9D004CB4  8C430204   LW V1, 516(V0)
9D004CB8  14600013   BNE V1, ZERO, 0x9D004D08
9D004CBC  00803025   OR A2, A0, ZERO
9D004CC0  3C020000   LUI V0, 0
9D004CC4  27BDFFE8   ADDIU SP, SP, -24
9D004CC8  24420000   ADDIU V0, V0, 0
9D004CCC  10400006   BEQ V0, ZERO, 0x9D004CE8
9D004CD0  AFBF0014   SW RA, 20(SP)
9D004CD4  0C000000   JAL 0x90000000
9D004CD8  00000000   NOP
9D004CDC  8FBF0014   LW RA, 20(SP)
9D004CE0  03E00008   JR RA
9D004CE4  27BD0018   ADDIU SP, SP, 24
9D004CE8  3C020000   LUI V0, 0
9D004CEC  24420000   ADDIU V0, V0, 0
9D004CF0  10400025   BEQ V0, ZERO, 0x9D004D88
9D004CF4  3C05BF80   LUI A1, -16512
9D004CF8  0C000000   JAL 0x90000000
9D004CFC  00000000   NOP
9D004D00  1000FFF7   BEQ ZERO, ZERO, 0x9D004CE0
9D004D04  8FBF0014   LW RA, 20(SP)
9D004D08  3C02BF80   LUI V0, -16512
9D004D0C  24426010   ADDIU V0, V0, 24592
9D004D10  1040002F   BEQ V0, ZERO, 0x9D004DD0
9D004D14  00000000   NOP
9D004D18  24040001   ADDIU A0, ZERO, 1
9D004D1C  14640012   BNE V1, A0, 0x9D004D68
9D004D20  3C03BF80   LUI V1, -16512
9D004D24  3C03BF80   LUI V1, -16512
9D004D28  3C04BF80   LUI A0, -16512
9D004D2C  3C05BF80   LUI A1, -16512
9D004D30  24636020   ADDIU V1, V1, 24608
9D004D34  24846018   ADDIU A0, A0, 24600
9D004D38  24A56008   ADDIU A1, A1, 24584
9D004D3C  34078000   ORI A3, ZERO, -32768
9D004D40  ACA70000   SW A3, 0(A1)
9D004D44  24050400   ADDIU A1, ZERO, 1024
9D004D48  AC850000   SW A1, 0(A0)
9D004D4C  8C440000   LW A0, 0(V0)
9D004D50  30840100   ANDI A0, A0, 256
9D004D54  1080FFFD   BEQ A0, ZERO, 0x9D004D4C
9D004D58  00000000   NOP
9D004D5C  AC660000   SW A2, 0(V1)
9D004D60  03E00008   JR RA
9D004D64  00000000   NOP
9D004D68  3C04BF80   LUI A0, -16512
9D004D6C  3C05BF80   LUI A1, -16512
9D004D70  3C02BF80   LUI V0, -16512
9D004D74  24636220   ADDIU V1, V1, 25120
9D004D78  24846218   ADDIU A0, A0, 25112
9D004D7C  24A56208   ADDIU A1, A1, 25096
9D004D80  1000FFEE   BEQ ZERO, ZERO, 0x9D004D3C
9D004D84  24426210   ADDIU V0, V0, 25104
9D004D88  24A56208   ADDIU A1, A1, 25096
9D004D8C  3C04BF80   LUI A0, -16512
9D004D90  34078000   ORI A3, ZERO, -32768
9D004D94  ACA70000   SW A3, 0(A1)
9D004D98  3C03BF80   LUI V1, -16512
9D004D9C  24846218   ADDIU A0, A0, 25112
9D004DA0  3C02BF80   LUI V0, -16512
9D004DA4  24050400   ADDIU A1, ZERO, 1024
9D004DA8  24636220   ADDIU V1, V1, 25120
9D004DAC  24426210   ADDIU V0, V0, 25104
9D004DB0  AC850000   SW A1, 0(A0)
9D004DB4  8C440000   LW A0, 0(V0)
9D004DB8  30840100   ANDI A0, A0, 256
9D004DBC  1080FFFD   BEQ A0, ZERO, 0x9D004DB4
9D004DC0  00000000   NOP
9D004DC4  AC660000   SW A2, 0(V1)
9D004DC8  1000FFC5   BEQ ZERO, ZERO, 0x9D004CE0
9D004DCC  8FBF0014   LW RA, 20(SP)
9D004DD0  03E00008   JR RA
9D004DD4  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/startup/software-debug-break.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D006644  7000003F   SDBBP 0
9D006648  03E00008   JR RA
9D00664C  00000000   NOP
---  /data01/build/bamboo/xml-data/build-dir/M32DEV-GMB34-JOB1/build-Linux/pic32m-libs/libpic32/default_vector_dispatch/defaultinterrupt.c
-----*  Optimizer-Generated Procedural Abstractions  *----------------------------------------------
9D0060CC  3C020000   LUI V0, 0
9D0060D0  24420001   ADDIU V0, V0, 1
9D0060D4  10400007   BEQ V0, ZERO, 0x9D0060F4
9D0060D8  3C029D00   LUI V0, -25344
9D0060DC  24426644   ADDIU V0, V0, 26180
9D0060E0  50400005   BEQL V0, ZERO, 0x9D0060F8
9D0060E4  3C029D00   LUI V0, -25344
9D0060E8  7000003F   SDBBP 0
9D0060EC  03E00008   JR RA
9D0060F0  00000000   NOP
9D0060F4  3C029D00   LUI V0, -25344
9D0060F8  24426114   ADDIU V0, V0, 24852
9D0060FC  10400003   BEQ V0, ZERO, 0x9D00610C
9D006100  00000000   NOP
9D006104  0040F809   JALR V0
9D006108  00000000   NOP
9D00610C  03E00008   JR RA
9D006110  00000000   NOP
